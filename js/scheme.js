(function() {
  /*
   0000000   0000000  000   000  00000000  00     00  00000000
  000       000       000   000  000       000   000  000
  0000000   000       000000000  0000000   000000000  0000000
       000  000       000   000  000       000 0 000  000
  0000000    0000000  000   000  00000000  000   000  00000000
  */
  var $, Scheme, _, elem, post, prefs, slash;

  ({prefs, elem, post, slash, $, _} = require('./kxk'));

  Scheme = class Scheme {
    static toggle(schemes = ['dark', 'bright']) {
      var currentScheme, link, nextScheme, nextSchemeIndex;
      if (link = $('style-link')) {
        currentScheme = slash.basename(_.last(link.href.split('/')), '.css');
        nextSchemeIndex = (schemes.indexOf(currentScheme) + 1) % schemes.length;
        nextScheme = schemes[nextSchemeIndex];
        return Scheme.set(nextScheme);
      }
    }

    static set(scheme) {
      var href, link, newlink;
      scheme = slash.basename(scheme, '.css');
      prefs.set('scheme', scheme);
      link = $("#style-link");
      newlink = elem('link', {
        href: `css/${scheme}.css`,
        rel: 'stylesheet',
        type: 'text/css',
        id: 'style-link'
      });
      link.parentNode.replaceChild(newlink, link);
      if (link = $("#style-title")) {
        href = slash.join(slash.dir(link.href), `${scheme}.css`);
        newlink = elem('link', {
          href: href,
          rel: 'stylesheet',
          type: 'text/css',
          id: 'style-title'
        });
        link.parentNode.replaceChild(newlink, link);
      }
      return post.emit('schemeChanged', scheme);
    }

  };

  module.exports = Scheme;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1lLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWUvc2NoZW1lLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBOzs7Ozs7O0FBQUEsTUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQTs7RUFRQSxDQUFBLENBQUUsS0FBRixFQUFTLElBQVQsRUFBZSxJQUFmLEVBQXFCLEtBQXJCLEVBQTRCLENBQTVCLEVBQStCLENBQS9CLENBQUEsR0FBcUMsT0FBQSxDQUFRLE9BQVIsQ0FBckM7O0VBRU0sU0FBTixNQUFBLE9BQUE7SUFFYSxPQUFSLE1BQVEsQ0FBQyxVQUFVLENBQUMsTUFBRCxFQUFTLFFBQVQsQ0FBWCxDQUFBO0FBRUwsVUFBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQTtNQUFBLElBQUcsSUFBQSxHQUFNLENBQUEsQ0FBRSxZQUFGLENBQVQ7UUFDSSxhQUFBLEdBQWdCLEtBQUssQ0FBQyxRQUFOLENBQWUsQ0FBQyxDQUFDLElBQUYsQ0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQVYsQ0FBZ0IsR0FBaEIsQ0FBUCxDQUFmLEVBQTZDLE1BQTdDO1FBQ2hCLGVBQUEsR0FBa0IsQ0FBRSxPQUFPLENBQUMsT0FBUixDQUFnQixhQUFoQixDQUFBLEdBQWlDLENBQW5DLENBQUEsR0FBd0MsT0FBTyxDQUFDO1FBQ2xFLFVBQUEsR0FBYSxPQUFRLENBQUEsZUFBQTtlQUNyQixNQUFNLENBQUMsR0FBUCxDQUFXLFVBQVgsRUFKSjs7SUFGSzs7SUFRSCxPQUFMLEdBQUssQ0FBQyxNQUFELENBQUE7QUFFRixVQUFBLElBQUEsRUFBQSxJQUFBLEVBQUE7TUFBQSxNQUFBLEdBQVMsS0FBSyxDQUFDLFFBQU4sQ0FBZSxNQUFmLEVBQXVCLE1BQXZCO01BQ1QsS0FBSyxDQUFDLEdBQU4sQ0FBVSxRQUFWLEVBQW9CLE1BQXBCO01BRUEsSUFBQSxHQUFNLENBQUEsQ0FBRSxhQUFGO01BQ04sT0FBQSxHQUFVLElBQUEsQ0FBSyxNQUFMLEVBQ047UUFBQSxJQUFBLEVBQU0sQ0FBQSxJQUFBLENBQUEsQ0FBTyxNQUFQLENBQWMsSUFBZCxDQUFOO1FBQ0EsR0FBQSxFQUFNLFlBRE47UUFFQSxJQUFBLEVBQU0sVUFGTjtRQUdBLEVBQUEsRUFBTTtNQUhOLENBRE07TUFLVixJQUFJLENBQUMsVUFBVSxDQUFDLFlBQWhCLENBQTZCLE9BQTdCLEVBQXNDLElBQXRDO01BRUEsSUFBRyxJQUFBLEdBQU0sQ0FBQSxDQUFFLGNBQUYsQ0FBVDtRQUNJLElBQUEsR0FBTyxLQUFLLENBQUMsSUFBTixDQUFXLEtBQUssQ0FBQyxHQUFOLENBQVUsSUFBSSxDQUFDLElBQWYsQ0FBWCxFQUFpQyxDQUFBLENBQUEsQ0FBRyxNQUFILENBQVUsSUFBVixDQUFqQztRQUNQLE9BQUEsR0FBVSxJQUFBLENBQUssTUFBTCxFQUNOO1VBQUEsSUFBQSxFQUFNLElBQU47VUFDQSxHQUFBLEVBQU0sWUFETjtVQUVBLElBQUEsRUFBTSxVQUZOO1VBR0EsRUFBQSxFQUFNO1FBSE4sQ0FETTtRQUtWLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBaEIsQ0FBNkIsT0FBN0IsRUFBc0MsSUFBdEMsRUFQSjs7YUFTQSxJQUFJLENBQUMsSUFBTCxDQUFVLGVBQVYsRUFBMkIsTUFBM0I7SUF0QkU7O0VBVlY7O0VBa0NBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0FBNUNqQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuIDAwMDAwMDAgICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMCAgICAgMDAgIDAwMDAwMDAwXG4wMDAgICAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwXG4wMDAwMDAwICAgMDAwICAgICAgIDAwMDAwMDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwMDAwMFxuICAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgMCAwMDAgIDAwMFxuMDAwMDAwMCAgICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwXG4jIyNcblxueyBwcmVmcywgZWxlbSwgcG9zdCwgc2xhc2gsICQsIF8gfSA9IHJlcXVpcmUgJy4va3hrJ1xuXG5jbGFzcyBTY2hlbWVcblxuICAgIEB0b2dnbGU6IChzY2hlbWVzID0gWydkYXJrJywgJ2JyaWdodCddKSAtPlxuICAgICAgICBcbiAgICAgICAgaWYgbGluayA9JCAnc3R5bGUtbGluaydcbiAgICAgICAgICAgIGN1cnJlbnRTY2hlbWUgPSBzbGFzaC5iYXNlbmFtZSBfLmxhc3QobGluay5ocmVmLnNwbGl0KCcvJykpLCAnLmNzcydcbiAgICAgICAgICAgIG5leHRTY2hlbWVJbmRleCA9ICggc2NoZW1lcy5pbmRleE9mKGN1cnJlbnRTY2hlbWUpICsgMSkgJSBzY2hlbWVzLmxlbmd0aFxuICAgICAgICAgICAgbmV4dFNjaGVtZSA9IHNjaGVtZXNbbmV4dFNjaGVtZUluZGV4XVxuICAgICAgICAgICAgU2NoZW1lLnNldCBuZXh0U2NoZW1lXG5cbiAgICBAc2V0OiAoc2NoZW1lKSAtPlxuICAgICAgICBcbiAgICAgICAgc2NoZW1lID0gc2xhc2guYmFzZW5hbWUgc2NoZW1lLCAnLmNzcydcbiAgICAgICAgcHJlZnMuc2V0ICdzY2hlbWUnLCBzY2hlbWVcbiAgICAgICAgXG4gICAgICAgIGxpbmsgPSQgXCIjc3R5bGUtbGlua1wiXG4gICAgICAgIG5ld2xpbmsgPSBlbGVtICdsaW5rJyxcbiAgICAgICAgICAgIGhyZWY6IFwiY3NzLyN7c2NoZW1lfS5jc3NcIlxuICAgICAgICAgICAgcmVsOiAgJ3N0eWxlc2hlZXQnXG4gICAgICAgICAgICB0eXBlOiAndGV4dC9jc3MnXG4gICAgICAgICAgICBpZDogICAnc3R5bGUtbGluaycgICAgICAgICAgIFxuICAgICAgICBsaW5rLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkIG5ld2xpbmssIGxpbmtcbiAgICAgICAgXG4gICAgICAgIGlmIGxpbmsgPSQgXCIjc3R5bGUtdGl0bGVcIlxuICAgICAgICAgICAgaHJlZiA9IHNsYXNoLmpvaW4gc2xhc2guZGlyKGxpbmsuaHJlZiksIFwiI3tzY2hlbWV9LmNzc1wiXG4gICAgICAgICAgICBuZXdsaW5rID0gZWxlbSAnbGluaycsXG4gICAgICAgICAgICAgICAgaHJlZjogaHJlZlxuICAgICAgICAgICAgICAgIHJlbDogICdzdHlsZXNoZWV0J1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0L2NzcydcbiAgICAgICAgICAgICAgICBpZDogICAnc3R5bGUtdGl0bGUnICAgICAgICAgICBcbiAgICAgICAgICAgIGxpbmsucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQgbmV3bGluaywgbGlua1xuICAgICAgICBcbiAgICAgICAgcG9zdC5lbWl0ICdzY2hlbWVDaGFuZ2VkJywgc2NoZW1lXG5cbm1vZHVsZS5leHBvcnRzID0gU2NoZW1lXG4iXX0=
//# sourceURL=C:/Users/kodi/s/kxk/coffee/scheme.coffee