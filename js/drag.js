(function() {
  /*
  0000000    00000000    0000000    0000000 
  000   000  000   000  000   000  000      
  000   000  0000000    000000000  000  0000
  000   000  000   000  000   000  000   000
  0000000    000   000  000   000   0000000 
  */
  var $, Drag, _, def, error, log, pos, stopEvent;

  ({def, pos, stopEvent, error, log, $, _} = require('./kxk'));

  Drag = class Drag {
    constructor(cfg) {
      var t;
      this.dragStart = this.dragStart.bind(this);
      
      // 00     00   0000000   000   000  00000000  
      // 000   000  000   000  000   000  000       
      // 000000000  000   000   000 000   0000000   
      // 000 0 000  000   000     000     000       
      // 000   000   0000000       0      00000000  
      this.dragMove = this.dragMove.bind(this);
      this.dragUp = this.dragUp.bind(this);
      //  0000000  000000000   0000000   00000000   
      // 000          000     000   000  000   000  
      // 0000000      000     000   000  00000000   
      //      000     000     000   000  000        
      // 0000000      000      0000000   000        
      this.dragStop = this.dragStop.bind(this);
      //  0000000    0000000  000000000  000  000   000   0000000   000000000  00000000  
      // 000   000  000          000     000  000   000  000   000     000     000       
      // 000000000  000          000     000   000 000   000000000     000     0000000   
      // 000   000  000          000     000     000     000   000     000     000       
      // 000   000   0000000     000     000      0      000   000     000     00000000  
      this.activate = this.activate.bind(this);
      this.deactivate = this.deactivate.bind(this);
      _.extend(this, def(cfg, {
        target: null,
        handle: null,
        onStart: null,
        onMove: null,
        onStop: null,
        active: true
      }));
      if (_.isString(this.target)) {
        t = $(this.target);
        if (t == null) {
          return error("Drag -- can't find drag target with id", this.target);
        }
        this.target = t;
      }
      if (this.target == null) {
        return error("Drag -- can't find drag target");
      }
      if ((this.onStart != null) && !_.isFunction(this.onStart)) {
        error("Drag -- onStart not a function?");
      }
      if ((this.onMove != null) && !_.isFunction(this.onMove)) {
        error("Drag -- onMove not a function?");
      }
      if ((this.onEnd != null) && !_.isFunction(this.onEnd)) {
        error("Drag -- onEnd not a function?");
      }
      this.dragging = false;
      this.listening = false;
      if (_.isString(this.handle)) {
        this.handle = $(this.handle);
      }
      if (this.handle == null) {
        this.handle = this.target;
      }
      if (this.active) {
        this.activate();
      }
    }

    //  0000000  000000000   0000000   00000000   000000000  
    // 000          000     000   000  000   000     000     
    // 0000000      000     000000000  0000000       000     
    //      000     000     000   000  000   000     000     
    // 0000000      000     000   000  000   000     000     
    start(p, event) {
      if (!this.dragging && this.listening) {
        this.dragging = true;
        this.startPos = p;
        this.pos = p;
        if ('skip' === (typeof this.onStart === "function" ? this.onStart(this, event) : void 0)) {
          delete this.startPos;
          this.dragging = false;
          return this;
        }
        this.lastPos = p;
        stopEvent(event);
        document.addEventListener('mousemove', this.dragMove);
        document.addEventListener('mouseup', this.dragUp);
      }
      return this;
    }

    dragStart(event) {
      return this.start(pos(event), event);
    }

    dragMove(event) {
      if (this.dragging) {
        this.pos = pos(event);
        this.delta = this.lastPos.to(this.pos);
        this.deltaSum = this.startPos.to(this.pos);
        if ((this.constrainKey != null) && event[this.constrainKey]) {
          if (this.constrain == null) {
            this.constrain = Math.abs(this.delta.x) >= Math.abs(this.delta.y) ? pos(1, 0) : pos(0, 1);
          }
          this.delta.x *= this.constrain.x;
          this.delta.y *= this.constrain.y;
        } else {
          delete this.constrain;
        }
        if (typeof this.onMove === "function") {
          this.onMove(this, event);
        }
        this.lastPos = this.pos;
      }
      return this;
    }

    dragUp(event) {
      delete this.constrain;
      return this.dragStop(event);
    }

    dragStop(event) {
      if (this.dragging) {
        document.removeEventListener('mousemove', this.dragMove);
        document.removeEventListener('mouseup', this.dragUp);
        if ((this.onStop != null) && (event != null)) {
          this.onStop(this, event);
        }
        delete this.lastPos;
        delete this.startPos;
        this.dragging = false;
      }
      return this;
    }

    activate() {
      if (!this.listening) {
        this.listening = true;
        this.handle.addEventListener('mousedown', this.dragStart);
      }
      return this;
    }

    deactivate() {
      if (this.listening) {
        this.handle.removeEventListener('mousedown', this.dragStart);
        this.listening = false;
        if (this.dragging) {
          this.dragStop();
        }
      }
      return this;
    }

  };

  module.exports = Drag;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhZy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlL2RyYWcuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7QUFBQSxNQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTs7RUFRQSxDQUFBLENBQUUsR0FBRixFQUFPLEdBQVAsRUFBWSxTQUFaLEVBQXVCLEtBQXZCLEVBQThCLEdBQTlCLEVBQW1DLENBQW5DLEVBQXNDLENBQXRDLENBQUEsR0FBNEMsT0FBQSxDQUFRLE9BQVIsQ0FBNUM7O0VBRU0sT0FBTixNQUFBLEtBQUE7SUFFSSxXQUFhLENBQUMsR0FBRCxDQUFBO0FBRVQsVUFBQTtVQXFESixDQUFBLGdCQUFBLENBQUEscUJBckRJOzs7Ozs7O1VBNkRKLENBQUEsZUFBQSxDQUFBO1VBa0JBLENBQUEsYUFBQSxDQUFBLGtCQS9FSTs7Ozs7O1VBMEZKLENBQUEsZUFBQSxDQUFBLG9CQTFGSTs7Ozs7O1VBMkdKLENBQUEsZUFBQSxDQUFBO1VBT0EsQ0FBQSxpQkFBQSxDQUFBO01BbEhJLENBQUMsQ0FBQyxNQUFGLENBQVMsSUFBVCxFQUFZLEdBQUEsQ0FBSSxHQUFKLEVBQ0o7UUFBQSxNQUFBLEVBQVUsSUFBVjtRQUNBLE1BQUEsRUFBVSxJQURWO1FBRUEsT0FBQSxFQUFVLElBRlY7UUFHQSxNQUFBLEVBQVUsSUFIVjtRQUlBLE1BQUEsRUFBVSxJQUpWO1FBS0EsTUFBQSxFQUFVO01BTFYsQ0FESSxDQUFaO01BUUEsSUFBRyxDQUFDLENBQUMsUUFBRixDQUFXLElBQUMsQ0FBQSxNQUFaLENBQUg7UUFDSSxDQUFBLEdBQUcsQ0FBQSxDQUFFLElBQUMsQ0FBQSxNQUFIO1FBQ0gsSUFBTyxTQUFQO0FBQ0ksaUJBQU8sS0FBQSxDQUFNLHdDQUFOLEVBQWdELElBQUMsQ0FBQSxNQUFqRCxFQURYOztRQUVBLElBQUMsQ0FB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clxuMDAwMDAwMCAgICAwMDAwMDAwMCAgICAwMDAwMDAwICAgIDAwMDAwMDAgXHJcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgIFxyXG4wMDAgICAwMDAgIDAwMDAwMDAgICAgMDAwMDAwMDAwICAwMDAgIDAwMDBcclxuMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXHJcbjAwMDAwMDAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwIFxyXG4jIyNcclxuXHJcbnsgZGVmLCBwb3MsIHN0b3BFdmVudCwgZXJyb3IsIGxvZywgJCwgXyB9ID0gcmVxdWlyZSAnLi9reGsnXHJcblxyXG5jbGFzcyBEcmFnXHJcblxyXG4gICAgY29uc3RydWN0b3I6IChjZmcpIC0+XHJcbiAgICAgICAgXHJcbiAgICAgICAgXy5leHRlbmQgQCwgZGVmIGNmZyxcclxuICAgICAgICAgICAgICAgIHRhcmdldCAgOiBudWxsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGUgIDogbnVsbFxyXG4gICAgICAgICAgICAgICAgb25TdGFydCA6IG51bGxcclxuICAgICAgICAgICAgICAgIG9uTW92ZSAgOiBudWxsXHJcbiAgICAgICAgICAgICAgICBvblN0b3AgIDogbnVsbFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlICA6IHRydWVcclxuXHJcbiAgICAgICAgaWYgXy5pc1N0cmluZyBAdGFyZ2V0XHJcbiAgICAgICAgICAgIHQgPSQgQHRhcmdldFxyXG4gICAgICAgICAgICBpZiBub3QgdD9cclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvciBcIkRyYWcgLS0gY2FuJ3QgZmluZCBkcmFnIHRhcmdldCB3aXRoIGlkXCIsIEB0YXJnZXRcclxuICAgICAgICAgICAgQHRhcmdldCA9IHRcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgbm90IEB0YXJnZXQ/XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvciBcIkRyYWcgLS0gY2FuJ3QgZmluZCBkcmFnIHRhcmdldFwiXHJcbiAgICAgICAgXHJcbiAgICAgICAgZXJyb3IgXCJEcmFnIC0tIG9uU3RhcnQgbm90IGEgZnVuY3Rpb24/XCIgaWYgQG9uU3RhcnQ/IGFuZCBub3QgXy5pc0Z1bmN0aW9uIEBvblN0YXJ0XHJcbiAgICAgICAgZXJyb3IgXCJEcmFnIC0tIG9uTW92ZSBub3QgYSBmdW5jdGlvbj9cIiBpZiBAb25Nb3ZlPyBhbmQgbm90IF8uaXNGdW5jdGlvbiBAb25Nb3ZlXHJcbiAgICAgICAgZXJyb3IgXCJEcmFnIC0tIG9uRW5kIG5vdCBhIGZ1bmN0aW9uP1wiIGlmIEBvbkVuZD8gYW5kIG5vdCBfLmlzRnVuY3Rpb24gQG9uRW5kXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBAZHJhZ2dpbmcgID0gZmFsc2VcclxuICAgICAgICBAbGlzdGVuaW5nID0gZmFsc2VcclxuICAgICAgICBAaGFuZGxlICAgID0gJChAaGFuZGxlKSBpZiBfLmlzU3RyaW5nIEBoYW5kbGVcclxuICAgICAgICBAaGFuZGxlICAgPz0gQHRhcmdldFxyXG4gICAgICAgIEBhY3RpdmF0ZSgpIGlmIEBhY3RpdmVcclxuXHJcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMDAgIFxyXG4gICAgIyAwMDAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcclxuICAgICMgMDAwMDAwMCAgICAgIDAwMCAgICAgMDAwMDAwMDAwICAwMDAwMDAwICAgICAgIDAwMCAgICAgXHJcbiAgICAjICAgICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIFxyXG4gICAgIyAwMDAwMDAwICAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcclxuICAgIFxyXG4gICAgc3RhcnQ6IChwLCBldmVudCkgLT5cclxuICAgICAgICBcclxuICAgICAgICBpZiBub3QgQGRyYWdnaW5nIGFuZCBAbGlzdGVuaW5nXHJcbiAgICAgICAgICAgIEBkcmFnZ2luZyA9IHRydWVcclxuICAgICAgICAgICAgQHN0YXJ0UG9zID0gcFxyXG4gICAgICAgICAgICBAcG9zICAgICAgPSBwXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAnc2tpcCcgPT0gQG9uU3RhcnQ/IEAsIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgQHN0YXJ0UG9zXHJcbiAgICAgICAgICAgICAgICBAZHJhZ2dpbmcgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBAbGFzdFBvcyAgPSBwXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHN0b3BFdmVudCBldmVudFxyXG4gICAgXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ21vdXNlbW92ZScsIEBkcmFnTW92ZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICdtb3VzZXVwJywgICBAZHJhZ1VwXHJcbiAgICAgICAgQFxyXG4gICAgXHJcbiAgICBkcmFnU3RhcnQ6IChldmVudCkgPT4gQHN0YXJ0IHBvcyhldmVudCksIGV2ZW50XHJcbiAgICAgICAgXHJcbiAgICAjIDAwICAgICAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwICBcclxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIFxyXG4gICAgIyAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMCAwMDAgICAwMDAwMDAwICAgXHJcbiAgICAjIDAwMCAwIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICBcclxuICAgICMgMDAwICAgMDAwICAgMDAwMDAwMCAgICAgICAwICAgICAgMDAwMDAwMDAgIFxyXG4gICAgXHJcbiAgICBkcmFnTW92ZTogKGV2ZW50KSA9PlxyXG5cclxuICAgICAgICBpZiBAZHJhZ2dpbmdcclxuICAgICAgICAgICAgQHBvcyAgICAgID0gcG9zIGV2ZW50XHJcbiAgICAgICAgICAgIEBkZWx0YSAgICA9IEBsYXN0UG9zLnRvIEBwb3NcclxuICAgICAgICAgICAgQGRlbHRhU3VtID0gQHN0YXJ0UG9zLnRvIEBwb3NcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIEBjb25zdHJhaW5LZXk/IGFuZCBldmVudFtAY29uc3RyYWluS2V5XVxyXG4gICAgICAgICAgICAgICAgQGNvbnN0cmFpbiA/PSBpZiBNYXRoLmFicyhAZGVsdGEueCkgPj0gTWF0aC5hYnMoQGRlbHRhLnkpIHRoZW4gcG9zIDEsMCBlbHNlIHBvcyAwLDFcclxuICAgICAgICAgICAgICAgIEBkZWx0YS54ICo9IEBjb25zdHJhaW4ueFxyXG4gICAgICAgICAgICAgICAgQGRlbHRhLnkgKj0gQGNvbnN0cmFpbi55XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBAY29uc3RyYWluXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgQG9uTW92ZT8gQCwgZXZlbnQgXHJcbiAgICAgICAgICAgIEBsYXN0UG9zID0gQHBvc1xyXG4gICAgICAgIEBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgZHJhZ1VwOiAoZXZlbnQpID0+IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGRlbGV0ZSBAY29uc3RyYWluXHJcbiAgICAgICAgQGRyYWdTdG9wIGV2ZW50XHJcblxyXG4gICAgIyAgMDAwMDAwMCAgMDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgXHJcbiAgICAjIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICBcclxuICAgICMgMDAwMDAwMCAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAwMDAwMCAgIFxyXG4gICAgIyAgICAgIDAwMCAgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgXHJcbiAgICAjIDAwMDAwMDAgICAgICAwMDAgICAgICAwMDAwMDAwICAgMDAwICAgICAgICBcclxuICAgIFxyXG4gICAgZHJhZ1N0b3A6IChldmVudCkgPT5cclxuXHJcbiAgICAgICAgaWYgQGRyYWdnaW5nXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIgJ21vdXNlbW92ZScsIEBkcmFnTW92ZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyICdtb3VzZXVwJywgICBAZHJhZ1VwXHJcbiAgICAgICAgICAgIEBvblN0b3AgQCwgZXZlbnQgaWYgQG9uU3RvcD8gYW5kIGV2ZW50P1xyXG4gICAgICAgICAgICBkZWxldGUgQGxhc3RQb3NcclxuICAgICAgICAgICAgZGVsZXRlIEBzdGFydFBvc1xyXG4gICAgICAgICAgICBAZHJhZ2dpbmcgPSBmYWxzZVxyXG4gICAgICAgIEBcclxuXHJcbiAgICAjICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgXHJcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXHJcbiAgICAjIDAwMDAwMDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgMDAwIDAwMCAgIDAwMDAwMDAwMCAgICAgMDAwICAgICAwMDAwMDAwICAgXHJcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXHJcbiAgICAjIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgMCAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAwMDAwMCAgXHJcbiAgICBcclxuICAgIGFjdGl2YXRlOiA9PlxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIG5vdCBAbGlzdGVuaW5nXHJcbiAgICAgICAgICAgIEBsaXN0ZW5pbmcgPSB0cnVlXHJcbiAgICAgICAgICAgIEBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lciAnbW91c2Vkb3duJywgQGRyYWdTdGFydFxyXG4gICAgICAgIEBcclxuXHJcbiAgICBkZWFjdGl2YXRlOiA9PlxyXG5cclxuICAgICAgICBpZiBAbGlzdGVuaW5nXHJcbiAgICAgICAgICAgIEBoYW5kbGUucmVtb3ZlRXZlbnRMaXN0ZW5lciAnbW91c2Vkb3duJywgQGRyYWdTdGFydFxyXG4gICAgICAgICAgICBAbGlzdGVuaW5nID0gZmFsc2VcclxuICAgICAgICAgICAgQGRyYWdTdG9wKCkgaWYgQGRyYWdnaW5nXHJcbiAgICAgICAgQFxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBEcmFnXHJcbiJdfQ==
//# sourceURL=C:/Users/t.kohnhorst/s/kxk/coffee/drag.coffee