(function() {
  /*
  000       0000000    0000000     
  000      000   000  000          
  000      000   000  000  0000    
  000      000   000  000   000    
  0000000   0000000    0000000     
  */
  var _, app, electron, err, fileLog, fs, log, os, post, ref, ref1, slash, slog, sorcery, stack, str, sutil, udpLog, udpSend, udpStop;

  post = require('./ppost');

  str = require('./str');

  os = require('os');

  fs = require('fs');

  _ = require('lodash');

  sutil = require('stack-utils');

  sorcery = require('sorcery');

  stack = new sutil({
    cwd: process.cwd(),
    internals: sutil.nodeInternals()
  });

  // 00000000  000  000      00000000  
  // 000       000  000      000       
  // 000000    000  000      0000000   
  // 000       000  000      000       
  // 000       000  0000000  00000000  
  fileLog = function(info) {
    var err, slash, stream;
    try {
      slash = require('./slash');
      stream = fs.createWriteStream(slash.resolve(slog.logFile), {
        flags: 'a',
        encoding: 'utf8'
      });
      stream.write(JSON.stringify(info));
      return stream.end();
    } catch (error) {
      err = error;
      return console.log("fileLog error -- ", err.stack);
    }
  };

  // 000   000  0000000    00000000   
  // 000   000  000   000  000   000  
  // 000   000  000   000  00000000   
  // 000   000  000   000  000        
  //  0000000   0000000    000        
  udpSend = null;

  udpLog = function(info) {
    var udp;
    if (!udpSend) {
      udp = require('./udp');
      udpSend = new udp({
        debug: slog.debug
      });
    }
    info.id = slog.id;
    info.icon = slog.icon;
    info.type = slog.type;
    return udpSend.send(info);
  };

  udpStop = function() {
    if (udpSend) {
      udpSend.close();
      udpSend = null;
      return slog.udp = false;
    }
  };

  //  0000000  000       0000000    0000000   
  // 000       000      000   000  000        
  // 0000000   000      000   000  000  0000  
  //      000  000      000   000  000   000  
  // 0000000   0000000   0000000    0000000   
  slog = function(s) {
    var chain, err, f, file, info, meth, slash, source;
    slash = require('./slash'); // fancy log with source-mapped files and line numbers
    try {
      f = stack.capture()[slog.depth];
      if (chain = sorcery.loadSync(f.getFileName())) {
        info = chain.trace(f.getLineNumber(), 0);
        if (!slash.samePath(f.getScriptNameOrSourceURL(), f.getFileName())) {
          if (slash.isAbsolute(f.getScriptNameOrSourceURL())) {
            source = slash.path(f.getScriptNameOrSourceURL());
          } else {
            source = slash.resolve(slash.join(slash.dir(f.getFileName()), f.getScriptNameOrSourceURL()));
          }
        } else {
          source = f.getFileName();
        }
        info.source = slash.tilde(source);
      } else {
        info = {
          source: slash.tilde(f.getFileName()),
          line: f.getLineNumber()
        };
      }
      file = _.padStart(`${info.source}:${info.line}`, slog.filepad);
      meth = _.padEnd(f.getFunctionName(), slog.methpad);
      info.str = s;
      s = `${file}${slog.filesep}${meth}${slog.methsep}${s}`;
      post.emit('slog', s, info);
      if (slog.udp) {
        udpLog(info);
      }
      if (slog.file) {
        return fileLog(info);
      }
    } catch (error) {
      err = error;
      return post.emit('slog', `!${slog.methsep}${s} ${err}`);
    }
  };

  // 000       0000000    0000000   
  // 000      000   000  000        
  // 000      000   000  000  0000  
  // 000      000   000  000   000  
  // 0000000   0000000    0000000   
  log = function() {
    var s;
    s = ((function() {
      var i, len, ref, results;
      ref = [].slice.call(arguments, 0);
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        s = ref[i];
        results.push(str(s));
      }
      return results;
    }).apply(this, arguments)).join(" ");
    post.emit('log', s);
    console.log(s);
    return slog(s);
  };

  //  0000000   0000000   000   000  00000000  000   0000000     
  // 000       000   000  0000  000  000       000  000          
  // 000       000   000  000 0 000  000000    000  000  0000    
  // 000       000   000  000  0000  000       000  000   000    
  //  0000000   0000000   000   000  000       000   0000000     
  slog.file = true;

  slog.logFile = '~/AppData/Roaming/klog/log.txt';

  slog.udp = false;

  slog.id = '???';

  slog.type = process.type === 'renderer' ? 'win' : 'main';

  slog.icon = process.type === 'renderer' ? '●' : '◼';

  slog.depth = 2;

  slog.filesep = ' > '; //' ⦿ '

  slog.methsep = ' >> '; //' ▸ '

  slog.filepad = 30;

  slog.methpad = 15;

  log.slog = slog;

  log.ulog = udpLog;

  log.stop = udpStop;

  log.flog = fileLog;

  try {
    electron = require('electron');
    if (process.type === 'renderer') {
      app = electron.remote.app;
    } else {
      app = electron.app;
    }
    slog.id = app.getName();
    slash = require('./slash');
    slog.logFile = slash.join(app.getPath('appData'), 'log.txt');
  } catch (error) {
    err = error;
    try {
      slash = require('./slash');
      if (process.argv[0].length && ((ref = slash.base(process.argv[0])) === 'node' || ref === 'coffee')) {
        if ((ref1 = process.argv[1]) != null ? ref1.length : void 0) {
          slog.id = slash.base(process.argv[1]);
        }
      } else {
        console.log("can't figure out slog.id -- process.argv:", process.argv.join(' '));
      }
    } catch (error) {
      err = error;
      null;
    }
  }

  module.exports = log;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIi4uL2NvZmZlZS9sb2cuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7QUFBQSxNQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQTs7RUFRQSxJQUFBLEdBQVUsT0FBQSxDQUFRLFNBQVI7O0VBQ1YsR0FBQSxHQUFVLE9BQUEsQ0FBUSxPQUFSOztFQUNWLEVBQUEsR0FBVSxPQUFBLENBQVEsSUFBUjs7RUFDVixFQUFBLEdBQVUsT0FBQSxDQUFRLElBQVI7O0VBQ1YsQ0FBQSxHQUFVLE9BQUEsQ0FBUSxRQUFSOztFQUNWLEtBQUEsR0FBVSxPQUFBLENBQVEsYUFBUjs7RUFDVixPQUFBLEdBQVUsT0FBQSxDQUFRLFNBQVI7O0VBRVYsS0FBQSxHQUFVLElBQUksS0FBSixDQUFVO0lBQUEsR0FBQSxFQUFLLE9BQU8sQ0FBQyxHQUFSLENBQUEsQ0FBTDtJQUFvQixTQUFBLEVBQVcsS0FBSyxDQUFDLGFBQU4sQ0FBQTtFQUEvQixDQUFWLEVBaEJWOzs7Ozs7O0VBd0JBLE9BQUEsR0FBVSxRQUFBLENBQUMsSUFBRCxDQUFBO0FBRU4sUUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBO0FBQUE7TUFDSSxLQUFBLEdBQVEsT0FBQSxDQUFRLFNBQVI7TUFDUixNQUFBLEdBQVMsRUFBRSxDQUFDLGlCQUFILENBQXFCLEtBQUssQ0FBQyxPQUFOLENBQWMsSUFBSSxDQUFDLE9BQW5CLENBQXJCLEVBQWtEO1FBQUEsS0FBQSxFQUFNLEdBQU47UUFBVyxRQUFBLEVBQVU7TUFBckIsQ0FBbEQ7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Z0MsTUFBaEMsSUFBQSxHQUFBLEtBQXdDLFFBQXhDLENBQTlCO1FBQ0ksMkNBQWtCLENBQUUsZUFBcEI7VUFDSSxJQUFJLENBQUMsRUFBTCxHQUFVLEtBQUssQ0FBQyxJQUFOLENBQVcsT0FBTyxDQUFDLElBQUssQ0FBQSxDQUFBLENBQXhCLEVBRGQ7U0FESjtPQUFBLE1BQUE7UUFJSSxPQUFPLENBQUMsR0FBUixDQUFZLDJDQUFaLEVBQXlELE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBYixDQUFrQixHQUFsQixDQUF6RCxFQUpKO09BRko7S0FBQSxhQUFBO01BT007TUFDRixLQVJKO0tBVko7OztFQW9CQSxNQUFNLENBQUMsT0FBUCxHQUFpQjtBQXhKakIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbjAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgIFxuMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgICAgXG4wMDAgICAgICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgICBcbjAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgIFxuMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMCAgICAgXG4jIyNcblxucG9zdCAgICA9IHJlcXVpcmUgJy4vcHBvc3QnXG5zdHIgICAgID0gcmVxdWlyZSAnLi9zdHInXG5vcyAgICAgID0gcmVxdWlyZSAnb3MnXG5mcyAgICAgID0gcmVxdWlyZSAnZnMnXG5fICAgICAgID0gcmVxdWlyZSAnbG9kYXNoJ1xuc3V0aWwgICA9IHJlcXVpcmUgJ3N0YWNrLXV0aWxzJ1xuc29yY2VyeSA9IHJlcXVpcmUgJ3NvcmNlcnknXG5cbnN0YWNrICAgPSBuZXcgc3V0aWwgY3dkOiBwcm9jZXNzLmN3ZCgpLCBpbnRlcm5hbHM6IHN1dGlsLm5vZGVJbnRlcm5hbHMoKVxuXG4jIDAwMDAwMDAwICAwMDAgIDAwMCAgICAgIDAwMDAwMDAwICBcbiMgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIFxuIyAwMDAwMDAgICAgMDAwICAwMDAgICAgICAwMDAwMDAwICAgXG4jIDAwMCAgICAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgICBcbiMgMDAwICAgICAgIDAwMCAgMDAwMDAwMCAgMDAwMDAwMDAgIFxuXG5maWxlTG9nID0gKGluZm8pIC0+XG4gICAgXG4gICAgdHJ5XG4gICAgICAgIHNsYXNoID0gcmVxdWlyZSAnLi9zbGFzaCdcbiAgICAgICAgc3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0gc2xhc2gucmVzb2x2ZShzbG9nLmxvZ0ZpbGUpLCBmbGFnczonYScsIGVuY29kaW5nOiAndXRmOCdcbiAgICAgICAgc3RyZWFtLndyaXRlIEpTT04uc3RyaW5naWZ5IGluZm9cbiAgICAgICAgc3RyZWFtLmVuZCgpXG4gICAgY2F0Y2ggZXJyXG4gICAgICAgIGNvbnNvbGUubG9nIFwiZmlsZUxvZyBlcnJvciAtLSBcIiwgZXJyLnN0YWNrXG5cbiMgMDAwICAgMDAwICAwMDAwMDAwICAgIDAwMDAwMDAwICAgXG4jIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIFxuIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgICBcbiMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgXG4jICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAgICAgICAgIFxuXG51ZHBTZW5kID0gbnVsbFxudWRwTG9nID0gKGluZm8pIC0+XG4gICAgaWYgbm90IHVkcFNlbmRcbiAgICAgICAgdWRwID0gcmVxdWlyZSAnLi91ZHAnXG4gICAgICAgIHVkcFNlbmQgPSBuZXcgdWRwIGRlYnVnOnNsb2cuZGVidWdcbiAgICBpbmZvLmlkICAgPSBzbG9nLmlkXG4gICAgaW5mby5pY29uID0gc2xvZy5pY29uXG4gICAgaW5mby50eXBlID0gc2xvZy50eXBlXG4gICAgdWRwU2VuZC5zZW5kIGluZm9cbiAgICBcbnVkcFN0b3AgPSAtPlxuICAgIGlmIHVkcFNlbmRcbiAgICAgICAgdWRwU2VuZC5jbG9zZSgpXG4gICAgICAgIHVkcFNlbmQgID0gbnVsbFxuICAgICAgICBzbG9nLnVkcCA9IGZhbHNlXG5cbiMgIDAwMDAwMDAgIDAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICBcbiMgMDAwICAgICAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgICBcbiMgMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICBcbiMgICAgICAwMDAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICBcbiMgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgICBcblxuc2xvZyA9IChzKSAtPlxuICAgIFxuICAgIHNsYXNoID0gcmVxdWlyZSAnLi9zbGFzaCdcbiAgICBcbiAgICB0cnkgIyBmYW5jeSBsb2cgd2l0aCBzb3VyY2UtbWFwcGVkIGZpbGVzIGFuZCBsaW5lIG51bWJlcnNcbiAgICAgICAgZiA9IHN0YWNrLmNhcHR1cmUoKVtzbG9nLmRlcHRoXVxuICAgICAgICBpZiBjaGFpbiA9IHNvcmNlcnkubG9hZFN5bmMoZi5nZXRGaWxlTmFtZSgpKVxuICAgICAgICAgICAgaW5mbyA9IGNoYWluLnRyYWNlKGYuZ2V0TGluZU51bWJlcigpLCAwKVxuICAgICAgICAgICAgaWYgbm90IHNsYXNoLnNhbWVQYXRoIGYuZ2V0U2NyaXB0TmFtZU9yU291cmNlVVJMKCksIGYuZ2V0RmlsZU5hbWUoKVxuICAgICAgICAgICAgICAgIGlmIHNsYXNoLmlzQWJzb2x1dGUgZi5nZXRTY3JpcHROYW1lT3JTb3VyY2VVUkwoKVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBzbGFzaC5wYXRoIGYuZ2V0U2NyaXB0TmFtZU9yU291cmNlVVJMKClcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IHNsYXNoLnJlc29sdmUgc2xhc2guam9pbiBzbGFzaC5kaXIoZi5nZXRGaWxlTmFtZSgpKSwgZi5nZXRTY3JpcHROYW1lT3JTb3VyY2VVUkwoKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGYuZ2V0RmlsZU5hbWUoKVxuICAgICAgICAgICAgaW5mby5zb3VyY2UgPSBzbGFzaC50aWxkZSBzb3VyY2VcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaW5mbyA9IHNvdXJjZTogc2xhc2gudGlsZGUoZi5nZXRGaWxlTmFtZSgpKSwgbGluZTogZi5nZXRMaW5lTnVtYmVyKClcblxuICAgICAgICBmaWxlID0gXy5wYWRTdGFydCBcIiN7aW5mby5zb3VyY2V9OiN7aW5mby5saW5lfVwiLCBzbG9nLmZpbGVwYWRcbiAgICAgICAgbWV0aCA9IF8ucGFkRW5kIGYuZ2V0RnVuY3Rpb25OYW1lKCksIHNsb2cubWV0aHBhZFxuICAgICAgICBpbmZvLnN0ciA9IHNcbiAgICAgICAgcyA9IFwiI3tmaWxlfSN7c2xvZy5maWxlc2VwfSN7bWV0aH0je3Nsb2cubWV0aHNlcH0je3N9XCJcbiAgICAgICAgcG9zdC5lbWl0ICdzbG9nJywgcywgaW5mb1xuICAgICAgICBpZiBzbG9nLnVkcFxuICAgICAgICAgICAgdWRwTG9nIGluZm9cbiAgICAgICAgaWYgc2xvZy5maWxlXG4gICAgICAgICAgICBmaWxlTG9nIGluZm8gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgIGNhdGNoIGVyclxuICAgICAgICBwb3N0LmVtaXQgJ3Nsb2cnLCBcIiEje3Nsb2cubWV0aHNlcH0je3N9ICN7ZXJyfVwiXG5cbiMgMDAwICAgICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIFxuIyAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgXG4jIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICBcbiMgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIFxuIyAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgXG5cbmxvZyA9IC0+XG4gICAgXG4gICAgcyA9IChzdHIocykgZm9yIHMgaW4gW10uc2xpY2UuY2FsbCBhcmd1bWVudHMsIDApLmpvaW4gXCIgXCIgXG4gICAgXG4gICAgcG9zdC5lbWl0ICdsb2cnLCBzXG4gICAgY29uc29sZS5sb2cgc1xuICAgIHNsb2cgc1xuXG4jICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMDAwMDAgICAgIFxuIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAwICAwMDAgIDAwMCAgICAgICAwMDAgIDAwMCAgICAgICAgICBcbiMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAwMDAwMDAgICAgMDAwICAwMDAgIDAwMDAgICAgXG4jIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICAgICAgIDAwMCAgMDAwICAgMDAwICAgIFxuIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAwMDAwICAgICBcbiAgICBcbnNsb2cuZmlsZSAgICA9IHRydWVcbnNsb2cubG9nRmlsZSA9ICd+L0FwcERhdGEvUm9hbWluZy9rbG9nL2xvZy50eHQnXG5zbG9nLnVkcCAgICAgPSBmYWxzZVxuXG5zbG9nLmlkICAgICAgPSAnPz8/J1xuc2xvZy50eXBlICAgID0gaWYgcHJvY2Vzcy50eXBlID09ICdyZW5kZXJlcicgdGhlbiAnd2luJyBlbHNlICdtYWluJ1xuc2xvZy5pY29uICAgID0gaWYgcHJvY2Vzcy50eXBlID09ICdyZW5kZXJlcicgdGhlbiAn4pePJyBlbHNlICfil7wnXG5zbG9nLmRlcHRoICAgPSAyXG5zbG9nLmZpbGVzZXAgPSAnID4gJyAjJyDipr8gJ1xuc2xvZy5tZXRoc2VwID0gJyA+PiAnICMnIOKWuCAnXG5zbG9nLmZpbGVwYWQgPSAzMFxuc2xvZy5tZXRocGFkID0gMTVcblxubG9nLnNsb2cgICAgID0gc2xvZ1xubG9nLnVsb2cgICAgID0gdWRwTG9nXG5sb2cuc3RvcCAgICAgPSB1ZHBTdG9wXG5sb2cuZmxvZyAgICAgPSBmaWxlTG9nXG5cbnRyeVxuICAgIGVsZWN0cm9uID0gcmVxdWlyZSAnZWxlY3Ryb24nXG4gICAgaWYgcHJvY2Vzcy50eXBlID09ICdyZW5kZXJlcidcbiAgICAgICAgYXBwID0gZWxlY3Ryb24ucmVtb3RlLmFwcFxuICAgIGVsc2VcbiAgICAgICAgYXBwID0gZWxlY3Ryb24uYXBwXG4gICAgc2xvZy5pZCA9IGFwcC5nZXROYW1lKClcbiAgICBzbGFzaCA9IHJlcXVpcmUgJy4vc2xhc2gnXG4gICAgc2xvZy5sb2dGaWxlID0gc2xhc2guam9pbiBhcHAuZ2V0UGF0aCgnYXBwRGF0YScpLCAnbG9nLnR4dCdcbmNhdGNoIGVyclxuICAgIHRyeVxuICAgICAgICBzbGFzaCA9IHJlcXVpcmUgJy4vc2xhc2gnXG4gICAgICAgIGlmIHByb2Nlc3MuYXJndlswXS5sZW5ndGggYW5kIHNsYXNoLmJhc2UocHJvY2Vzcy5hcmd2WzBdKSBpbiBbJ25vZGUnLCAnY29mZmVlJ11cbiAgICAgICAgICAgIGlmIHByb2Nlc3MuYXJndlsxXT8ubGVuZ3RoXG4gICAgICAgICAgICAgICAgc2xvZy5pZCA9IHNsYXNoLmJhc2UgcHJvY2Vzcy5hcmd2WzFdXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiY2FuJ3QgZmlndXJlIG91dCBzbG9nLmlkIC0tIHByb2Nlc3MuYXJndjpcIiwgcHJvY2Vzcy5hcmd2LmpvaW4gJyAnXG4gICAgY2F0Y2ggZXJyXG4gICAgICAgIG51bGxcblxubW9kdWxlLmV4cG9ydHMgPSBsb2dcblxuIl19
//# sourceURL=../coffee/log.coffee