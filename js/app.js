(function() {
  /*
   0000000   00000000   00000000   
  000   000  000   000  000   000  
  000000000  00000000   00000000   
  000   000  000        000        
  000   000  000        000        
  */
  var App, _, about, args, childp, empty, error, fs, log, post, prefs, slash, watch;

  ({args, prefs, empty, slash, about, post, watch, childp, fs, error, log, _} = require('./kxk'));

  App = class App {
    constructor(opt) {
      var argl, electron;
      this.resolve = this.resolve.bind(this);
      
      //00000000   00000000   0000000   0000000    000   000
      //000   000  000       000   000  000   000   000 000
      //0000000    0000000   000000000  000   000    00000
      //000   000  000       000   000  000   000     000
      //000   000  00000000  000   000  0000000       000
      this.onReady = this.onReady.bind(this);
      // 000000000  00000000    0000000   000   000  
      //    000     000   000  000   000   000 000   
      //    000     0000000    000000000    00000    
      //    000     000   000  000   000     000     
      //    000     000   000  000   000     000     
      this.initTray = this.initTray.bind(this);
      
      //  0000000   0000000     0000000   000   000  000000000  
      // 000   000  000   000  000   000  000   000     000     
      // 000000000  0000000    000   000  000   000     000     
      // 000   000  000   000  000   000  000   000     000     
      // 000   000  0000000     0000000    0000000      000     
      this.showAbout = this.showAbout.bind(this);
      
      //  0000000   000   000  000  000000000  
      // 000   000  000   000  000     000     
      // 000 00 00  000   000  000     000     
      // 000 0000   000   000  000     000     
      //  00000 00   0000000   000     000     
      this.quitApp = this.quitApp.bind(this);
      
      // 0000000     0000000    0000000  000   000  
      // 000   000  000   000  000       000  000   
      // 000   000  000   000  000       0000000    
      // 000   000  000   000  000       000  000   
      // 0000000     0000000    0000000  000   000  
      this.hideDock = this.hideDock.bind(this);
      this.showDock = this.showDock.bind(this);
      
      //000   000  000  000   000  0000000     0000000   000   000
      //000 0 000  000  0000  000  000   000  000   000  000 0 000
      //000000000  000  000 0 000  000   000  000   000  000000000
      //000   000  000  000  0000  000   000  000   000  000   000
      //00     00  000  000   000  0000000     0000000   00     00
      this.toggleWindow = this.toggleWindow.bind(this);
      this.showWindow = this.showWindow.bind(this);
      
      //  0000000  00000000   00000000   0000000   000000000  00000000  
      // 000       000   000  000       000   000     000     000       
      // 000       0000000    0000000   000000000     000     0000000   
      // 000       000   000  000       000   000     000     000       
      //  0000000  000   000  00000000  000   000     000     00000000  
      this.createWindow = this.createWindow.bind(this);
      this.saveBounds = this.saveBounds.bind(this);
      // 000   000   0000000   000000000   0000000  000   000  00000000  00000000     
      // 000 0 000  000   000     000     000       000   000  000       000   000    
      // 000000000  000000000     000     000       000000000  0000000   0000000      
      // 000   000  000   000     000     000       000   000  000       000   000    
      // 00     00  000   000     000      0000000  000   000  00000000  000   000    
      this.startWatcher = this.startWatcher.bind(this);
      this.stopWatcher = this.stopWatcher.bind(this);
      this.onSrcChange = this.onSrcChange.bind(this);
      this.opt = opt;
      process.on('uncaughtException', function(err) {
        var ref, ref1, stack, stackTrace, sutil;
        error('main.uncaughtException');
        error((ref = err.message) != null ? ref : err);
        try {
          sutil = require('stack-utils');
          stack = new sutil({
            cwd: process.cwd(),
            internals: sutil.nodeInternals()
          });
          stackTrace = stack.captureString();
          console.log('stackTrace', stackTrace);
          return log(stackTrace);
        } catch (error1) {
          err = error1;
          return error((ref1 = err.message) != null ? ref1 : err);
        }
      });
      this.watcher = null;
      electron = require('electron');
      this.app = electron.app;
      this.userData = this.app.getPath('userData');
      if (this.opt.tray) {
        log.slog.icon = slash.fileUrl(this.resolve(this.opt.tray));
      }
      if (this.opt.single !== false) {
        if (this.app.makeSingleInstance(this.showWindow)) {
          this.app.quit();
          return;
        }
      }
      argl = "noprefs     don't load preferences      false\ndevtools    open developer tools        false  -D\nwatch       watch sources for changes   false";
      if (this.opt.args) {
        argl = this.opt.args + '\n' + argl;
      }
      args = args.init(argl);
      post.on('showAbout', this.showAbout);
      post.on('quitApp', this.quitApp);
      this.app.setName(this.opt.pkg.name);
      this.app.on('ready', this.onReady);
      this.app.on('window-all-closed', function(event) {
        return event.preventDefault();
      });
    }

    resolve(file) {
      return slash.resolve(slash.join(this.opt.dir, file));
    }

    onReady() {
      var electron;
      if (this.opt.tray) {
        this.initTray();
      }
      this.hideDock();
      this.app.setName(this.opt.pkg.name);
      if (!args.noprefs) {
        prefs.init({
          shortcut: this.opt.shortcut
        });
      }
      if (!empty(prefs.get('shortcut'))) {
        electron = require('electron');
        electron.globalShortcut.register(prefs.get('shortcut'), this.showWindow);
      }
      post.emit('appReady');
      this.showWindow();
      if (args.watch) {
        return this.startWatcher();
      }
    }

    initTray() {
      var electron;
      electron = require('electron');
      this.tray = new electron.Tray(this.resolve(this.opt.tray));
      this.tray.on('click', this.toggleWindow);
      return this.tray.setContextMenu(electron.Menu.buildFromTemplate([
        {
          label: "Quit",
          click: this.quitApp
        },
        {
          label: "About",
          click: this.showAbout
        }
      ]));
    }

    showAbout() {
      var dark;
      dark = 'dark' === prefs.get('scheme', 'dark');
      return about({
        img: this.resolve(this.opt.about),
        color: dark && '#383838' || '#ddd',
        background: dark && '#282828' || '#fff',
        highlight: dark && '#fff' || '#000',
        pkg: this.opt.pkg,
        debug: this.opt.aboutDebug
      });
    }

    quitApp() {
      var base;
      if ('delay' === (typeof (base = this.opt).onQuit === "function" ? base.onQuit() : void 0)) {
        return;
      }
      this.stopWatcher();
      this.saveBounds();
      this.app.exit(0);
      return process.exit(0);
    }

    hideDock() {
      var ref;
      return (ref = this.app.dock) != null ? ref.hide() : void 0;
    }

    showDock() {
      var ref;
      return (ref = this.app.dock) != null ? ref.show() : void 0;
    }

    toggleWindow() {
      var ref;
      if ((ref = this.win) != null ? ref.isVisible() : void 0) {
        this.win.hide();
        return this.hideDock();
      } else {
        return this.showWindow();
      }
    }

    showWindow() {
      if (this.win != null) {
        this.win.show();
      } else {
        this.createWindow();
      }
      return this.showDock();
    }

    createWindow() {
      var bounds, electron, height, ref, ref1, ref2, ref3, ref4, ref5, width;
      electron = require('electron');
      bounds = prefs.get('bounds');
      width = (ref = (ref1 = bounds != null ? bounds.width : void 0) != null ? ref1 : this.opt.width) != null ? ref : 500;
      height = (ref2 = (ref3 = bounds != null ? bounds.height : void 0) != null ? ref3 : this.opt.height) != null ? ref2 : 500;
      // log 'createWindow', width, height
      this.win = new electron.BrowserWindow({
        width: width,
        height: height,
        minWidth: (ref4 = this.opt.minWidth) != null ? ref4 : 250,
        minHeight: (ref5 = this.opt.minHeight) != null ? ref5 : 250,
        backgroundColor: '#181818',
        fullscreen: false,
        show: false,
        frame: false,
        resizable: true,
        maximizable: true,
        minimizable: true,
        transparent: true,
        autoHideMenuBar: true,
        icon: this.resolve(this.opt.icon)
      });
      if (bounds != null) {
        this.win.setPosition(bounds.x, bounds.y);
      }
      this.win.loadURL(slash.fileUrl(this.resolve(this.opt.index)));
      if (args.devtools) {
        this.win.webContents.openDevTools();
      }
      this.win.on('resize', this.saveBounds);
      this.win.on('move', this.saveBounds);
      this.win.on('closed', () => {
        return this.win = null;
      });
      this.win.on('close', () => {
        return this.hideDock();
      });
      this.win.on('ready-to-show', () => {
        this.win.show();
        return post.emit('winReady', this.win.id);
      });
      this.showDock();
      return this.win;
    }

    saveBounds() {
      if (this.win != null) {
        return prefs.set('bounds', this.win.getBounds());
      }
    }

    startWatcher() {
      this.watcher = watch.watch(this.opt.dir);
      this.watcher.on('change', this.onSrcChange);
      return this.watcher.on('error', function(err) {
        return error(err);
      });
    }

    stopWatcher() {
      if (this.watcher != null) {
        this.watcher.close();
        return this.watcher = null;
      }
    }

    onSrcChange(path) {
      log('onSrcChange', path, this.opt.dir, path.startsWith(this.opt.dir));
      if (slash.file(path) === 'main') {
        this.stopWatcher();
        this.app.exit(0);
        childp.execSync(`${this.opt.dir}/../node_modules/.bin/electron . -w`, {
          cwd: `${this.opt.dir}/..`,
          encoding: 'utf8',
          stdio: 'inherit',
          shell: true
        });
        return process.exit(0);
      } else {
        return post.toWins('menuAction', 'Reload');
      }
    }

  };

  module.exports = App;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWUvYXBwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBOzs7Ozs7O0FBQUEsTUFBQSxHQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQTs7RUFRQSxDQUFBLENBQUUsSUFBRixFQUFRLEtBQVIsRUFBZSxLQUFmLEVBQXNCLEtBQXRCLEVBQTZCLEtBQTdCLEVBQW9DLElBQXBDLEVBQTBDLEtBQTFDLEVBQWlELE1BQWpELEVBQXlELEVBQXpELEVBQTZELEtBQTdELEVBQW9FLEdBQXBFLEVBQXlFLENBQXpFLENBQUEsR0FBK0UsT0FBQSxDQUFRLE9BQVIsQ0FBL0U7O0VBRU0sTUFBTixNQUFBLElBQUE7SUFFSSxXQUFhLElBQUEsQ0FBQTtBQUVULFVBQUEsSUFBQSxFQUFBO1VBMENKLENBQUEsY0FBQSxDQUFBLG1CQTFDSTs7Ozs7OztVQWtESixDQUFBLGNBQUEsQ0FBQSxtQkFsREk7Ozs7OztVQStFSixDQUFBLGVBQUEsQ0FBQSxvQkEvRUk7Ozs7Ozs7VUFtR0osQ0FBQSxnQkFBQSxDQUFBLHFCQW5HSTs7Ozs7OztVQW9ISixDQUFBLGNBQUEsQ0FBQSxtQkFwSEk7Ozs7Ozs7VUFtSUosQ0FBQSxlQUFBLENBQUE7VUFDQSxDQUFBLGVBQUEsQ0FBQSxvQkFwSUk7Ozs7Ozs7VUE0SUosQ0FBQSxtQkFBQSxDQUFBO1VBUUEsQ0FBQSxpQkFBQSxDQUFBLHNCQXBKSTs7Ozs7OztVQWtLSixDQUFBLG1CQUFBLENBQUE7VUFxQ0EsQ0FBQSxpQkFBQSxDQUFBLHNCQXZNSTs7Ozs7O1VBK01KLENBQUEsbUJBQUEsQ0FBQTtVQU1BLENBQUEsa0JBQUEsQ0FBQTtVQU1BLENBQUEsa0JBQUEsQ0FBQTtNQTdOYyxJQUFD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QXFCLFFBQUEsQ0FBQyxHQUFELENBQUE7ZUFBUyxLQUFBLENBQU0sR0FBTjtNQUFULENBQXJCO0lBSlU7O0lBTWQsV0FBYSxDQUFBLENBQUE7TUFFVCxJQUFHLG9CQUFIO1FBQ0ksSUFBQyxDQUFBLE9BQU8sQ0FBQyxLQUFULENBQUE7ZUFDQSxJQUFDLENBQUEsT0FBRCxHQUFXLEtBRmY7O0lBRlM7O0lBTWIsV0FBYSxDQUFDLElBQUQsQ0FBQTtNQUVULEdBQUEsQ0FBSSxhQUFKLEVBQW1CLElBQW5CLEVBQXlCLElBQUMsQ0FBQSxHQUFHLENBQUMsR0FBOUIsRUFBbUMsSUFBSSxDQUFDLFVBQUwsQ0FBZ0IsSUFBQyxDQUFBLEdBQUcsQ0FBQyxHQUFyQixDQUFuQztNQUNBLElBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFYLENBQUEsS0FBb0IsTUFBdkI7UUFDSSxJQUFDLENBQUEsV0FBRCxDQUFBO1FBQ0EsSUFBQyxDQUFBLEdBQUcsQ0FBQyxJQUFMLENBQVUsQ0FBVjtRQUNBLE1BQU0sQ0FBQyxRQUFQLENBQWdCLENBQUEsQ0FBQSxDQUFHLElBQUMsQ0FBQSxHQUFHLENBQUMsR0FBUixDQUFZLG1DQUFaLENBQWhCLEVBQ0k7VUFBQSxHQUFBLEVBQVUsQ0FBQSxDQUFBLENBQUcsSUFBQyxDQUFBLEdBQUcsQ0FBQyxHQUFSLENBQVksR0FBWixDQUFWO1VBQ0EsUUFBQSxFQUFVLE1BRFY7VUFFQSxLQUFBLEVBQVUsU0FGVjtVQUdBLEtBQUEsRUFBVTtRQUhWLENBREo7ZUFLQSxPQUFPLENBQUMsSUFBUixDQUFhLENBQWIsRUFSSjtPQUFBLE1BQUE7ZUFVSSxJQUFJLENBQUMsTUFBTCxDQUFZLFlBQVosRUFBMEIsUUFBMUIsRUFWSjs7SUFIUzs7RUEvTmpCOztFQThPQSxNQUFNLENBQUMsT0FBUCxHQUFpQjtBQXhQakIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbiAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIFxuMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgXG4wMDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMDAgICBcbjAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgIFxuMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgXG4jIyNcblxueyBhcmdzLCBwcmVmcywgZW1wdHksIHNsYXNoLCBhYm91dCwgcG9zdCwgd2F0Y2gsIGNoaWxkcCwgZnMsIGVycm9yLCBsb2csIF8gfSA9IHJlcXVpcmUgJy4va3hrJ1xuXG5jbGFzcyBBcHBcbiAgICBcbiAgICBjb25zdHJ1Y3RvcjogKEBvcHQpIC0+XG4gICAgICAgIFxuICAgICAgICBwcm9jZXNzLm9uICd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpIC0+XHJcbiAgICAgICAgICAgIGVycm9yICdtYWluLnVuY2F1Z2h0RXhjZXB0aW9uJ1xuICAgICAgICAgICAgZXJyb3IgZXJyLm1lc3NhZ2UgPyBlcnJcbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAgICAgIHN1dGlsID0gcmVxdWlyZSAnc3RhY2stdXRpbHMnXG4gICAgICAgICAgICAgICAgc3RhY2sgPSBuZXcgc3V0aWwgY3dkOiBwcm9jZXNzLmN3ZCgpLCBpbnRlcm5hbHM6IHN1dGlsLm5vZGVJbnRlcm5hbHMoKVxuICAgICAgICAgICAgICAgIHN0YWNrVHJhY2UgPSBzdGFjay5jYXB0dXJlU3RyaW5nKClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyAnc3RhY2tUcmFjZScsIHN0YWNrVHJhY2VcbiAgICAgICAgICAgICAgICBsb2cgc3RhY2tUcmFjZSBcbiAgICAgICAgICAgIGNhdGNoIGVyclxuICAgICAgICAgICAgICAgIGVycm9yIGVyci5tZXNzYWdlID8gZXJyXG4gICAgICAgIFxuICAgICAgICBAd2F0Y2hlciA9IG51bGxcbiAgICAgICAgICAgIFxuICAgICAgICBlbGVjdHJvbiA9IHJlcXVpcmUgJ2VsZWN0cm9uJ1xuICAgICAgICBAYXBwID0gZWxlY3Ryb24uYXBwXG4gICAgICAgIEB1c2VyRGF0YSA9IEBhcHAuZ2V0UGF0aCAndXNlckRhdGEnXG4gICAgICAgIFxuICAgICAgICBpZiBAb3B0LnRyYXlcbiAgICAgICAgICAgIGxvZy5zbG9nLmljb24gPSBzbGFzaC5maWxlVXJsIEByZXNvbHZlIEBvcHQudHJheSAgXG4gICAgICAgIFxuICAgICAgICBpZiBAb3B0LnNpbmdsZSAhPSBmYWxzZVxuICAgICAgICAgICAgaWYgQGFwcC5tYWtlU2luZ2xlSW5zdGFuY2UgQHNob3dXaW5kb3dcbiAgICAgICAgICAgICAgICBAYXBwLnF1aXQoKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgIFxuICAgICAgICBhcmdsID0gXCJcIlwiXG4gICAgICAgICAgICBub3ByZWZzICAgICBkb24ndCBsb2FkIHByZWZlcmVuY2VzICAgICAgZmFsc2VcbiAgICAgICAgICAgIGRldnRvb2xzICAgIG9wZW4gZGV2ZWxvcGVyIHRvb2xzICAgICAgICBmYWxzZSAgLURcbiAgICAgICAgICAgIHdhdGNoICAgICAgIHdhdGNoIHNvdXJjZXMgZm9yIGNoYW5nZXMgICBmYWxzZVxuICAgICAgICAgICAgXCJcIlwiXG4gICAgICAgICAgICBcbiAgICAgICAgYXJnbCA9IEBvcHQuYXJncyArICdcXG4nICsgYXJnbCBpZiBAb3B0LmFyZ3NcbiAgICAgICAgYXJncyA9IGFyZ3MuaW5pdCBhcmdsXG4gICAgICAgICAgICBcbiAgICAgICAgcG9zdC5vbiAnc2hvd0Fib3V0JywgQHNob3dBYm91dFxuICAgICAgICBwb3N0Lm9uICdxdWl0QXBwJywgICBAcXVpdEFwcFxuXG4gICAgICAgIEBhcHAuc2V0TmFtZSBAb3B0LnBrZy5uYW1lXG4gICAgICAgIEBhcHAub24gJ3JlYWR5JywgQG9uUmVhZHlcbiAgICAgICAgQGFwcC5vbiAnd2luZG93LWFsbC1jbG9zZWQnLCAoZXZlbnQpIC0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgICAgICAgIFxuXG4gICAgcmVzb2x2ZTogKGZpbGUpID0+IHNsYXNoLnJlc29sdmUgc2xhc2guam9pbiBAb3B0LmRpciwgZmlsZVxuICAgIFxuICAgICMwMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwICAgMDAwXG4gICAgIzAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwIDAwMFxuICAgICMwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgICAwMDAwMFxuICAgICMwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwXG4gICAgIzAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAgICAwMDBcbiAgICBcbiAgICBvblJlYWR5OiA9PlxuICAgIFxuICAgICAgICBpZiBAb3B0LnRyYXkgdGhlbiBAaW5pdFRyYXkoKVxuICAgICAgICAgXG4gICAgICAgIEBoaWRlRG9jaygpXG4gICAgICAgICBcbiAgICAgICAgQGFwcC5zZXROYW1lIEBvcHQucGtnLm5hbWVcbiAgICBcbiAgICAgICAgaWYgbm90IGFyZ3Mubm9wcmVmc1xuICAgICAgICAgICAgcHJlZnMuaW5pdFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBAb3B0LnNob3J0Y3V0XG4gICAgXG4gICAgICAgIGlmIG5vdCBlbXB0eSBwcmVmcy5nZXQgJ3Nob3J0Y3V0JyBcbiAgICAgICAgICAgIGVsZWN0cm9uID0gcmVxdWlyZSAnZWxlY3Ryb24nXG4gICAgICAgICAgICBlbGVjdHJvbi5nbG9iYWxTaG9ydGN1dC5yZWdpc3RlciBwcmVmcy5nZXQoJ3Nob3J0Y3V0JyksIEBzaG93V2luZG93XG4gICAgXG4gICAgICAgIHBvc3QuZW1pdCAnYXBwUmVhZHknXG4gICAgICAgICAgICBcbiAgICAgICAgQHNob3dXaW5kb3coKVxuICAgICAgICAgXG4gICAgICAgIGlmIGFyZ3Mud2F0Y2hcbiAgICAgICAgICAgIEBzdGFydFdhdGNoZXIoKVxuXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAgICAwMDAgIFxuICAgICMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMCAwMDAgICBcbiAgICAjICAgIDAwMCAgICAgMDAwMDAwMCAgICAwMDAwMDAwMDAgICAgMDAwMDAgICAgXG4gICAgIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIFxuICAgICMgICAgMDAwICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiAgICBcbiAgICBpbml0VHJheTogPT5cbiAgICAgICAgXG4gICAgICAgIGVsZWN0cm9uID0gcmVxdWlyZSAnZWxlY3Ryb24nXG4gICAgICAgIEB0cmF5ID0gbmV3IGVsZWN0cm9uLlRyYXkgQHJlc29sdmUgQG9wdC50cmF5XG4gICAgICAgIEB0cmF5Lm9uICdjbGljaycsIEB0b2dnbGVXaW5kb3dcbiAgICAgICAgICAgICBcbiAgICAgICAgQHRyYXkuc2V0Q29udGV4dE1lbnUgZWxlY3Ryb24uTWVudS5idWlsZEZyb21UZW1wbGF0ZSBbXG4gICAgICAgICAgICBsYWJlbDogXCJRdWl0XCJcbiAgICAgICAgICAgIGNsaWNrOiBAcXVpdEFwcFxuICAgICAgICAsXG4gICAgICAgICAgICBsYWJlbDogXCJBYm91dFwiXG4gICAgICAgICAgICBjbGljazogQHNob3dBYm91dFxuICAgICAgICBdXG4gICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwMDAwMDAwICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgICAgMDAwICAgICBcbiAgICBcbiAgICBzaG93QWJvdXQ6ID0+XG4gICAgICAgIFxuICAgICAgICBkYXJrID0gJ2RhcmsnID09IHByZWZzLmdldCAnc2NoZW1lJywgJ2RhcmsnXG4gICAgICAgIGFib3V0XG4gICAgICAgICAgICBpbWc6ICAgICAgICBAcmVzb2x2ZSBAb3B0LmFib3V0XG4gICAgICAgICAgICBjb2xvcjogICAgICBkYXJrIGFuZCAnIzM4MzgzOCcgb3IgJyNkZGQnXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBkYXJrIGFuZCAnIzI4MjgyOCcgb3IgJyNmZmYnXG4gICAgICAgICAgICBoaWdobGlnaHQ6ICBkYXJrIGFuZCAnI2ZmZicgICAgb3IgJyMwMDAnXG4gICAgICAgICAgICBwa2c6ICAgICAgICBAb3B0LnBrZ1xuICAgICAgICAgICAgZGVidWc6ICAgICAgQG9wdC5hYm91dERlYnVnXG4gICAgXG4gICAgIyAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAwMDAwMDAwMDAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMCAwMCAwMCAgMDAwICAgMDAwICAwMDAgICAgIDAwMCAgICAgXG4gICAgIyAwMDAgMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgICAwMDAgICAgIFxuICAgICMgIDAwMDAwIDAwICAgMDAwMDAwMCAgIDAwMCAgICAgMDAwICAgICBcbiAgICBcbiAgICBxdWl0QXBwOiA9PlxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGlmICdkZWxheScgPT0gQG9wdC5vblF1aXQ/KClcbiAgICAgICAgXG4gICAgICAgIEBzdG9wV2F0Y2hlcigpXG4gICAgICAgIEBzYXZlQm91bmRzKClcbiAgICAgICAgQGFwcC5leGl0IDBcbiAgICAgICAgcHJvY2Vzcy5leGl0IDBcbiAgICAgICAgXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgMDAwICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMDAwMDAgICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgMDAwICAgXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgXG4gICAgaGlkZURvY2s6ID0+IEBhcHAuZG9jaz8uaGlkZSgpXG4gICAgc2hvd0RvY2s6ID0+IEBhcHAuZG9jaz8uc2hvdygpXG4gICAgICAgIFxuICAgICMwMDAgICAwMDAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwICAgICAwMDAwMDAwICAgMDAwICAgMDAwXG4gICAgIzAwMCAwIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDBcbiAgICAjMDAwMDAwMDAwICAwMDAgIDAwMCAwIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwMFxuICAgICMwMDAgICAwMDAgIDAwMCAgMDAwICAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXG4gICAgIzAwICAgICAwMCAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAgIDAwMDAwMDAgICAwMCAgICAgMDBcbiAgICBcbiAgICB0b2dnbGVXaW5kb3c6ID0+XG4gICAgICAgICBcbiAgICAgICAgaWYgQHdpbj8uaXNWaXNpYmxlKClcbiAgICAgICAgICAgIEB3aW4uaGlkZSgpXG4gICAgICAgICAgICBAaGlkZURvY2soKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAc2hvd1dpbmRvdygpXG4gICAgXG4gICAgc2hvd1dpbmRvdzogPT5cbiAgICAgICAgIFxuICAgICAgICBpZiBAd2luP1xuICAgICAgICAgICAgQHdpbi5zaG93KClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGNyZWF0ZVdpbmRvdygpXG4gICAgICAgIEBzaG93RG9jaygpXG4gICAgICAgIFxuICAgICMgIDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICBcbiAgICAjIDAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMDAgICAgIDAwMCAgICAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4gICAgIyAgMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAwICBcbiAgICBcbiAgICBjcmVhdGVXaW5kb3c6ID0+XG4gICAgXG4gICAgICAgIGVsZWN0cm9uID0gcmVxdWlyZSAnZWxlY3Ryb24nXG4gICAgICAgIFxuICAgICAgICBib3VuZHMgPSBwcmVmcy5nZXQgJ2JvdW5kcydcbiAgICAgICAgd2lkdGggID0gYm91bmRzPy53aWR0aCAgPyBAb3B0LndpZHRoICA/IDUwMFxuICAgICAgICBoZWlnaHQgPSBib3VuZHM/LmhlaWdodCA/IEBvcHQuaGVpZ2h0ID8gNTAwXG4gICAgICAgICMgbG9nICdjcmVhdGVXaW5kb3cnLCB3aWR0aCwgaGVpZ2h0XG4gICAgICAgIFxuICAgICAgICBAd2luID0gbmV3IGVsZWN0cm9uLkJyb3dzZXJXaW5kb3dcbiAgICAgICAgICAgIHdpZHRoOiAgICAgICAgICAgd2lkdGhcbiAgICAgICAgICAgIGhlaWdodDogICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICBtaW5XaWR0aDogICAgICAgIEBvcHQubWluV2lkdGggID8gMjUwXG4gICAgICAgICAgICBtaW5IZWlnaHQ6ICAgICAgIEBvcHQubWluSGVpZ2h0ID8gMjUwXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMTgxODE4J1xuICAgICAgICAgICAgZnVsbHNjcmVlbjogICAgICBmYWxzZVxuICAgICAgICAgICAgc2hvdzogICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgZnJhbWU6ICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgcmVzaXphYmxlOiAgICAgICB0cnVlXG4gICAgICAgICAgICBtYXhpbWl6YWJsZTogICAgIHRydWVcbiAgICAgICAgICAgIG1pbmltaXphYmxlOiAgICAgdHJ1ZVxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6ICAgICB0cnVlXG4gICAgICAgICAgICBhdXRvSGlkZU1lbnVCYXI6IHRydWVcbiAgICAgICAgICAgIGljb246ICAgICAgICAgICAgQHJlc29sdmUgQG9wdC5pY29uIFxuICAgIFxuICAgICAgICBAd2luLnNldFBvc2l0aW9uIGJvdW5kcy54LCBib3VuZHMueSBpZiBib3VuZHM/XG4gICAgXG4gICAgICAgIEB3aW4ubG9hZFVSTCBzbGFzaC5maWxlVXJsIEByZXNvbHZlIEBvcHQuaW5kZXhcbiAgICAgICAgQHdpbi53ZWJDb250ZW50cy5vcGVuRGV2VG9vbHMoKSBpZiBhcmdzLmRldnRvb2xzXG4gICAgICAgIEB3aW4ub24gJ3Jlc2l6ZScsIEBzYXZlQm91bmRzXG4gICAgICAgIEB3aW4ub24gJ21vdmUnLCAgIEBzYXZlQm91bmRzXG4gICAgICAgIEB3aW4ub24gJ2Nsb3NlZCcsID0+IEB3aW4gPSBudWxsXG4gICAgICAgIEB3aW4ub24gJ2Nsb3NlJywgID0+IEBoaWRlRG9jaygpXG4gICAgICAgIEB3aW4ub24gJ3JlYWR5LXRvLXNob3cnLCA9PiBAd2luLnNob3coKTsgcG9zdC5lbWl0ICd3aW5SZWFkeScsIEB3aW4uaWRcbiAgICAgICAgQHNob3dEb2NrKClcbiAgICAgICAgQHdpblxuXG4gICAgc2F2ZUJvdW5kczogPT4gaWYgQHdpbj8gdGhlbiBwcmVmcy5zZXQgJ2JvdW5kcycsIEB3aW4uZ2V0Qm91bmRzKClcblxuICAgICMgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAwICAgICBcbiAgICAjIDAwMCAwIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgMDAwMDAwMDAwICAwMDAwMDAwICAgMDAwMDAwMCAgICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgICBcbiAgICAjIDAwICAgICAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgICAgXG4gICAgICAgIFxuICAgIHN0YXJ0V2F0Y2hlcjogPT5cbiAgICAgICAgIFxuICAgICAgICBAd2F0Y2hlciA9IHdhdGNoLndhdGNoIEBvcHQuZGlyXG4gICAgICAgIEB3YXRjaGVyLm9uICdjaGFuZ2UnLCBAb25TcmNDaGFuZ2VcbiAgICAgICAgQHdhdGNoZXIub24gJ2Vycm9yJywgKGVycikgLT4gZXJyb3IgZXJyXG4gICAgXG4gICAgc3RvcFdhdGNoZXI6ID0+XG4gICAgICAgICBcbiAgICAgICAgaWYgQHdhdGNoZXI/XG4gICAgICAgICAgICBAd2F0Y2hlci5jbG9zZSgpXG4gICAgICAgICAgICBAd2F0Y2hlciA9IG51bGxcbiAgICBcbiAgICBvblNyY0NoYW5nZTogKHBhdGgpID0+XG4gICAgXG4gICAgICAgIGxvZyAnb25TcmNDaGFuZ2UnLCBwYXRoLCBAb3B0LmRpciwgcGF0aC5zdGFydHNXaXRoIEBvcHQuZGlyXG4gICAgICAgIGlmIHNsYXNoLmZpbGUocGF0aCkgPT0gJ21haW4nXG4gICAgICAgICAgICBAc3RvcFdhdGNoZXIoKVxuICAgICAgICAgICAgQGFwcC5leGl0IDBcbiAgICAgICAgICAgIGNoaWxkcC5leGVjU3luYyBcIiN7QG9wdC5kaXJ9Ly4uL25vZGVfbW9kdWxlcy8uYmluL2VsZWN0cm9uIC4gLXdcIixcbiAgICAgICAgICAgICAgICBjd2Q6ICAgICAgXCIje0BvcHQuZGlyfS8uLlwiXG4gICAgICAgICAgICAgICAgZW5jb2Rpbmc6ICd1dGY4J1xuICAgICAgICAgICAgICAgIHN0ZGlvOiAgICAnaW5oZXJpdCdcbiAgICAgICAgICAgICAgICBzaGVsbDogICAgdHJ1ZVxuICAgICAgICAgICAgcHJvY2Vzcy5leGl0IDBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcG9zdC50b1dpbnMgJ21lbnVBY3Rpb24nLCAnUmVsb2FkJ1xuICAgICAgICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSBBcHBcbiAgICAiXX0=
//# sourceURL=C:/Users/kodi/s/kxk/coffee/app.coffee