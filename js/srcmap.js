(function() {
  /*
   0000000  00000000    0000000  00     00   0000000   00000000   
  000       000   000  000       000   000  000   000  000   000  
  0000000   0000000    000       000000000  000000000  00000000   
       000  000   000  000       000 0 000  000   000  000        
  0000000   000   000   0000000  000   000  000   000  000        
  */
  var _, empty, errorStack, errorTrace, filePos, fs, log, logErr, mapConvert, regex1, regex2, slash, sourceMap, toCoffee, toJs, valid;

  ({fs, valid, empty, slash, log, _} = require('./kxk'));

  sourceMap = require('source-map');

  mapConvert = require('convert-source-map');

  regex1 = /^\s+at\s+(\S+)\s+\((.*):(\d+):(\d+)\)/;

  regex2 = /^\s+at\s+(.*):(\d+):(\d+)/;

  // 000       0000000    0000000   00000000  00000000   00000000   
  // 000      000   000  000        000       000   000  000   000  
  // 000      000   000  000  0000  0000000   0000000    0000000    
  // 000      000   000  000   000  000       000   000  000   000  
  // 0000000   0000000    0000000   00000000  000   000  000   000  
  logErr = function(err, sep = '💥') {
    var i, len, line, ref, results, trace;
    console.log(errorStack(err));
    trace = errorTrace(err);
    log.ulog({
      str: trace.text,
      source: trace.lines[0].file,
      line: trace.lines[0].line,
      sep: sep
    });
    ref = trace.lines;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      line = ref[i];
      sep = slash.isAbsolute(line.file) ? '🐞' : '🔼';
      if (sep === '🐞' || line.file[0] === '.') {
        results.push(log.ulog({
          str: '       ' + line.func,
          source: line.file,
          line: line.line,
          sep: sep
        }));
      } else {
        results.push(void 0);
      }
    }
    return results;
  };

  // 00000000  000  000      00000000  00000000    0000000    0000000  
  // 000       000  000      000       000   000  000   000  000       
  // 000000    000  000      0000000   00000000   000   000  0000000   
  // 000       000  000      000       000        000   000       000  
  // 000       000  0000000  00000000  000         0000000   0000000   
  filePos = function(line) {
    var mappedLine, match, result;
    if (match = regex1.exec(line)) {
      result = {
        func: match[1].replace('.<anonymous>', ''),
        file: match[2],
        line: match[3],
        col: match[4]
      };
      if (slash.ext(result.file) === 'js') {
        mappedLine = toCoffee(result.file, result.line, result.col);
        if (mappedLine != null) {
          result.file = mappedLine[0];
          result.line = mappedLine[1];
          result.col = mappedLine[2];
        }
      }
    } else if (match = regex2.exec(line)) {
      result = {
        func: slash.file(match[1]),
        file: match[1],
        line: match[2],
        col: match[3]
      };
      if (slash.ext(result.file) === 'js') {
        mappedLine = toCoffee(result.file, result.line, result.col);
        if (mappedLine != null) {
          result.file = mappedLine[0];
          result.line = mappedLine[1];
          result.col = mappedLine[2];
        }
      }
    }
    return result;
  };

  //  0000000  000000000   0000000    0000000  000   000  
  // 000          000     000   000  000       000  000   
  // 0000000      000     000000000  000       0000000    
  //      000     000     000   000  000       000  000   
  // 0000000      000     000   000   0000000  000   000  
  errorStack = function(err) {
    var fp, i, len, lines, ref, stackLine;
    lines = [];
    ref = err.stack.split('\n');
    for (i = 0, len = ref.length; i < len; i++) {
      stackLine = ref[i];
      if (fp = filePos(stackLine)) {
        lines.push(`       ${_.padEnd(fp.func, 30)} ${fp.file}:${fp.line}`);
      } else {
        lines.push(stackLine);
      }
    }
    return lines.join('\n');
  };

  // 000000000  00000000    0000000    0000000  00000000  
  //    000     000   000  000   000  000       000       
  //    000     0000000    000000000  000       0000000   
  //    000     000   000  000   000  000       000       
  //    000     000   000  000   000   0000000  00000000  
  errorTrace = function(err) {
    var fp, i, len, lines, ref, stackLine, text;
    lines = [];
    text = [];
    console.log(err.stack);
    ref = err.stack.split('\n');
    for (i = 0, len = ref.length; i < len; i++) {
      stackLine = ref[i];
      if (fp = filePos(stackLine)) {
        lines.push(fp);
      } else {
        text.push(stackLine);
      }
    }
    return {
      lines: lines,
      text: text.join('\n')
    };
  };

  
  // 000000000   0000000          0000000   0000000   00000000  00000000  00000000  00000000  
  //    000     000   000        000       000   000  000       000       000       000       
  //    000     000   000        000       000   000  000000    000000    0000000   0000000   
  //    000     000   000        000       000   000  000       000       000       000       
  //    000      0000000          0000000   0000000   000       000       00000000  00000000  
  toCoffee = function(jsFile, jsLine, jsCol = 0) {
    var coffeeCol, coffeeFile, coffeeLine, consumer, mapData, pos, ref;
    jsLine = parseInt(jsLine);
    jsCol = parseInt(jsCol);
    coffeeFile = slash.path(jsFile);
    coffeeLine = jsLine;
    coffeeCol = jsCol;
    if (slash.fileExists(jsFile)) {
      mapData = (ref = mapConvert.fromSource(fs.readFileSync(jsFile, 'utf8'))) != null ? ref.toObject() : void 0;
      if (valid(mapData)) {
        if (mapData != null ? mapData.sources[0] : void 0) {
          mapData.sources[0] = slash.resolve(slash.join(slash.dir(jsFile), mapData != null ? mapData.sources[0] : void 0));
        }
        consumer = new sourceMap.SourceMapConsumer(mapData);
        if (consumer.originalPositionFor) {
          pos = consumer.originalPositionFor({
            line: jsLine,
            column: jsCol,
            bias: sourceMap.SourceMapConsumer.LEAST_UPPER_BOUND
          });
          if (pos.line && pos.column) {
            coffeeFile = mapData.sources[0];
            coffeeLine = pos.line;
            coffeeCol = pos.column;
          }
        }
      }
    }
    return [coffeeFile, coffeeLine, coffeeCol];
  };

  // 000000000   0000000               000   0000000  
  //    000     000   000              000  000       
  //    000     000   000              000  0000000   
  //    000     000   000        000   000       000  
  //    000      0000000          0000000   0000000   
  toJs = function(coffeeFile, coffeeLine, coffeeCol = 0) {
    var consumer, jsCol, jsFile, jsLine, mapData, mapFile, poss, srcFile;
    jsFile = coffeeFile.replace(/\/coffee\//, '/js/');
    jsFile = jsFile.replace(/\.coffee$/, '.js');
    if (!slash.fileExists(jsFile)) {
      if (typeof jsLine === "undefined" || jsLine === null) {
        return null;
      }
      return [null, null, null];
    }
    if (coffeeLine == null) {
      return jsFile;
    }
    mapFile = jsFile;
    if (slash.fileExists(mapFile)) {
      mapData = mapConvert.fromSource(fs.readFileSync(mapFile, 'utf8')).toObject();
      consumer = new sourceMap.SourceMapConsumer(mapData);
      if ((consumer != null ? consumer.allGeneratedPositionsFor : void 0) != null) {
        srcFile = 'js/' + jsFile.split('/js/')[1];
        poss = consumer.allGeneratedPositionsFor({
          source: srcFile,
          line: coffeeLine,
          column: coffeeCol
        });
        if (!poss.length && coffeeCol) {
          poss = consumer.allGeneratedPositionsFor({
            source: srcFile,
            line: coffeeLine,
            column: 0
          });
        }
      } else {
        log(consumer != null, (consumer != null ? consumer.allGeneratedPositionsFor : void 0) != null);
        log('no allGeneratedPositionsFor in', consumer);
      }
      if (empty(poss)) {
        return [jsFile, null, null];
      }
      jsLine = poss[0].line;
      jsCol = poss[0].column;
    } else {
      jsLine = null;
      jsCol = null;
    }
    return [jsFile, jsLine, jsCol];
  };

  module.exports = {
    toJs: toJs,
    toCoffee: toCoffee,
    errorStack: errorStack,
    errorTrace: errorTrace,
    logErr: logErr
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjbWFwLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIi4uL2NvZmZlZS9zcmNtYXAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7QUFBQSxNQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBOztFQVFBLENBQUEsQ0FBRSxFQUFGLEVBQU0sS0FBTixFQUFhLEtBQWIsRUFBb0IsS0FBcEIsRUFBMkIsR0FBM0IsRUFBZ0MsQ0FBaEMsQ0FBQSxHQUFzQyxPQUFBLENBQVEsT0FBUixDQUF0Qzs7RUFFQSxTQUFBLEdBQWEsT0FBQSxDQUFRLFlBQVI7O0VBQ2IsVUFBQSxHQUFhLE9BQUEsQ0FBUSxvQkFBUjs7RUFDYixNQUFBLEdBQWE7O0VBQ2IsTUFBQSxHQUFhLDRCQWJiOzs7Ozs7O0VBc0JBLE1BQUEsR0FBUyxRQUFBLENBQUMsR0FBRCxFQUFNLE1BQUksSUFBVixDQUFBO0FBRUwsUUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBO0lBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxVQUFBLENBQVcsR0FBWCxDQUFaO0lBQ0EsS0FBQSxHQUFRLFVBQUEsQ0FBVyxHQUFYO0lBQ1IsR0FBRyxDQUFDLElBQUosQ0FBUztNQUFBLEdBQUEsRUFBSSxLQUFLLENBQUMsSUFBVjtNQUFnQixNQUFBLEVBQU8sS0FBSyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUF0QztNQUE0QyxJQUFBLEVBQUssS0FBSyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUFoRTtNQUFzRSxHQUFBLEVBQUk7SUFBMUUsQ0FBVDtBQUNBO0FBQUE7SUFBQSxLQUFBLHFDQUFBOztNQUNJLEdBQUEsR0FBUyxLQUFLLENBQUMsVUFBTixDQUFpQixJQUFJLENBQUMsSUFBdEIsQ0FBSCxHQUFtQyxJQUFuQyxHQUE2QztNQUNuRCxJQUFHLEdBQUEsS0FBTyxJQUFQLElBQWUsSUFBSSxDQUFDLElBQUssQ0FBQSxDQUFBLENBQVYsS0FBZ0IsR0FBbEM7cUJBQ0ksR0FBRyxDQUFDLElBQUosQ0FBUztVQUFBLEdBQUEsRUFBSSxTQUFBLEdBQVUsSUFBSSxDQUFDLElBQW5CO1VBQXlCLE1BQUEsRUFBTyxJQUFJLENBQUMsSUFBckM7VUFBMkMsSUFBQSxFQUFLLElBQUksQ0FBQyxJQUFyRDtVQUEyRCxHQUFBLEVBQUk7UUFBL0QsQ0FBVCxHQURKO09BQUEsTUFBQTs2QkFBQTs7SUFGSixDQUFBOztFQUxLLEVBdEJUOzs7Ozs7O0VBc0NBLE9BQUEsR0FBVSxRQUFBLENBQUMsSUFBRCxDQUFBO0FBRU4sUUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBO0lBQUEsSUFBRyxLQUFBLEdBQVEsTUFBTSxDQUFDLElBQVAsQ0FBWSxJQUFaLENBQVg7TUFFSSxNQUFBLEdBQ0k7UUFBQSxJQUFBLEVBQU0sS0FBTSxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQVQsQ0FBaUIsY0FBakIsRUFBaUMsRUFBakMsQ0FBTjtRQUNBLElBQUEsRUFBTSxLQUFNLENBQUEsQ0FBQSxDQURaO1FBRUEsSUFBQSxFQUFNLEtBQU0sQ0FBQSxDQUFBLENBRlo7UUFHQSxHQUFBLEVBQU0sS0FBTSxDQUFBLENBQUE7TUFIWjtNQUtKLElBQUcsS0FBSyxDQUFDLEdBQU4sQ0FBVSxNQUFNLENBQUMsSUFBakIsQ0FBQSxLQUEwQixJQUE3QjtRQUVJLFVBQUEsR0FBYSxRQUFBLENBQVMsTUFBTSxDQUFDLElBQWhCLEVBQXNCLE1BQU0sQ0FBQyxJQUE3QixFQUFtQyxNQUFNLENBQUMsR0FBMUM7UUFFYixJQUFHLGtCQUFIO1VBQ0ksTUFBTSxDQUFDLElBQVAsR0FBYyxVQUFXLENBQUEsQ0FBQTtVQUN6QixNQUFNLENBQUMsSUFBUCxHQUFjLFVBQVcsQ0FBQSxDQUFBO1VBQ3pCLE1BQU0sQ0FBQyxHQUFQLEdBQWMsVUFBVyxDQUFBLENBQUEsRUFIN0I7U0FKSjtPQVJKO0tBQUEsTUFpQkssSUFBRyxLQUFBLEdBQVEsTUFBTSxDQUFDLElBQVAsQ0FBWSxJQUFaLENBQVg7TUFFRCxNQUFBLEdBQ0k7UUFBQSxJQUFBLEVBQU0sS0FBSyxDQUFDLElBQU4sQ0FBVyxLQUFNLENBQUEsQ0FBQSxDQUFqQixDQUFOO1FBQ0EsSUFBQSxFQUFNLEtBQU0sQ0FBQSxDQUFBLENBRFo7UUFFQSxJQUFBLEVBQU0sS0FBTSxDQUFBLENBQUEsQ0FGWjtRQUdBLEdBQUEsRUFBTSxLQUFNLENBQUEsQ0FBQTtNQUhaO01BS0osSUFBRyxLQUFLLENBQUMsR0FBTixDQUFVLE1BQU0sQ0FBQyxJQUFqQixDQUFBLEtBQTBCLElBQTdCO1FBRUksVUFBQSxHQUFhLFFBQUEsQ0FBUyxNQUFNLENBQUMsSUFBaEIsRUFBc0IsTUFBTSxDQUFDLElBQTdCLEVBQW1DLE1BQU0sQ0FBQyxHQUExQztRQUViLElBQUcsa0JBQUg7VUFDSSxNQUFNLENBQUMsSUFBUCxHQUFjLFVBQVcsQ0FBQSxDQUFBO1VBQ3pCLE1BQU0sQ0FBQyxJQUFQLEdBQWMsVUFBVyxDQUFBLENBQUE7VUFDekIsTUFBTSxDQUFDLEdBQVAsR0FBYyxVQUFXLENBQUEsQ0FBQSxFQUg3QjtTQUpKO09BUkM7O1dBZ0JMO0VBbkNNLEVBdENWOzs7Ozs7O0VBaUZBLFVBQUEsR0FBYSxRQUFBLENBQUMsR0FBRCxDQUFBO0FBRVQsUUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBO0lBQUEsS0FBQSxHQUFRO0FBRVI7SUFBQSxLQUFBLHFDQUFBOztNQUVJLElBQUcsRUFBQSxHQUFLLE9BQUEsQ0FBUSxTQUFSLENBQVI7UUFDSSxLQUFLLENBQUMsSUFBTixDQUFXLFFBQUEsQ0FBQSxDQUFVLENBQUMsQ0FBQyxNQUFGLENBQVMsRUFBRSxDQUFDLElBQVosRUFBa0IsRUFBbEIsQ0FBVixFQUFBLENBQUEsQ0FBa0MsRUFBRSxDQUFDLElBQXJDLENBQTBDLENBQTFDLENBQUEsQ0FBNkMsRUFBRSxDQUFDLElBQWhELENBQUEsQ0FBWCxFQURKO09BQUEsTUFBQTtRQUdJLEtBQUssQ0FBQyxJQUFOLENBQVcsU0FBWCxFQUhKOztJQUZKO1dBT0EsS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFYO0VBWFMsRUFqRmI7Ozs7Ozs7RUFvR0EsVUFBQSxHQUFhLFFBQUEsQ0FBQyxHQUFELENBQUE7QUFFVCxRQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsU0FBQSxFQUFBO0lBQUEsS0FBQSxHQUFRO0lBQ1IsSUFBQSxHQUFRO0lBRVIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxHQUFHLENBQUMsS0FBaEI7QUFFQTtJQUFBLEtBQUEscUNBQUE7O01BRUksSUFBRyxFQUFBLEdBQUssT0FBQSxDQUFRLFNBQVIsQ0FBUjtRQUNJLEtBQUssQ0FBQyxJQUFOLENBQVcsRUFBWCxFQURKO09BQUEsTUFBQTtRQUdJLElBQUksQ0FBQyxJQUFMLENBQVUsU0FBVixFQUhKOztJQUZKO1dBT0E7TUFBQSxLQUFBLEVBQVEsS0FBUjtNQUNBLElBQUEsRUFBUSxJQUFJLENBQUMsSUFBTCxDQUFVLElBQVY7SUFEUjtFQWRTLEVBcEdiOzs7Ozs7OztFQTJIQSxRQUFBLEdBQVksUUFBQSxDQUFDLE1BQUQsRUFBUyxNQUFULEVBQWlCLFFBQU0sQ0FBdkIsQ0FBQTtBQUVSLFFBQUEsU0FBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7SUFBQSxNQUFBLEdBQVMsUUFBQSxDQUFTLE1BQVQ7SUFDVCxLQUFBLEdBQVMsUUFBQSxDQUFTLEtBQVQ7SUFFVCxVQUFBLEdBQWEsS0FBSyxDQUFDLElBQU4sQ0FBVyxNQUFYO0lBQ2IsVUFBQSxHQUFhO0lBQ2IsU0FBQSxHQUFhO0lBRWIsSUFBRyxLQUFLLENBQUMsVUFBTixDQUFpQixNQUFqQixDQUFIO01BQ0ksT0FBQSwrRUFBK0QsQ0FBRSxRQUF2RCxDQUFBO01BQ1YsSUFBRyxLQUFBLENBQU0sT0FBTixDQUFIO1FBQ0ksc0JBQXdGLE9BQU8sQ0FBRSxPQUFRLENBQUEsQ0FBQSxVQUF6RztVQUFBLE9BQU8sQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFoQixHQUFxQixLQUFLLENBQUMsT0FBTixDQUFjLEtBQUssQ0FBQyxJQUFOLENBQVcsS0FBSyxDQUFDLEdBQU4sQ0FBVSxNQUFWLENBQVgsb0JBQThCLE9BQU8sQ0FBRSxPQUFRLENBQUEsQ0FBQSxVQUEvQyxDQUFkLEVBQXJCOztRQUNBLFFBQUEsR0FBVyxJQUFJLFNBQVMsQ0FBQyxpQkFBZCxDQUFnQyxPQUFoQztRQUNYLElBQUcsUUFBUSxDQUFDLG1CQUFaO1VBQ0ksR0FBQSxHQUFNLFFBQVEsQ0FBQyxtQkFBVCxDQUE2QjtZQUFBLElBQUEsRUFBSyxNQUFMO1lBQWEsTUFBQSxFQUFPLEtBQXBCO1lBQTJCLElBQUEsRUFBSyxTQUFTLENBQUMsaUJBQWlCLENBQUM7VUFBNUQsQ0FBN0I7VUFDTixJQUFHLEdBQUcsQ0FBQyxJQUFKLElBQWEsR0FBRyxDQUFDLE1BQXBCO1lBQ0ksVUFBQSxHQUFhLE9BQU8sQ0FBQyxPQUFRLENBQUEsQ0FBQTtZQUM3QixVQUFBLEdBQWEsR0FBRyxDQUFDO1lBQ2pCLFNBQUEsR0FBYSxHQUFHLENBQUMsT0FIckI7V0FGSjtTQUhKO09BRko7O1dBWUEsQ0FBQyxVQUFELEVBQWEsVUFBYixFQUF5QixTQUF6QjtFQXJCUSxFQTNIWjs7Ozs7OztFQXdKQSxJQUFBLEdBQU8sUUFBQSxDQUFDLFVBQUQsRUFBYSxVQUFiLEVBQXlCLFlBQVUsQ0FBbkMsQ0FBQTtBQUVILFFBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBO0lBQUEsTUFBQSxHQUFTLFVBQVUsQ0FBQyxPQUFYLENBQW1CLFlBQW5CLEVBQWlDLE1BQWpDO0lBQ1QsTUFBQSxHQUFTLE1BQU0sQ0FBQyxPQUFQLENBQWUsV0FBZixFQUE0QixLQUE1QjtJQUVULElBQUcsQ0FBSSxLQUFLLENBQUMsVUFBTixDQUFpQixNQUFqQixDQUFQO01BQ0ksSUFBTyxnREFBUDtBQUFvQixlQUFPLEtBQTNCOztBQUNBLGFBQU8sQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFGWDs7SUFJQSxJQUFPLGtCQUFQO0FBQXdCLGFBQU8sT0FBL0I7O0lBRUEsT0FBQSxHQUFVO0lBRVYsSUFBRyxLQUFLLENBQUMsVUFBTixDQUFpQixPQUFqQixDQUFIO01BRUksT0FBQSxHQUFVLFVBQVUsQ0FBQyxVQUFYLENBQXNCLEVBQUUsQ0FBQyxZQUFILENBQWdCLE9BQWhCLEVBQXlCLE1BQXpCLENBQXRCLENBQXNELENBQUMsUUFBdkQsQ0FBQTtNQUVWLFFBQUEsR0FBVyxJQUFJLFNBQVMsQ0FBQyxpQkFBZCxDQUFnQyxPQUFoQztNQUVYLElBQUcsdUVBQUg7UUFDSSxPQUFBLEdBQVUsS0FBQSxHQUFNLE1BQU0sQ0FBQyxLQUFQLENBQWEsTUFBYixDQUFxQixDQUFBLENBQUE7UUFDckMsSUFBQSxHQUFPLFFBQVEsQ0FBQyx3QkFBVCxDQUFrQztVQUFBLE1BQUEsRUFBTyxPQUFQO1VBQWdCLElBQUEsRUFBSyxVQUFyQjtVQUFpQyxNQUFBLEVBQU87UUFBeEMsQ0FBbEM7UUFDUCxJQUFHLENBQUksSUFBSSxDQUFDLE1BQVQsSUFBb0IsU0FBdkI7VUFDSSxJQUFBLEdBQU8sUUFBUSxDQUFDLHdCQUFULENBQWtDO1lBQUEsTUFBQSxFQUFPLE9BQVA7WUFBZ0IsSUFBQSxFQUFLLFVBQXJCO1lBQWlDLE1BQUEsRUFBTztVQUF4QyxDQUFsQyxFQURYO1NBSEo7T0FBQSxNQUFBO1FBTUksR0FBQSxDQUFJLGdCQUFKLEVBQWUsdUVBQWY7UUFDQSxHQUFBLENBQUksZ0NBQUosRUFBc0MsUUFBdEMsRUFQSjs7TUFTQSxJQUE2QixLQUFBLENBQU0sSUFBTixDQUE3QjtBQUFBLGVBQU8sQ0FBQyxNQUFELEVBQVEsSUFBUixFQUFhLElBQWIsRUFBUDs7TUFDQSxNQUFBLEdBQVMsSUFBSyxDQUFBLENBQUEsQ0FBRSxDQUFDO01BQ2pCLEtBQUEsR0FBUyxJQUFLLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FqQnJCO0tBQUEsTUFBQTtNQW1CSSxNQUFBLEdBQVM7TUFDVCxLQUFBLEdBQVMsS0FwQmI7O1dBc0JBLENBQUMsTUFBRCxFQUFTLE1BQVQsRUFBaUIsS0FBakI7RUFuQ0c7O0VBcUNQLE1BQU0sQ0FBQyxPQUFQLEdBQ0k7SUFBQSxJQUFBLEVBQVksSUFBWjtJQUNBLFFBQUEsRUFBWSxRQURaO0lBRUEsVUFBQSxFQUFZLFVBRlo7SUFHQSxVQUFBLEVBQVksVUFIWjtJQUlBLE1BQUEsRUFBWTtFQUpaO0FBOUxKIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4gMDAwMDAwMCAgMDAwMDAwMDAgICAgMDAwMDAwMCAgMDAgICAgIDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgXG4wMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgXG4wMDAwMDAwICAgMDAwMDAwMCAgICAwMDAgICAgICAgMDAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwICAgXG4gICAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwIDAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgXG4wMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgXG4jIyNcblxueyBmcywgdmFsaWQsIGVtcHR5LCBzbGFzaCwgbG9nLCBfIH0gPSByZXF1aXJlICcuL2t4aydcblxuc291cmNlTWFwICA9IHJlcXVpcmUgJ3NvdXJjZS1tYXAnXG5tYXBDb252ZXJ0ID0gcmVxdWlyZSAnY29udmVydC1zb3VyY2UtbWFwJ1xucmVnZXgxICAgICA9IC9eXFxzK2F0XFxzKyhcXFMrKVxccytcXCgoLiopOihcXGQrKTooXFxkKylcXCkvXHJcbnJlZ2V4MiAgICAgPSAvXlxccythdFxccysoLiopOihcXGQrKTooXFxkKykvXHJcblxuXG4jIDAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIFxuIyAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICBcbiMgMDAwICAgICAgMDAwICAgMDAwICAwMDAgIDAwMDAgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgXG4jIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIFxuIyAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICBcblxubG9nRXJyID0gKGVyciwgc2VwPSfwn5KlJykgLT5cbiAgICBcbiAgICBjb25zb2xlLmxvZyBlcnJvclN0YWNrIGVyclxuICAgIHRyYWNlID0gZXJyb3JUcmFjZSBlcnJcbiAgICBsb2cudWxvZyBzdHI6dHJhY2UudGV4dCwgc291cmNlOnRyYWNlLmxpbmVzWzBdLmZpbGUsIGxpbmU6dHJhY2UubGluZXNbMF0ubGluZSwgc2VwOnNlcFxuICAgIGZvciBsaW5lIGluIHRyYWNlLmxpbmVzXG4gICAgICAgIHNlcCA9IGlmIHNsYXNoLmlzQWJzb2x1dGUgbGluZS5maWxlIHRoZW4gJ/CfkJ4nIGVsc2UgJ/CflLwnXG4gICAgICAgIGlmIHNlcCA9PSAn8J+Qnicgb3IgbGluZS5maWxlWzBdID09ICcuJ1xuICAgICAgICAgICAgbG9nLnVsb2cgc3RyOicgICAgICAgJytsaW5lLmZ1bmMsIHNvdXJjZTpsaW5lLmZpbGUsIGxpbmU6bGluZS5saW5lLCBzZXA6c2VwXG5cbiMgMDAwMDAwMDAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgXG4jIDAwMCAgICAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIFxuIyAwMDAwMDAgICAgMDAwICAwMDAgICAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICBcbiMgMDAwICAgICAgIDAwMCAgMDAwICAgICAgMDAwICAgICAgIDAwMCAgICAgICAgMDAwICAgMDAwICAgICAgIDAwMCAgXG4jIDAwMCAgICAgICAwMDAgIDAwMDAwMDAgIDAwMDAwMDAwICAwMDAgICAgICAgICAwMDAwMDAwICAgMDAwMDAwMCAgIFxuXG5maWxlUG9zID0gKGxpbmUpIC0+XG5cbiAgICBpZiBtYXRjaCA9IHJlZ2V4MS5leGVjIGxpbmVcbiAgICAgICAgXG4gICAgICAgIHJlc3VsdCA9XG4gICAgICAgICAgICBmdW5jOiBtYXRjaFsxXS5yZXBsYWNlICcuPGFub255bW91cz4nLCAnJ1xuICAgICAgICAgICAgZmlsZTogbWF0Y2hbMl1cclxuICAgICAgICAgICAgbGluZTogbWF0Y2hbM11cclxuICAgICAgICAgICAgY29sOiAgbWF0Y2hbNF1cclxuICAgICAgICBcbiAgICAgICAgaWYgc2xhc2guZXh0KHJlc3VsdC5maWxlKSA9PSAnanMnXHJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWFwcGVkTGluZSA9IHRvQ29mZmVlIHJlc3VsdC5maWxlLCByZXN1bHQubGluZSwgcmVzdWx0LmNvbFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBtYXBwZWRMaW5lP1xuICAgICAgICAgICAgICAgIHJlc3VsdC5maWxlID0gbWFwcGVkTGluZVswXVxuICAgICAgICAgICAgICAgIHJlc3VsdC5saW5lID0gbWFwcGVkTGluZVsxXVxuICAgICAgICAgICAgICAgIHJlc3VsdC5jb2wgID0gbWFwcGVkTGluZVsyXVxuXG4gICAgZWxzZSBpZiBtYXRjaCA9IHJlZ2V4Mi5leGVjIGxpbmVcbiAgICAgICAgXG4gICAgICAgIHJlc3VsdCA9XG4gICAgICAgICAgICBmdW5jOiBzbGFzaC5maWxlIG1hdGNoWzFdXG4gICAgICAgICAgICBmaWxlOiBtYXRjaFsxXVxyXG4gICAgICAgICAgICBsaW5lOiBtYXRjaFsyXVxyXG4gICAgICAgICAgICBjb2w6ICBtYXRjaFszXVxyXG4gICAgICAgIFxuICAgICAgICBpZiBzbGFzaC5leHQocmVzdWx0LmZpbGUpID09ICdqcydcclxuICAgICAgICAgICAgXG4gICAgICAgICAgICBtYXBwZWRMaW5lID0gdG9Db2ZmZWUgcmVzdWx0LmZpbGUsIHJlc3VsdC5saW5lLCByZXN1bHQuY29sXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIG1hcHBlZExpbmU/XG4gICAgICAgICAgICAgICAgcmVzdWx0LmZpbGUgPSBtYXBwZWRMaW5lWzBdXG4gICAgICAgICAgICAgICAgcmVzdWx0LmxpbmUgPSBtYXBwZWRMaW5lWzFdXG4gICAgICAgICAgICAgICAgcmVzdWx0LmNvbCAgPSBtYXBwZWRMaW5lWzJdXG4gICAgcmVzdWx0XG5cbiMgIDAwMDAwMDAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMCAgMDAwICAgMDAwICBcbiMgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAwMDAgICBcbiMgMDAwMDAwMCAgICAgIDAwMCAgICAgMDAwMDAwMDAwICAwMDAgICAgICAgMDAwMDAwMCAgICBcbiMgICAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAwMDAgICBcbiMgMDAwMDAwMCAgICAgIDAwMCAgICAgMDAwICAgMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwICBcblxuZXJyb3JTdGFjayA9IChlcnIpIC0+XG4gICAgXG4gICAgbGluZXMgPSBbXVxyXG4gICAgXG4gICAgZm9yIHN0YWNrTGluZSBpbiBlcnIuc3RhY2suc3BsaXQgJ1xcbicgXHJcbiAgICAgICAgXG4gICAgICAgIGlmIGZwID0gZmlsZVBvcyBzdGFja0xpbmVcbiAgICAgICAgICAgIGxpbmVzLnB1c2ggXCIgICAgICAgI3tfLnBhZEVuZCBmcC5mdW5jLCAzMH0gI3tmcC5maWxlfToje2ZwLmxpbmV9XCIgXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBsaW5lcy5wdXNoIHN0YWNrTGluZSBcclxuXHIgIFxuICAgIGxpbmVzLmpvaW4gJ1xcbidcblxuIyAwMDAwMDAwMDAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgMDAwMDAwMDAgIFxuIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgIFxuIyAgICAwMDAgICAgIDAwMDAwMDAgICAgMDAwMDAwMDAwICAwMDAgICAgICAgMDAwMDAwMCAgIFxuIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgIFxuIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgMDAwMDAwMDAgIFxuXG5lcnJvclRyYWNlID0gKGVycikgLT5cbiAgICBcbiAgICBsaW5lcyA9IFtdXHJcbiAgICB0ZXh0ICA9IFtdXG5cbiAgICBjb25zb2xlLmxvZyBlcnIuc3RhY2tcbiAgICBcbiAgICBmb3Igc3RhY2tMaW5lIGluIGVyci5zdGFjay5zcGxpdCAnXFxuJyBcclxuICAgICAgICBcbiAgICAgICAgaWYgZnAgPSBmaWxlUG9zIHN0YWNrTGluZVxuICAgICAgICAgICAgbGluZXMucHVzaCBmcFxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRleHQucHVzaCBzdGFja0xpbmUgXHJcblxyICBcbiAgICBsaW5lczogIGxpbmVzXG4gICAgdGV4dDogICB0ZXh0LmpvaW4gJ1xcbidcbiAgICBcbiMgMDAwMDAwMDAwICAgMDAwMDAwMCAgICAgICAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAwMDAwMDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAwICBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgICAgIDAwMCAgICAgICBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMDAwMCAgICAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgICAgIDAwMCAgICAgICBcbiMgICAgMDAwICAgICAgMDAwMDAwMCAgICAgICAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwMDAwMDAgIDAwMDAwMDAwICBcblxudG9Db2ZmZWUgID0gKGpzRmlsZSwganNMaW5lLCBqc0NvbD0wKSAtPlxuXG4gICAganNMaW5lID0gcGFyc2VJbnQganNMaW5lXG4gICAganNDb2wgID0gcGFyc2VJbnQganNDb2xcbiAgICBcbiAgICBjb2ZmZWVGaWxlID0gc2xhc2gucGF0aCBqc0ZpbGVcbiAgICBjb2ZmZWVMaW5lID0ganNMaW5lXG4gICAgY29mZmVlQ29sICA9IGpzQ29sXG4gICAgICAgIFxuICAgIGlmIHNsYXNoLmZpbGVFeGlzdHMganNGaWxlXG4gICAgICAgIG1hcERhdGEgPSBtYXBDb252ZXJ0LmZyb21Tb3VyY2UoZnMucmVhZEZpbGVTeW5jIGpzRmlsZSwgJ3V0ZjgnKT8udG9PYmplY3QoKVxuICAgICAgICBpZiB2YWxpZCBtYXBEYXRhXG4gICAgICAgICAgICBtYXBEYXRhLnNvdXJjZXNbMF0gPSBzbGFzaC5yZXNvbHZlIHNsYXNoLmpvaW4gc2xhc2guZGlyKGpzRmlsZSksIG1hcERhdGE/LnNvdXJjZXNbMF0gaWYgbWFwRGF0YT8uc291cmNlc1swXVxuICAgICAgICAgICAgY29uc3VtZXIgPSBuZXcgc291cmNlTWFwLlNvdXJjZU1hcENvbnN1bWVyKG1hcERhdGEpXG4gICAgICAgICAgICBpZiBjb25zdW1lci5vcmlnaW5hbFBvc2l0aW9uRm9yXG4gICAgICAgICAgICAgICAgcG9zID0gY29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvciBsaW5lOmpzTGluZSwgY29sdW1uOmpzQ29sLCBiaWFzOnNvdXJjZU1hcC5Tb3VyY2VNYXBDb25zdW1lci5MRUFTVF9VUFBFUl9CT1VORFxuICAgICAgICAgICAgICAgIGlmIHBvcy5saW5lIGFuZCBwb3MuY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIGNvZmZlZUZpbGUgPSBtYXBEYXRhLnNvdXJjZXNbMF1cbiAgICAgICAgICAgICAgICAgICAgY29mZmVlTGluZSA9IHBvcy5saW5lIFxuICAgICAgICAgICAgICAgICAgICBjb2ZmZWVDb2wgID0gcG9zLmNvbHVtblxuICAgICAgICBcbiAgICBbY29mZmVlRmlsZSwgY29mZmVlTGluZSwgY29mZmVlQ29sXVxuXG4jIDAwMDAwMDAwMCAgIDAwMDAwMDAgICAgICAgICAgICAgICAwMDAgICAwMDAwMDAwICBcbiMgICAgMDAwICAgICAwMDAgICAwMDAgICAgICAgICAgICAgIDAwMCAgMDAwICAgICAgIFxuIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgICAgICAgICAgICAgMDAwICAwMDAwMDAwICAgXG4jICAgIDAwMCAgICAgMDAwICAgMDAwICAgICAgICAwMDAgICAwMDAgICAgICAgMDAwICBcbiMgICAgMDAwICAgICAgMDAwMDAwMCAgICAgICAgICAwMDAwMDAwICAgMDAwMDAwMCAgIFxuXG50b0pzID0gKGNvZmZlZUZpbGUsIGNvZmZlZUxpbmUsIGNvZmZlZUNvbD0wKSAtPlxuICAgIFxuICAgIGpzRmlsZSA9IGNvZmZlZUZpbGUucmVwbGFjZSAvXFwvY29mZmVlXFwvLywgJy9qcy8nXG4gICAganNGaWxlID0ganNGaWxlLnJlcGxhY2UgL1xcLmNvZmZlZSQvLCAnLmpzJ1xuICAgIFxuICAgIGlmIG5vdCBzbGFzaC5maWxlRXhpc3RzIGpzRmlsZSBcbiAgICAgICAgaWYgbm90IGpzTGluZT8gdGhlbiByZXR1cm4gbnVsbFxuICAgICAgICByZXR1cm4gW251bGwsIG51bGwsIG51bGxdXG4gICAgICAgIFxuICAgIGlmIG5vdCBjb2ZmZWVMaW5lPyB0aGVuIHJldHVybiBqc0ZpbGVcbiAgICBcbiAgICBtYXBGaWxlID0ganNGaWxlXG4gICAgXG4gICAgaWYgc2xhc2guZmlsZUV4aXN0cyBtYXBGaWxlXG5cbiAgICAgICAgbWFwRGF0YSA9IG1hcENvbnZlcnQuZnJvbVNvdXJjZShmcy5yZWFkRmlsZVN5bmMgbWFwRmlsZSwgJ3V0ZjgnKS50b09iamVjdCgpXG5cbiAgICAgICAgY29uc3VtZXIgPSBuZXcgc291cmNlTWFwLlNvdXJjZU1hcENvbnN1bWVyIG1hcERhdGFcbiAgICAgICAgXG4gICAgICAgIGlmIGNvbnN1bWVyPy5hbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3I/XG4gICAgICAgICAgICBzcmNGaWxlID0gJ2pzLycranNGaWxlLnNwbGl0KCcvanMvJylbMV1cbiAgICAgICAgICAgIHBvc3MgPSBjb25zdW1lci5hbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3Igc291cmNlOnNyY0ZpbGUsIGxpbmU6Y29mZmVlTGluZSwgY29sdW1uOmNvZmZlZUNvbFxuICAgICAgICAgICAgaWYgbm90IHBvc3MubGVuZ3RoIGFuZCBjb2ZmZWVDb2xcbiAgICAgICAgICAgICAgICBwb3NzID0gY29uc3VtZXIuYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yIHNvdXJjZTpzcmNGaWxlLCBsaW5lOmNvZmZlZUxpbmUsIGNvbHVtbjowXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxvZyBjb25zdW1lcj8sIGNvbnN1bWVyPy5hbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3I/XG4gICAgICAgICAgICBsb2cgJ25vIGFsbEdlbmVyYXRlZFBvc2l0aW9uc0ZvciBpbicsIGNvbnN1bWVyXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIFtqc0ZpbGUsbnVsbCxudWxsXSBpZiBlbXB0eSBwb3NzXG4gICAgICAgIGpzTGluZSA9IHBvc3NbMF0ubGluZVxuICAgICAgICBqc0NvbCAgPSBwb3NzWzBdLmNvbHVtblxuICAgIGVsc2VcbiAgICAgICAganNMaW5lID0gbnVsbFxuICAgICAgICBqc0NvbCAgPSBudWxsXG4gICAgICAgIFxuICAgIFtqc0ZpbGUsIGpzTGluZSwganNDb2xdXG4gICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPVxuICAgIHRvSnM6ICAgICAgIHRvSnNcbiAgICB0b0NvZmZlZTogICB0b0NvZmZlZVxuICAgIGVycm9yU3RhY2s6IGVycm9yU3RhY2tcbiAgICBlcnJvclRyYWNlOiBlcnJvclRyYWNlXG4gICAgbG9nRXJyOiAgICAgbG9nRXJyXG4gICAgXG4gICAgIl19
//# sourceURL=../coffee/srcmap.coffee