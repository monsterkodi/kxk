(function() {
  /*
   0000000  000       0000000    0000000  000   000    
  000       000      000   000  000       000   000    
  0000000   000      000000000  0000000   000000000    
       000  000      000   000       000  000   000    
  0000000   0000000  000   000  0000000   000   000    
  */
  var Slash, _, empty, fs, os, path, valid;

  ({fs, os, empty, valid, _} = require('./kxk'));

  path = require('path');

  Slash = (function() {
    class Slash {
      static win() {
        return path.sep === '\\';
      }

      static error(msg) {
        var error;
        error = require('./error');
        error(msg);
        return '';
      }

      
      // 00000000    0000000   000000000  000   000  
      // 000   000  000   000     000     000   000  
      // 00000000   000000000     000     000000000  
      // 000        000   000     000     000   000  
      // 000        000   000     000     000   000  
      static path(p) {
        if ((p == null) || p.length === 0) {
          return Slash.error(`Slash.path -- no path? ${p}`);
        }
        p = path.normalize(p);
        p = p.replace(Slash.reg, '/');
        return p;
      }

      static unslash(p) {
        if ((p == null) || p.length === 0) {
          return Slash.error(`Slash.unslash -- no path? ${p}`);
        }
        p = Slash.path(p);
        if (Slash.win()) {
          if (p.length >= 3 && (p[0] === '/' && '/' === p[2])) {
            p = p[1] + ':' + p.slice(2);
          }
          p = path.normalize(p);
          if (p[1] === ':') {
            p = p.splice(0, 1, p[0].toUpperCase());
          }
        }
        return p;
      }

      
      //  0000000  00000000   000      000  000000000  
      // 000       000   000  000      000     000     
      // 0000000   00000000   000      000     000     
      //      000  000        000      000     000     
      // 0000000   000        0000000  000     000     
      static split(p) {
        return Slash.path(p).split('/').filter(function(e) {
          return e.length;
        });
      }

      static splitDrive(p) {
        var filePath, root;
        if (Slash.win()) {
          root = Slash.parse(p).root;
          if (root.length > 1) {
            if (p.length > root.length) {
              filePath = Slash.path(p.slice(root.length - 1));
            } else {
              filePath = '/';
            }
            return [filePath, root.slice(0, root.length - 2)];
          }
        }
        return [Slash.path(p), ''];
      }

      static removeDrive(p) {
        return Slash.splitDrive(p)[0];
      }

      static isRoot(p) {
        return Slash.removeDrive(p) === '/';
      }

      static splitFileLine(p) { // file.txt:1:0 --> ['file.txt', 1, 0]
        var c, clmn, d, f, l, line, split;
        [f, d] = Slash.splitDrive(p);
        split = String(f).split(':');
        if (split.length > 1) {
          line = parseInt(split[1]);
        }
        if (split.length > 2) {
          clmn = parseInt(split[2]);
        }
        l = c = 0;
        if (Number.isInteger(line)) {
          l = line;
        }
        if (Number.isInteger(clmn)) {
          c = clmn;
        }
        if (d !== '') {
          d = d + ':';
        }
        return [d + split[0], Math.max(l, 1), Math.max(c, 0)];
      }

      static splitFilePos(p) { // file.txt:1:3 --> ['file.txt', [3, 0]]
        var c, f, l;
        [f, l, c] = Slash.splitFileLine(p);
        return [f, [c, l - 1]];
      }

      static removeLinePos(p) {
        return Slash.splitFileLine(p)[0];
      }

      static removeColumn(p) {
        var f, l;
        [f, l] = Slash.splitFileLine(p);
        if (l > 1) {
          return f + ':' + l;
        } else {
          return f;
        }
      }

      static ext(p) {
        return path.extname(p).slice(1);
      }

      static splitExt(p) {
        return [Slash.removeExt(p), Slash.ext(p)];
      }

      static removeExt(p) {
        return Slash.join(Slash.dir(p), Slash.base(p));
      }

      static swapExt(p, ext) {
        return Slash.removeExt(p) + (ext.startsWith('.') && ext || `.${ext}`);
      }

      
      //       000   0000000   000  000   000  
      //       000  000   000  000  0000  000  
      //       000  000   000  000  000 0 000  
      // 000   000  000   000  000  000  0000  
      //  0000000    0000000   000  000   000  
      static join() {
        return [].map.call(arguments, Slash.path).join('/');
      }

      static joinFilePos(file, pos) { // ['file.txt', [3, 0]] --> file.txt:1:3
        if ((pos == null) || !pos[0] && !pos[1]) {
          return file;
        } else if (pos[0]) {
          return file + `:${pos[1] + 1}:${pos[0]}`;
        } else {
          return file + `:${pos[1] + 1}`;
        }
      }

      static joinFileLine(file, line, col) { // 'file.txt', 1, 2 --> file.txt:1:2
        if (line == null) {
          return file;
        }
        if (col == null) {
          return `${file}:${line}`;
        }
        return `${file}:${line}:${col}`;
      }

      
      // 000   000   0000000   00     00  00000000  
      // 0000  000  000   000  000   000  000       
      // 000 0 000  000000000  000000000  0000000   
      // 000  0000  000   000  000 0 000  000       
      // 000   000  000   000  000   000  00000000  
      static base(p) {
        return path.basename(Slash.sanitize(p), path.extname(Slash.sanitize(p)));
      }

      static file(p) {
        return path.basename(Slash.sanitize(p));
      }

      static extname(p) {
        return path.extname(Slash.sanitize(p));
      }

      static basename(p, e) {
        return path.basename(Slash.sanitize(p), e);
      }

      static isAbsolute(p) {
        return path.isAbsolute(Slash.sanitize(p));
      }

      static isRelative(p) {
        return !Slash.isAbsolute(Slash.sanitize(p));
      }

      static dirname(p) {
        return Slash.path(path.dirname(Slash.sanitize(p)));
      }

      static dir(p) {
        return Slash.path(path.dirname(Slash.sanitize(p)));
      }

      static normalize(p) {
        return Slash.path(path.normalize(Slash.sanitize(p)));
      }

      static sanitize(p) {
        if (empty(p)) {
          return Slash.error('empty path!');
        }
        if (p[0] === '\n') {
          Slash.error(`leading newline in path! '${p}'`);
          return Slash.sanitize(p.substr(1));
        }
        if (p.endsWith('\n')) {
          Slash.error(`trailing newline in path! '${p}'`);
          return Slash.sanitize(p.substr(0, p.length - 1));
        }
        return p;
      }

      static parse(p) {
        var dict;
        dict = path.parse(p);
        if (dict.dir.length === 2 && dict.dir[1] === ':') {
          dict.dir += '/';
        }
        if (dict.root.length === 2 && dict.root[1] === ':') {
          dict.root += '/';
        }
        return dict;
      }

      
      // 00     00  000   0000000   0000000    
      // 000   000  000  000       000         
      // 000000000  000  0000000   000         
      // 000 0 000  000       000  000         
      // 000   000  000  0000000    0000000    
      static home() {
        return Slash.path(os.homedir());
      }

      static tilde(p) {
        var ref;
        return (ref = Slash.path(p)) != null ? ref.replace(Slash.home(), '~') : void 0;
      }

      static untilde(p) {
        var ref;
        return (ref = Slash.path(p)) != null ? ref.replace(/^\~/, Slash.home()) : void 0;
      }

      static unenv(p) {
        var i, k, ref, v;
        i = p.indexOf('$', 0);
        while (i >= 0) {
          ref = process.env;
          for (k in ref) {
            v = ref[k];
            if (k === p.slice(i + 1, i + 1 + k.length)) {
              p = p.slice(0, i) + v + p.slice(i + k.length + 1);
              break;
            }
          }
          i = p.indexOf('$', i + 1);
        }
        return Slash.path(p);
      }

      static resolve(p) {
        if (empty(p)) {
          return Slash.error(`Slash.resolve -- no path? ${p}`);
        }
        return Slash.path(path.resolve(Slash.unenv(Slash.untilde(p))));
      }

      static relative(rel, to) {
        if (empty(to)) {
          Slash.error(`Slash.relative -- to nothing? rel:'${rel}' to:'${to}'`);
          return rel;
        }
        rel = Slash.resolve(rel);
        if (!Slash.isAbsolute(rel)) {
          return rel;
        }
        if (Slash.resolve(to) === rel) {
          return '.';
        }
        return Slash.path(path.relative(Slash.resolve(to), rel));
      }

      static fileUrl(p) {
        return `file://${Slash.encode(Slash.resolve(p))}`;
      }

      static samePath(a, b) {
        return Slash.resolve(a) === Slash.resolve(b);
      }

      static escape(p) {
        return p.replace(/([\`"])/g, '\\$1');
      }

      static encode(p) {
        p = encodeURI(p);
        p = p.replace(/\#/g, "%23");
        p = p.replace(/\&/g, "%26");
        return p = p.replace(/\'/g, "%27");
      }

      static pkg(p) {
        var ref;
        if ((p != null ? p.length : void 0) != null) {
          while (p.length && ((ref = this.removeDrive(p)) !== '.' && ref !== '/' && ref !== '')) {
            if (Slash.dirExists(Slash.join(p, '.git'))) {
              return Slash.resolve(p);
            }
            if (Slash.fileExists(Slash.join(p, 'package.noon'))) {
              return Slash.resolve(p);
            }
            if (Slash.fileExists(Slash.join(p, 'package.json'))) {
              return Slash.resolve(p);
            }
            p = Slash.dirname(p);
          }
        }
        return null;
      }

      static exists(p, cb) {
        var err, stat;
        if (_.isFunction(cb)) {
          if (p == null) {
            cb();
            return;
          }
          p = Slash.resolve(p);
          fs.access(p, fs.R_OK | fs.F_OK, function(err) {
            if (valid(err)) {
              return cb();
            } else {
              return cb(p);
            }
          });
          return;
        }
        if (p == null) {
          return false;
        }
        try {
          p = Slash.resolve(p);
          if (stat = fs.statSync(p)) {
            fs.accessSync(p, fs.R_OK);
            return stat;
          }
        } catch (error1) {
          err = error1;
          if (err.code === 'ENOENT') {
            return false;
          }
          console.log(err);
        }
        return null;
      }

      static isWritable(p) {
        try {
          fs.accessSync(Slash.resolve(p), fs.R_OK | fs.W_OK);
          return true;
        } catch (error1) {
          return false;
        }
      }

      static fileExists(p) {
        var stat;
        if (stat = Slash.exists(p)) {
          if (stat.isFile()) {
            return stat;
          }
        }
      }

      static dirExists(p) {
        var stat;
        if (stat = Slash.exists(p)) {
          if (stat.isDirectory()) {
            return stat;
          }
        }
      }

      static isDir(p) {
        return this.dirExists(p);
      }

      static isFile(p) {
        return this.fileExists(p);
      }

    };

    Slash.reg = new RegExp("\\\\", 'g');

    return Slash;

  }).call(this);

  module.exports = Slash;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xhc2guanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiLi4vY29mZmVlL3NsYXNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBOzs7Ozs7O0FBQUEsTUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQTs7RUFRQSxDQUFBLENBQUUsRUFBRixFQUFNLEVBQU4sRUFBVSxLQUFWLEVBQWlCLEtBQWpCLEVBQXdCLENBQXhCLENBQUEsR0FBOEIsT0FBQSxDQUFRLE9BQVIsQ0FBOUI7O0VBRUEsSUFBQSxHQUFPLE9BQUEsQ0FBUSxNQUFSOztFQUVEO0lBQU4sTUFBQSxNQUFBO01BSVUsT0FBTCxHQUFLLENBQUEsQ0FBQTtlQUFHLElBQUksQ0FBQyxHQUFMLEtBQVk7TUFBZjs7TUFFRSxPQUFQLEtBQU8sQ0FBQyxHQUFELENBQUE7QUFDSixZQUFBO1FBQUEsS0FBQSxHQUFRLE9BQUEsQ0FBUSxTQUFSO1FBQ1IsS0FBQSxDQUFNLEdBQU47ZUFDQTtNQUhJLENBSlI7Ozs7Ozs7O01BZU8sT0FBTixJQUFNLENBQUMsQ0FBRCxDQUFBO1FBQ0gsSUFBd0QsV0FBSixJQUFVLENBQUMsQ0FBQyxNQUFGLEtBQVksQ0FBMUU7QUFBQSxpQkFBTyxLQUFLLENBQUMsS0FBTixDQUFZLENBQUEsdUJBQUEsQ0FBQSxDQUEwQixDQUExQixDQUFBLENBQVosRUFBUDs7UUFDQSxDQUFBLEdBQUksSUFBSSxDQUFDLFNBQUwsQ0FBZSxDQUFmO1FBQ0osQ0FBQSxHQUFJLENBQUMsQ0FBQyxPQUFGLENBQVUsS0FBSyxDQUFDLEdBQWhCLEVBQXFCLEdBQXJCO2VBQ0o7TUFKRzs7TUFNRyxPQUFULE9BQVMsQ0FBQyxDQUFELENBQUE7UUFDTixJQUEyRCxXQUFKLElBQVUsQ0FBQyxDQUFDLE1BQUYsS0FBWSxDQUE3RTtBQUFBLGlCQUFPLEtBQUssQ0FBQyxLQUFOLENBQVksQ0FBQSwwQkFBQSxDQUFB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LENBQUMsSUFBSixLQUFZLFFBQWY7QUFDSSxtQkFBTyxNQURYOztVQUVBLE9BQU8sQ0FBQyxHQUFSLENBQVksR0FBWixFQVJKOztlQVNBO01BeEJLOztNQTBCSSxPQUFaLFVBQVksQ0FBQyxDQUFELENBQUE7QUFFVDtVQUNJLEVBQUUsQ0FBQyxVQUFILENBQWMsS0FBSyxDQUFDLE9BQU4sQ0FBYyxDQUFkLENBQWQsRUFBZ0MsRUFBRSxDQUFDLElBQUgsR0FBVSxFQUFFLENBQUMsSUFBN0M7QUFDQSxpQkFBTyxLQUZYO1NBQUEsY0FBQTtBQUlJLGlCQUFPLE1BSlg7O01BRlM7O01BUUEsT0FBWixVQUFZLENBQUMsQ0FBRCxDQUFBO0FBRVQsWUFBQTtRQUFBLElBQUcsSUFBQSxHQUFPLEtBQUssQ0FBQyxNQUFOLENBQWEsQ0FBYixDQUFWO1VBQ0ksSUFBZSxJQUFJLENBQUMsTUFBTCxDQUFBLENBQWY7QUFBQSxtQkFBTyxLQUFQO1dBREo7O01BRlM7O01BS0QsT0FBWCxTQUFXLENBQUMsQ0FBRCxDQUFBO0FBRVIsWUFBQTtRQUFBLElBQUcsSUFBQSxHQUFPLEtBQUssQ0FBQyxNQUFOLENBQWEsQ0FBYixDQUFWO1VBQ0ksSUFBZSxJQUFJLENBQUMsV0FBTCxDQUFBLENBQWY7QUFBQSxtQkFBTyxLQUFQO1dBREo7O01BRlE7O01BS0osT0FBUCxLQUFPLENBQUMsQ0FBRCxDQUFBO2VBQU8sSUFBQyxDQUFBLFNBQUQsQ0FBVyxDQUFYO01BQVA7O01BQ0MsT0FBUixNQUFRLENBQUMsQ0FBRCxDQUFBO2VBQU8sSUFBQyxDQUFBLFVBQUQsQ0FBWSxDQUFaO01BQVA7O0lBN1BiOztJQUVJLEtBQUMsQ0FBQSxHQUFELEdBQU8sSUFBSSxNQUFKLENBQVcsTUFBWCxFQUFtQixHQUFuQjs7Ozs7O0VBNlBYLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0FBM1FqQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuIDAwMDAwMDAgIDAwMCAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMCAgIDAwMCAgICBcbjAwMCAgICAgICAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgXG4wMDAwMDAwICAgMDAwICAgICAgMDAwMDAwMDAwICAwMDAwMDAwICAgMDAwMDAwMDAwICAgIFxuICAgICAwMDAgIDAwMCAgICAgIDAwMCAgIDAwMCAgICAgICAwMDAgIDAwMCAgIDAwMCAgICBcbjAwMDAwMDAgICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAwMDAgICAwMDAgICAgXG4jIyNcblxueyBmcywgb3MsIGVtcHR5LCB2YWxpZCwgXyB9ID0gcmVxdWlyZSAnLi9reGsnXG5cbnBhdGggPSByZXF1aXJlICdwYXRoJ1xuXG5jbGFzcyBTbGFzaFxuXG4gICAgQHJlZyA9IG5ldyBSZWdFeHAgXCJcXFxcXFxcXFwiLCAnZydcblxuICAgIEB3aW46IC0+IHBhdGguc2VwID09ICdcXFxcJ1xuICAgIFxuICAgIEBlcnJvcjogKG1zZykgLT5cbiAgICAgICAgZXJyb3IgPSByZXF1aXJlICcuL2Vycm9yJ1xuICAgICAgICBlcnJvciBtc2dcbiAgICAgICAgJydcbiAgICBcbiAgICAjIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAwMDAgIFxuICAgICMgMDAwMDAwMDAgICAwMDAwMDAwMDAgICAgIDAwMCAgICAgMDAwMDAwMDAwICBcbiAgICAjIDAwMCAgICAgICAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAwMDAgIFxuICAgIFxuICAgIEBwYXRoOiAocCkgLT5cbiAgICAgICAgcmV0dXJuIFNsYXNoLmVycm9yIFwiU2xhc2gucGF0aCAtLSBubyBwYXRoPyAje3B9XCIgaWYgbm90IHA/IG9yIHAubGVuZ3RoID09IDBcbiAgICAgICAgcCA9IHBhdGgubm9ybWFsaXplIHBcbiAgICAgICAgcCA9IHAucmVwbGFjZSBTbGFzaC5yZWcsICcvJ1xuICAgICAgICBwXG5cbiAgICBAdW5zbGFzaDogKHApIC0+XG4gICAgICAgIHJldHVybiBTbGFzaC5lcnJvciBcIlNsYXNoLnVuc2xhc2ggLS0gbm8gcGF0aD8gI3twfVwiIGlmIG5vdCBwPyBvciBwLmxlbmd0aCA9PSAwXG4gICAgICAgIHAgPSBTbGFzaC5wYXRoIHBcbiAgICAgICAgaWYgU2xhc2gud2luKClcbiAgICAgICAgICAgIGlmIHAubGVuZ3RoID49IDMgYW5kIHBbMF0gPT0gJy8nID09IHBbMl0gXG4gICAgICAgICAgICAgICAgcCA9IHBbMV0gKyAnOicgKyBwLnNsaWNlIDJcbiAgICAgICAgICAgIHAgPSBwYXRoLm5vcm1hbGl6ZSBwXG4gICAgICAgICAgICBpZiBwWzFdID09ICc6J1xuICAgICAgICAgICAgICAgIHAgPSBwLnNwbGljZSAwLCAxLCBwWzBdLnRvVXBwZXJDYXNlKClcbiAgICAgICAgcFxuICAgICAgICBcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgMDAwMDAwMDAwICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjICAgICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgIDAwMCAgICAgMDAwICAgICBcbiAgICAjIDAwMDAwMDAgICAwMDAgICAgICAgIDAwMDAwMDAgIDAwMCAgICAgMDAwICAgICBcbiAgICBcbiAgICBAc3BsaXQ6IChwKSAtPiBTbGFzaC5wYXRoKHApLnNwbGl0KCcvJykuZmlsdGVyIChlKSAtPiBlLmxlbmd0aFxuICAgIFxuICAgIEBzcGxpdERyaXZlOiAocCkgLT5cbiAgICAgICAgXG4gICAgICAgIGlmIFNsYXNoLndpbigpXG4gICAgICAgICAgICByb290ID0gU2xhc2gucGFyc2UocCkucm9vdFxuXG4gICAgICAgICAgICBpZiByb290Lmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICBpZiBwLmxlbmd0aCA+IHJvb3QubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoID0gU2xhc2gucGF0aCBwLnNsaWNlKHJvb3QubGVuZ3RoLTEpXG4gICAgICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGggPSAnLydcbiAgICAgICAgICAgICAgICByZXR1cm4gW2ZpbGVQYXRoICwgcm9vdC5zbGljZSAwLCByb290Lmxlbmd0aC0yXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBbU2xhc2gucGF0aChwKSwgJyddXG4gICAgICAgIFxuICAgIEByZW1vdmVEcml2ZTogKHApIC0+XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gU2xhc2guc3BsaXREcml2ZShwKVswXVxuICBcbiAgICBAaXNSb290OiAocCkgLT4gU2xhc2gucmVtb3ZlRHJpdmUocCkgPT0gJy8nXG4gICAgICAgIFxuICAgIEBzcGxpdEZpbGVMaW5lOiAocCkgLT4gICMgZmlsZS50eHQ6MTowIC0tPiBbJ2ZpbGUudHh0JywgMSwgMF1cbiAgICAgICAgXG4gICAgICAgIFtmLGRdID0gU2xhc2guc3BsaXREcml2ZSBwXG4gICAgICAgIHNwbGl0ID0gU3RyaW5nKGYpLnNwbGl0ICc6J1xuICAgICAgICBsaW5lID0gcGFyc2VJbnQgc3BsaXRbMV0gaWYgc3BsaXQubGVuZ3RoID4gMVxuICAgICAgICBjbG1uID0gcGFyc2VJbnQgc3BsaXRbMl0gaWYgc3BsaXQubGVuZ3RoID4gMlxuICAgICAgICBsID0gYyA9IDBcbiAgICAgICAgbCA9IGxpbmUgaWYgTnVtYmVyLmlzSW50ZWdlciBsaW5lXG4gICAgICAgIGMgPSBjbG1uIGlmIE51bWJlci5pc0ludGVnZXIgY2xtblxuICAgICAgICBkID0gZCArICc6JyBpZiBkICE9ICcnXG4gICAgICAgIFsgZCArIHNwbGl0WzBdLCBNYXRoLm1heChsLDEpLCAgTWF0aC5tYXgoYywwKSBdXG4gICAgICAgIFxuICAgIEBzcGxpdEZpbGVQb3M6IChwKSAtPiAjIGZpbGUudHh0OjE6MyAtLT4gWydmaWxlLnR4dCcsIFszLCAwXV1cbiAgICBcbiAgICAgICAgW2YsbCxjXSA9IFNsYXNoLnNwbGl0RmlsZUxpbmUgcFxuICAgICAgICBbZiwgW2MsIGwtMV1dXG4gICAgICAgIFxuICAgIEByZW1vdmVMaW5lUG9zOiAocCkgLT4gU2xhc2guc3BsaXRGaWxlTGluZShwKVswXVxuICAgIEByZW1vdmVDb2x1bW46ICAocCkgLT4gXG4gICAgICAgIFtmLGxdID0gU2xhc2guc3BsaXRGaWxlTGluZSBwXG4gICAgICAgIGlmIGw+MSB0aGVuIGYgKyAnOicgKyBsXG4gICAgICAgIGVsc2UgZlxuICAgICAgICBcbiAgICBAZXh0OiAgICAgICAocCkgLT4gcGF0aC5leHRuYW1lKHApLnNsaWNlIDFcbiAgICBAc3BsaXRFeHQ6ICAocCkgLT4gW1NsYXNoLnJlbW92ZUV4dChwKSwgU2xhc2guZXh0KHApXVxuICAgIEByZW1vdmVFeHQ6IChwKSAtPiBTbGFzaC5qb2luIFNsYXNoLmRpcihwKSwgU2xhc2guYmFzZSBwXG4gICAgQHN3YXBFeHQ6ICAgKHAsIGV4dCkgLT4gU2xhc2gucmVtb3ZlRXh0KHApICsgKGV4dC5zdGFydHNXaXRoKCcuJykgYW5kIGV4dCBvciBcIi4je2V4dH1cIilcbiAgICAgICAgXG4gICAgIyAgICAgICAwMDAgICAwMDAwMDAwICAgMDAwICAwMDAgICAwMDAgIFxuICAgICMgICAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgMDAwICBcbiAgICAjICAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgIDAwMCAwIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAgIDAwMDAgIFxuICAgICMgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMCAgMDAwICAgMDAwICBcbiAgICBcbiAgICBAam9pbjogLT4gW10ubWFwLmNhbGwoYXJndW1lbnRzLCBTbGFzaC5wYXRoKS5qb2luICcvJ1xuICAgIFxuICAgIEBqb2luRmlsZVBvczogKGZpbGUsIHBvcykgLT4gIyBbJ2ZpbGUudHh0JywgWzMsIDBdXSAtLT4gZmlsZS50eHQ6MTozXG4gICAgICAgIGlmIG5vdCBwb3M/IG9yIG5vdCBwb3NbMF0gYW5kIG5vdCBwb3NbMV1cbiAgICAgICAgICAgIGZpbGVcbiAgICAgICAgZWxzZSBpZiBwb3NbMF1cbiAgICAgICAgICAgIGZpbGUgKyBcIjoje3Bvc1sxXSsxfToje3Bvc1swXX1cIlxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmaWxlICsgXCI6I3twb3NbMV0rMX1cIlxuICAgICAgICAgICAgICAgIFxuICAgIEBqb2luRmlsZUxpbmU6IChmaWxlLCBsaW5lLCBjb2wpIC0+ICMgJ2ZpbGUudHh0JywgMSwgMiAtLT4gZmlsZS50eHQ6MToyXG4gICAgICAgIHJldHVybiBmaWxlIGlmIG5vdCBsaW5lP1xuICAgICAgICByZXR1cm4gXCIje2ZpbGV9OiN7bGluZX1cIiBpZiBub3QgY29sP1xuICAgICAgICBcIiN7ZmlsZX06I3tsaW5lfToje2NvbH1cIlxuICAgIFxuICAgICMgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwICAgICAwMCAgMDAwMDAwMDAgIFxuICAgICMgMDAwMCAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIFxuICAgICMgMDAwIDAgMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwMDAwMCAgIFxuICAgICMgMDAwICAwMDAwICAwMDAgICAwMDAgIDAwMCAwIDAwMCAgMDAwICAgICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIFxuICAgIFxuICAgIEBiYXNlOiAgICAgICAocCkgICAtPiBwYXRoLmJhc2VuYW1lIFNsYXNoLnNhbml0aXplKHApLCBwYXRoLmV4dG5hbWUgU2xhc2guc2FuaXRpemUocClcbiAgICBAZmlsZTogICAgICAgKHApICAgLT4gcGF0aC5iYXNlbmFtZSBTbGFzaC5zYW5pdGl6ZShwKVxuICAgIEBleHRuYW1lOiAgICAocCkgICAtPiBwYXRoLmV4dG5hbWUgU2xhc2guc2FuaXRpemUocClcbiAgICBAYmFzZW5hbWU6ICAgKHAsZSkgLT4gcGF0aC5iYXNlbmFtZSBTbGFzaC5zYW5pdGl6ZShwKSwgZVxuICAgIEBpc0Fic29sdXRlOiAocCkgICAtPiBwYXRoLmlzQWJzb2x1dGUgU2xhc2guc2FuaXRpemUocClcbiAgICBAaXNSZWxhdGl2ZTogKHApICAgLT4gbm90IFNsYXNoLmlzQWJzb2x1dGUgU2xhc2guc2FuaXRpemUocClcbiAgICBAZGlybmFtZTogICAgKHApICAgLT4gU2xhc2gucGF0aCBwYXRoLmRpcm5hbWUgU2xhc2guc2FuaXRpemUocClcbiAgICBAZGlyOiAgICAgICAgKHApICAgLT4gU2xhc2gucGF0aCBwYXRoLmRpcm5hbWUgU2xhc2guc2FuaXRpemUocClcbiAgICBAbm9ybWFsaXplOiAgKHApICAgLT4gU2xhc2gucGF0aCBwYXRoLm5vcm1hbGl6ZSBTbGFzaC5zYW5pdGl6ZShwKVxuICAgIEBzYW5pdGl6ZTogICAocCkgICAtPiBcbiAgICAgICAgaWYgZW1wdHkgcFxuICAgICAgICAgICAgcmV0dXJuIFNsYXNoLmVycm9yICdlbXB0eSBwYXRoISdcbiAgICAgICAgaWYgcFswXSA9PSAnXFxuJ1xuICAgICAgICAgICAgU2xhc2guZXJyb3IgXCJsZWFkaW5nIG5ld2xpbmUgaW4gcGF0aCEgJyN7cH0nXCJcbiAgICAgICAgICAgIHJldHVybiBTbGFzaC5zYW5pdGl6ZSBwLnN1YnN0ciAxXG4gICAgICAgIGlmIHAuZW5kc1dpdGggJ1xcbidcbiAgICAgICAgICAgIFNsYXNoLmVycm9yIFwidHJhaWxpbmcgbmV3bGluZSBpbiBwYXRoISAnI3twfSdcIlxuICAgICAgICAgICAgcmV0dXJuIFNsYXNoLnNhbml0aXplIHAuc3Vic3RyIDAsIHAubGVuZ3RoLTFcbiAgICAgICAgcFxuICAgIFxuICAgIEBwYXJzZTogICAgICAocCkgICAtPiBcbiAgICAgICAgXG4gICAgICAgIGRpY3QgPSBwYXRoLnBhcnNlIHBcbiAgICAgICAgXG4gICAgICAgIGlmIGRpY3QuZGlyLmxlbmd0aCA9PSAyIGFuZCBkaWN0LmRpclsxXSA9PSAnOidcbiAgICAgICAgICAgIGRpY3QuZGlyICs9ICcvJ1xuICAgICAgICBpZiBkaWN0LnJvb3QubGVuZ3RoID09IDIgYW5kIGRpY3Qucm9vdFsxXSA9PSAnOidcbiAgICAgICAgICAgIGRpY3Qucm9vdCArPSAnLydcbiAgICAgICAgICAgIFxuICAgICAgICBkaWN0XG4gICAgXG4gICAgIyAwMCAgICAgMDAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgICBcbiAgICAjIDAwMDAwMDAwMCAgMDAwICAwMDAwMDAwICAgMDAwICAgICAgICAgXG4gICAgIyAwMDAgMCAwMDAgIDAwMCAgICAgICAwMDAgIDAwMCAgICAgICAgIFxuICAgICMgMDAwICAgMDAwICAwMDAgIDAwMDAwMDAgICAgMDAwMDAwMCAgICBcbiAgICBcbiAgICBAaG9tZTogICAgICAgICAgLT4gU2xhc2gucGF0aCBvcy5ob21lZGlyKClcbiAgICBAdGlsZGU6ICAgICAocCkgLT4gU2xhc2gucGF0aChwKT8ucmVwbGFjZSBTbGFzaC5ob21lKCksICd+J1xuICAgIEB1bnRpbGRlOiAgIChwKSAtPiBTbGFzaC5wYXRoKHApPy5yZXBsYWNlIC9eXFx+LywgU2xhc2guaG9tZSgpXG4gICAgQHVuZW52OiAgICAgKHApIC0+IFxuICAgICAgICBcbiAgICAgICAgaSA9IHAuaW5kZXhPZiAnJCcsIDBcbiAgICAgICAgd2hpbGUgaSA+PSAwXG4gICAgICAgICAgICBmb3Igayx2IG9mIHByb2Nlc3MuZW52XG4gICAgICAgICAgICAgICAgaWYgayA9PSBwLnNsaWNlIGkrMSwgaSsxK2subGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLnNsaWNlKDAsIGkpICsgdiArIHAuc2xpY2UoaStrLmxlbmd0aCsxKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgaSA9IHAuaW5kZXhPZiAnJCcsIGkrMVxuICAgICAgICBTbGFzaC5wYXRoIHBcbiAgICBcbiAgICBAcmVzb2x2ZTogKHApIC0+XG4gICAgICAgIHJldHVybiBTbGFzaC5lcnJvciBcIlNsYXNoLnJlc29sdmUgLS0gbm8gcGF0aD8gI3twfVwiIGlmIGVtcHR5IHBcbiAgICAgICAgU2xhc2gucGF0aCBwYXRoLnJlc29sdmUgU2xhc2gudW5lbnYgU2xhc2gudW50aWxkZSBwXG4gICAgXG4gICAgQHJlbGF0aXZlOiAocmVsLCB0bykgLT5cbiAgICAgICAgXG4gICAgICAgIGlmIGVtcHR5IHRvXG4gICAgICAgICAgICBTbGFzaC5lcnJvciBcIlNsYXNoLnJlbGF0aXZlIC0tIHRvIG5vdGhpbmc/IHJlbDonI3tyZWx9JyB0bzonI3t0b30nXCJcbiAgICAgICAgICAgIHJldHVybiByZWxcbiAgICAgICAgICAgIFxuICAgICAgICByZWwgPSBTbGFzaC5yZXNvbHZlIHJlbFxuICAgICAgICByZXR1cm4gcmVsIGlmIG5vdCBTbGFzaC5pc0Fic29sdXRlIHJlbFxuICAgICAgICBpZiBTbGFzaC5yZXNvbHZlKHRvKSA9PSByZWxcbiAgICAgICAgICAgIHJldHVybiAnLidcbiAgICAgICAgU2xhc2gucGF0aCBwYXRoLnJlbGF0aXZlIFNsYXNoLnJlc29sdmUodG8pLCByZWxcbiAgICAgICAgXG4gICAgQGZpbGVVcmw6IChwKSAtPiBcImZpbGU6Ly8je1NsYXNoLmVuY29kZSBTbGFzaC5yZXNvbHZlIHB9XCJcblxuICAgIEBzYW1lUGF0aDogKGEsIGIpIC0+IFNsYXNoLnJlc29sdmUoYSkgPT0gU2xhc2gucmVzb2x2ZShiKVxuXG4gICAgQGVzY2FwZTogKHApIC0+IHAucmVwbGFjZSAvKFtcXGBcIl0pL2csICdcXFxcJDEnXG5cbiAgICBAZW5jb2RlOiAocCkgLT5cbiAgICAgICAgcCA9IGVuY29kZVVSSSBwXG4gICAgICAgIHAgPSBwLnJlcGxhY2UgL1xcIy9nLCBcIiUyM1wiXG4gICAgICAgIHAgPSBwLnJlcGxhY2UgL1xcJi9nLCBcIiUyNlwiXG4gICAgICAgIHAgPSBwLnJlcGxhY2UgL1xcJy9nLCBcIiUyN1wiXG5cbiAgICBAcGtnOiAocCkgLT5cbiAgICBcbiAgICAgICAgaWYgcD8ubGVuZ3RoP1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB3aGlsZSBwLmxlbmd0aCBhbmQgQHJlbW92ZURyaXZlKHApIG5vdCBpbiBbJy4nLCAnLycsICcnXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIFNsYXNoLmRpckV4aXN0cyAgU2xhc2guam9pbiBwLCAnLmdpdCcgICAgICAgICB0aGVuIHJldHVybiBTbGFzaC5yZXNvbHZlIHBcbiAgICAgICAgICAgICAgICBpZiBTbGFzaC5maWxlRXhpc3RzIFNsYXNoLmpvaW4gcCwgJ3BhY2thZ2Uubm9vbicgdGhlbiByZXR1cm4gU2xhc2gucmVzb2x2ZSBwXG4gICAgICAgICAgICAgICAgaWYgU2xhc2guZmlsZUV4aXN0cyBTbGFzaC5qb2luIHAsICdwYWNrYWdlLmpzb24nIHRoZW4gcmV0dXJuIFNsYXNoLnJlc29sdmUgcFxuICAgICAgICAgICAgICAgIHAgPSBTbGFzaC5kaXJuYW1lIHBcbiAgICAgICAgbnVsbFxuXG4gICAgQGV4aXN0czogKHAsIGNiKSAtPlxuICAgICAgICBcbiAgICAgICAgaWYgXy5pc0Z1bmN0aW9uIGNiXG4gICAgICAgICAgICBpZiBub3QgcD9cbiAgICAgICAgICAgICAgICBjYigpIFxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgcCA9IFNsYXNoLnJlc29sdmUgcFxuICAgICAgICAgICAgZnMuYWNjZXNzIHAsIGZzLlJfT0sgfCBmcy5GX09LLCAoZXJyKSAtPlxuICAgICAgICAgICAgICAgIGlmIHZhbGlkIGVyclxuICAgICAgICAgICAgICAgICAgICBjYigpIFxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2IgcFxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmFsc2UgaWYgbm90IHA/XG4gICAgICAgIHRyeVxuICAgICAgICAgICAgcCA9IFNsYXNoLnJlc29sdmUgcFxuICAgICAgICAgICAgaWYgc3RhdCA9IGZzLnN0YXRTeW5jKHApXG4gICAgICAgICAgICAgICAgZnMuYWNjZXNzU3luYyBwLCBmcy5SX09LXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRcbiAgICAgICAgY2F0Y2ggZXJyXG4gICAgICAgICAgICBpZiBlcnIuY29kZSA9PSAnRU5PRU5UJ1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgY29uc29sZS5sb2cgZXJyXG4gICAgICAgIG51bGwgICAgIFxuICAgICAgICBcbiAgICBAaXNXcml0YWJsZTogKHApIC0+XG4gICAgICAgIFxuICAgICAgICB0cnlcbiAgICAgICAgICAgIGZzLmFjY2Vzc1N5bmMgU2xhc2gucmVzb2x2ZShwKSwgZnMuUl9PSyB8IGZzLldfT0tcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIGNhdGNoXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgIEBmaWxlRXhpc3RzOiAocCkgLT5cbiAgICAgICAgXG4gICAgICAgIGlmIHN0YXQgPSBTbGFzaC5leGlzdHMgcFxuICAgICAgICAgICAgcmV0dXJuIHN0YXQgaWYgc3RhdC5pc0ZpbGUoKVxuXG4gICAgQGRpckV4aXN0czogKHApIC0+XG5cbiAgICAgICAgaWYgc3RhdCA9IFNsYXNoLmV4aXN0cyBwXG4gICAgICAgICAgICByZXR1cm4gc3RhdCBpZiBzdGF0LmlzRGlyZWN0b3J5KClcbiAgICAgICAgICAgIFxuICAgIEBpc0RpcjogKHApIC0+IEBkaXJFeGlzdHMgcFxuICAgIEBpc0ZpbGU6IChwKSAtPiBAZmlsZUV4aXN0cyBwXG5cbm1vZHVsZS5leHBvcnRzID0gU2xhc2hcbiJdfQ==
//# sourceURL=../coffee/slash.coffee