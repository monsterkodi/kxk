(function() {
  /*
  0000000     0000000   00     00
  000   000  000   000  000   000
  000   000  000   000  000000000
  000   000  000   000  000 0 000
  0000000     0000000   000   000
  */
  var _;

  _ = require('lodash');

  module.exports = {
    $: function(idOrQueryOrElement, queryOrElement = document) {
      var ref;
      if (_.isString(idOrQueryOrElement)) {
        if (((ref = idOrQueryOrElement[0]) === '.' || ref === "#") || queryOrElement !== document) {
          return queryOrElement.querySelector(idOrQueryOrElement);
        } else {
          return document.getElementById(idOrQueryOrElement);
        }
      } else if (_.isElement(idOrQueryOrElement) && _.isString(queryOrElement)) {
        return idOrQueryOrElement.querySelector(queryOrElement);
      } else {
        return idOrQueryOrElement;
      }
    },
    // for elem in document.querySelectorAll '.class'
    childIndex: function(e) {
      return Array.prototype.indexOf.call(e.parentNode.childNodes, e);
    },
    sw: function() {
      return document.body.clientWidth;
    },
    sh: function() {
      return document.body.clientHeight;
    },
    stopEvent: function(event) {
      if (event != null) {
        if (typeof event.preventDefault === "function") {
          event.preventDefault();
        }
        if (typeof event.stopPropagation === "function") {
          event.stopPropagation();
        }
      }
      return event;
    },
    
    //  0000000   0000000   0000000
    // 000       000       000     
    // 000       0000000   0000000 
    // 000            000       000
    //  0000000  0000000   0000000 
    style: function(selector, rule) {
      var i, j, r, ref;
      for (i = j = 0, ref = document.styleSheets[0].cssRules.length; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
        r = document.styleSheets[0].cssRules[i];
        if ((r != null ? r.selectorText : void 0) === selector) {
          document.styleSheets[0].deleteRule(i);
        }
      }
      document.styleSheets[0].insertRule(`${selector} { ${rule} }`, document.styleSheets[0].cssRules.length);
    },
    setStyle: function(selector, key, value, ssid = 0) {
      var j, len, ref, rule;
      ref = document.styleSheets[ssid].cssRules;
      for (j = 0, len = ref.length; j < len; j++) {
        rule = ref[j];
        if (rule.selectorText === selector) {
          rule.style[key] = value;
          return;
        }
      }
      document.styleSheets[ssid].insertRule(`${selector} { ${key}: ${value} }`, document.styleSheets[ssid].cssRules.length);
    },
    getStyle: function(selector, key, value, ssid = 0) {
      var j, len, ref, ref1, rule;
      ref = document.styleSheets[ssid].cssRules;
      for (j = 0, len = ref.length; j < len; j++) {
        rule = ref[j];
        if (rule.selectorText === selector) {
          if ((ref1 = rule.style[key]) != null ? ref1.length : void 0) {
            return rule.style[key];
          }
        }
      }
      return value;
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIi4uL2NvZmZlZS9kb20uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7QUFBQSxNQUFBOztFQVFBLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7RUFFSixNQUFNLENBQUMsT0FBUCxHQUVJO0lBQUEsQ0FBQSxFQUFHLFFBQUEsQ0FBQyxrQkFBRCxFQUFxQixpQkFBZSxRQUFwQyxDQUFBO0FBQ0MsVUFBQTtNQUFBLElBQUcsQ0FBQyxDQUFDLFFBQUYsQ0FBVyxrQkFBWCxDQUFIO1FBQ0ksSUFBRyxRQUFBLGtCQUFtQixDQUFBLENBQUEsRUFBbkIsS0FBMEIsR0FBMUIsSUFBQSxHQUFBLEtBQStCLEdBQS9CLENBQUEsSUFBdUMsY0FBQSxLQUFrQixRQUE1RDtpQkFDSSxjQUFjLENBQUMsYUFBZixDQUE2QixrQkFBN0IsRUFESjtTQUFBLE1BQUE7aUJBR0ksUUFBUSxDQUFDLGNBQVQsQ0FBd0Isa0JBQXhCLEVBSEo7U0FESjtPQUFBLE1BS0ssSUFBRyxDQUFDLENBQUMsU0FBRixDQUFZLGtCQUFaLENBQUEsSUFBb0MsQ0FBQyxDQUFDLFFBQUYsQ0FBVyxjQUFYLENBQXZDO2VBQ0Qsa0JBQWtCLENBQUMsYUFBbkIsQ0FBaUMsY0FBakMsRUFEQztPQUFBLE1BQUE7ZUFHRCxtQkFIQzs7SUFOTixDQUFIOztJQWFBLFVBQUEsRUFBWSxRQUFBLENBQUMsQ0FBRCxDQUFBO2FBQU8sS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBeEIsQ0FBNkIsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxVQUExQyxFQUFzRCxDQUF0RDtJQUFQLENBYlo7SUFlQSxFQUFBLEVBQUksUUFBQSxDQUFBLENBQUE7YUFBTSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQXBCLENBZko7SUFnQkEsRUFBQSxFQUFJLFFBQUEsQ0FBQSxDQUFBO2FBQU0sUUFBUSxDQUFDLElBQUksQ0FBQztJQUFwQixDQWhCSjtJQWtCQSxTQUFBLEVBQVcsUUFBQSxDQUFDLEtBQUQsQ0FBQTtNQUVQLElBQUcsYUFBSDs7VUFDSSxLQUFLLENBQUM7OztVQUNOLEtBQUssQ0FBQztTQUZWOzthQUdBO0lBTE8sQ0FsQlg7Ozs7Ozs7SUErQkEsS0FBQSxFQUFPLFFBQUEsQ0FBQyxRQUFELEVBQVcsSUFBWCxDQUFBO0FBQ0gsVUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQTtNQUFBLEtBQVMsa0hBQVQ7UUFDSSxDQUFBLEdBQUksUUFBUSxDQUFDLFdBQVksQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFTLENBQUEsQ0FBQTtRQUNyQyxpQkFBRyxDQUFDLENBQUUsc0JBQUgsS0FBbUIsUUFBdEI7VUFDSSxRQUFRLENBQUMsV0FBWSxDQUFBLENBQUEsQ0FBRSxDQUFDLFVBQXhCLENBQW1DLENBQW5DLEVBREo7O01BRko7TUFJQSxRQUFRLENBQUMsV0FBWSxDQUFBLENBQUEsQ0FBRSxDQUFDLFVBQXhCLENBQW1DLENBQUEsQ0FBQSxDQUFHLFFBQUgsQ0FBWSxHQUFaLENBQUEsQ0FBaUIsSUFBakIsQ0FBc0IsRUFBdEIsQ0FBbkMsRUFBOEQsUUFBUSxDQUFDLFdBQVksQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFRLENBQUMsTUFBL0Y7SUFMRyxDQS9CUDtJQXVDQSxRQUFBLEVBQVUsUUFBQSxDQUFDLFFBQUQsRUFBVyxHQUFYLEVBQWdCLEtBQWhCLEVBQXVCLE9BQUssQ0FBNUIsQ0FBQTtBQUNOLFVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUE7QUFBQTtNQUFBLEtBQUEscUNBQUE7O1FBQ0ksSUFBRyxJQUFJLENBQUMsWUFBTCxLQUFxQixRQUF4QjtVQUNJLElBQUksQ0FBQyxLQUFNLENBQUEsR0FBQSxDQUFYLEdBQWtCO0FBQ2xCLGlCQUZKOztNQURKO01BSUEsUUFBUSxDQUFDLFdBQVksQ0FBQSxJQUFBLENBQUssQ0FBQyxVQUEzQixDQUFzQyxDQUFBLENBQUEsQ0FBRyxRQUFILENBQVksR0FBWixDQUFBLENBQWlCLEdBQWpCLENBQXFCLEVBQXJCLENBQUEsQ0FBeUIsS0FBekIsQ0FBK0IsRUFBL0IsQ0FBdEMsRUFBMEUsUUFBUSxDQUFDLFdBQVksQ0FBQSxJQUFBLENBQUssQ0FBQyxRQUFRLENBQUMsTUFBOUc7SUFMTSxDQXZDVjtJQStDQSxRQUFBLEVBQVUsUUFBQSxDQUFDLFFBQUQsRUFBVyxHQUFYLEVBQWdCLEtBQWhCLEVBQXVCLE9BQUssQ0FBNUIsQ0FBQTtBQUNOLFVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBO0FBQUE7TUFBQSxLQUFBLHFDQUFBOztRQUNJLElBQUcsSUFBSSxDQUFDLFlBQUwsS0FBcUIsUUFBeEI7VUFDSSwyQ0FBeUMsQ0FBRSxlQUEzQztBQUFBLG1CQUFPLElBQUksQ0FBQyxLQUFNLENBQUEsR0FBQSxFQUFsQjtXQURKOztNQURKO0FBR0EsYUFBTztJQUpEO0VBL0NWO0FBWkoiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbjAwMDAwMDAgICAgIDAwMDAwMDAgICAwMCAgICAgMDBcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDBcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMDBcbjAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDBcbjAwMDAwMDAgICAgIDAwMDAwMDAgICAwMDAgICAwMDBcbiMjI1xuXG5fID0gcmVxdWlyZSAnbG9kYXNoJ1xuXG5tb2R1bGUuZXhwb3J0cyA9XG4gICAgXG4gICAgJDogKGlkT3JRdWVyeU9yRWxlbWVudCwgcXVlcnlPckVsZW1lbnQ9ZG9jdW1lbnQpIC0+XG4gICAgICAgIGlmIF8uaXNTdHJpbmcgaWRPclF1ZXJ5T3JFbGVtZW50XG4gICAgICAgICAgICBpZiBpZE9yUXVlcnlPckVsZW1lbnRbMF0gaW4gWycuJywgXCIjXCJdIG9yIHF1ZXJ5T3JFbGVtZW50ICE9IGRvY3VtZW50XG4gICAgICAgICAgICAgICAgcXVlcnlPckVsZW1lbnQucXVlcnlTZWxlY3RvciBpZE9yUXVlcnlPckVsZW1lbnRcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBpZE9yUXVlcnlPckVsZW1lbnRcbiAgICAgICAgZWxzZSBpZiBfLmlzRWxlbWVudChpZE9yUXVlcnlPckVsZW1lbnQpIGFuZCBfLmlzU3RyaW5nIHF1ZXJ5T3JFbGVtZW50XG4gICAgICAgICAgICBpZE9yUXVlcnlPckVsZW1lbnQucXVlcnlTZWxlY3RvciBxdWVyeU9yRWxlbWVudFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBpZE9yUXVlcnlPckVsZW1lbnRcblxuICAgICMgZm9yIGVsZW0gaW4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCAnLmNsYXNzJ1xuICAgICAgICAgICAgXG4gICAgY2hpbGRJbmRleDogKGUpIC0+IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwgZS5wYXJlbnROb2RlLmNoaWxkTm9kZXMsIGUgXG5cbiAgICBzdzogKCkgLT4gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aFxuICAgIHNoOiAoKSAtPiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodFxuXG4gICAgc3RvcEV2ZW50OiAoZXZlbnQpIC0+XG4gICAgICAgIFxuICAgICAgICBpZiBldmVudD9cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0PygpXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24/KClcbiAgICAgICAgZXZlbnRcbiAgICBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAgICBcbiAgICAjIDAwMCAgICAgICAwMDAwMDAwICAgMDAwMDAwMCBcbiAgICAjIDAwMCAgICAgICAgICAgIDAwMCAgICAgICAwMDBcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwICAgMDAwMDAwMCBcblxuICAgIHN0eWxlOiAoc2VsZWN0b3IsIHJ1bGUpIC0+XG4gICAgICAgIGZvciBpIGluIFswLi4uZG9jdW1lbnQuc3R5bGVTaGVldHNbMF0uY3NzUnVsZXMubGVuZ3RoXVxuICAgICAgICAgICAgciA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdLmNzc1J1bGVzW2ldXG4gICAgICAgICAgICBpZiByPy5zZWxlY3RvclRleHQgPT0gc2VsZWN0b3JcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5zdHlsZVNoZWV0c1swXS5kZWxldGVSdWxlIGlcbiAgICAgICAgZG9jdW1lbnQuc3R5bGVTaGVldHNbMF0uaW5zZXJ0UnVsZSBcIiN7c2VsZWN0b3J9IHsgI3tydWxlfSB9XCIsIGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdLmNzc1J1bGVzLmxlbmd0aFxuICAgICAgICByZXR1cm5cbiAgICAgICAgXG4gICAgc2V0U3R5bGU6IChzZWxlY3Rvciwga2V5LCB2YWx1ZSwgc3NpZD0wKSAtPlxuICAgICAgICBmb3IgcnVsZSBpbiBkb2N1bWVudC5zdHlsZVNoZWV0c1tzc2lkXS5jc3NSdWxlc1xuICAgICAgICAgICAgaWYgcnVsZS5zZWxlY3RvclRleHQgPT0gc2VsZWN0b3JcbiAgICAgICAgICAgICAgICBydWxlLnN0eWxlW2tleV0gPSB2YWx1ZVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICBkb2N1bWVudC5zdHlsZVNoZWV0c1tzc2lkXS5pbnNlcnRSdWxlIFwiI3tzZWxlY3Rvcn0geyAje2tleX06ICN7dmFsdWV9IH1cIiwgZG9jdW1lbnQuc3R5bGVTaGVldHNbc3NpZF0uY3NzUnVsZXMubGVuZ3RoXG4gICAgICAgIHJldHVyblxuXG4gICAgZ2V0U3R5bGU6IChzZWxlY3Rvciwga2V5LCB2YWx1ZSwgc3NpZD0wKSAtPlxuICAgICAgICBmb3IgcnVsZSBpbiBkb2N1bWVudC5zdHlsZVNoZWV0c1tzc2lkXS5jc3NSdWxlc1xuICAgICAgICAgICAgaWYgcnVsZS5zZWxlY3RvclRleHQgPT0gc2VsZWN0b3JcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZS5zdHlsZVtrZXldIGlmIHJ1bGUuc3R5bGVba2V5XT8ubGVuZ3RoXG4gICAgICAgIHJldHVybiB2YWx1ZVxuIl19
//# sourceURL=../coffee/dom.coffee