// koffee 0.56.0

/*
0000000    0000000    0000000
00   000  000   000  000     
0000000   000   000  0000000 
00        000   000       000
00         0000000   0000000
 */
var Pos, clamp;

clamp = require('./kxk').clamp;

Pos = (function() {
    function Pos(x1, y1) {
        var event, ref;
        this.x = x1;
        this.y = y1;
        if (((ref = this.x) != null ? ref.clientX : void 0) != null) {
            event = this.x;
            if (isNaN(window.scrollX)) {
                this.x = event.clientX + document.documentElement.scrollLeft + document.body.scrollLeft;
                this.y = event.clientY + document.documentElement.scrollTop + document.body.scrollTop;
            } else {
                this.x = event.clientX + window.scrollX + 1;
                this.y = event.clientY + window.scrollY + 1;
            }
        } else if ((this.y == null) && Pos.isPos(this.x)) {
            this.y = this.x.y;
            this.x = this.x.x;
        }
    }

    Pos.prototype.copy = function() {
        return new Pos(this.x, this.y);
    };

    Pos.prototype.plus = function(val) {
        var newPos;
        newPos = this.copy();
        if (val != null) {
            if (!isNaN(val.x)) {
                newPos.x += val.x;
            }
            if (!isNaN(val.y)) {
                newPos.y += val.y;
            }
        }
        return newPos;
    };

    Pos.prototype.minus = function(val) {
        var newPos;
        newPos = this.copy();
        if (val != null) {
            if (!isNaN(val.x)) {
                newPos.x -= val.x;
            }
            if (!isNaN(val.y)) {
                newPos.y -= val.y;
            }
        }
        return newPos;
    };

    Pos.prototype.times = function(val) {
        return this.copy().scale(val);
    };

    Pos.prototype.clamped = function(lower, upper) {
        return this.copy().clamp(lower, upper);
    };

    Pos.prototype.rounded = function(v) {
        if (v == null) {
            v = 1.0;
        }
        return new Pos(Math.round(this.x / v) * v, Math.round(this.y / v) * v);
    };

    Pos.prototype.to = function(other) {
        return other.minus(this);
    };

    Pos.prototype.mid = function(other) {
        return this.plus(other).scale(0.5);
    };

    Pos.prototype.interpolate = function(other, f) {
        return this.plus(this.to(other).scale(f));
    };

    Pos.prototype.min = function(val) {
        var newPos;
        newPos = this.copy();
        if (val == null) {
            return newPos;
        }
        if (!isNaN(val.x) && this.x > val.x) {
            newPos.x = val.x;
        }
        if (!isNaN(val.y) && this.y > val.y) {
            newPos.y = val.y;
        }
        return newPos;
    };

    Pos.prototype.max = function(val) {
        var newPos;
        newPos = this.copy();
        if (val == null) {
            return newPos;
        }
        if (!isNaN(val.x) && this.x < val.x) {
            newPos.x = val.x;
        }
        if (!isNaN(val.y) && this.y < val.y) {
            newPos.y = val.y;
        }
        return newPos;
    };

    Pos.prototype.normal = function() {
        return this.copy().normalize();
    };

    Pos.prototype.neg = function() {
        return this.copy().negate();
    };

    Pos.prototype.length = function() {
        return Math.sqrt(this.square());
    };

    Pos.prototype.dot = function(o) {
        return this.x * o.x + this.y * o.y;
    };

    Pos.prototype.cross = function(o) {
        return this.x * o.y - this.y * o.x;
    };

    Pos.prototype.square = function() {
        return (this.x * this.x) + (this.y * this.y);
    };

    Pos.prototype.distSquare = function(o) {
        return this.minus(o).square();
    };

    Pos.prototype.dist = function(o) {
        return Math.sqrt(this.distSquare(o));
    };

    Pos.prototype.equals = function(o) {
        return this.x === (o != null ? o.x : void 0) && this.y === (o != null ? o.y : void 0);
    };

    Pos.prototype.deg2rad = function(d) {
        return Math.PI * d / 180.0;
    };

    Pos.prototype.rad2deg = function(r) {
        return r * 180.0 / Math.PI;
    };

    Pos.prototype.isClose = function(o, dist) {
        if (dist == null) {
            dist = 0.1;
        }
        return Math.abs(this.x - o.x) + Math.abs(this.y - o.y) < dist;
    };

    Pos.prototype.isZero = function(e) {
        if (e == null) {
            e = 0.000001;
        }
        return Math.abs(this.x) < e && Math.abs(this.y) < e;
    };

    Pos.prototype.angle = function(o) {
        if (o == null) {
            o = new Pos(0, 1);
        }
        return this.rad2deg(Math.acos(this.normal().dot(o.normal())));
    };

    Pos.prototype.perp = function() {
        return new Pos(-this.y, this.x);
    };

    Pos.prototype.rotation = function(o) {
        var d, s;
        d = o.dot(this.perp());
        if (Math.abs(d) < 0.0001) {
            if (this.dot(o) > 0) {
                return 0;
            }
            return 180;
        }
        s = d > 0 && -1 || 1;
        return s * this.angle(o);
    };

    Pos.prototype.check = function() {
        var newPos;
        newPos = this.copy();
        if (isNaN(newPos.x)) {
            newPos.x = 0;
        }
        if (isNaN(newPos.y)) {
            newPos.y = 0;
        }
        return newPos;
    };

    Pos.prototype._str = function() {
        var s;
        s = (this.x != null ? "<x:" + this.x + " " : void 0) || "<NaN ";
        return s += (this.y != null ? "y:" + this.y + ">" : void 0) || "NaN>";
    };

    Pos.isPos = function(o) {
        return (o.x != null) && (o.y != null) && Number.isFinite(o.x) && Number.isFinite(o.y);
    };

    Pos.prototype.fade = function(o, val) {
        this.x = this.x * (1 - val) + o.x * val;
        this.y = this.y * (1 - val) + o.y * val;
        return this;
    };

    Pos.prototype.scale = function(val) {
        this.x *= val;
        this.y *= val;
        return this;
    };

    Pos.prototype.mul = function(other) {
        this.x *= other.x;
        this.y *= other.y;
        return this;
    };

    Pos.prototype.div = function(other) {
        this.x /= other.x;
        this.y /= other.y;
        return this;
    };

    Pos.prototype.add = function(other) {
        this.x += other.x;
        this.y += other.y;
        return this;
    };

    Pos.prototype.sub = function(other) {
        this.x -= other.x;
        this.y -= other.y;
        return this;
    };

    Pos.prototype.clamp = function(lower, upper) {
        if ((lower != null) && (upper != null)) {
            this.x = clamp(lower.x, upper.x, this.x);
            this.y = clamp(lower.y, upper.y, this.y);
        }
        return this;
    };

    Pos.prototype.normalize = function() {
        var l;
        l = this.length();
        if (l) {
            l = 1.0 / l;
            this.x *= l;
            this.y *= l;
        }
        return this;
    };

    Pos.prototype.negate = function() {
        this.x *= -1;
        this.y *= -1;
        return this;
    };

    Pos.prototype.rotate = function(angle) {
        var cos, rad, sin, x;
        while (angle > 360) {
            angle -= 360;
        }
        while (angle < -360) {
            angle += 360;
        }
        if (angle === 0) {
            return this;
        }
        rad = this.deg2rad(angle);
        cos = Math.cos(rad);
        sin = Math.sin(rad);
        x = this.x;
        this.x = cos * this.x - sin * this.y;
        this.y = sin * x + cos * this.y;
        return this;
    };

    return Pos;

})();

module.exports = function(x, y) {
    return new Pos(x, y);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9zLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRRSxRQUFVLE9BQUEsQ0FBUSxPQUFSOztBQUVOO0lBRVcsYUFBQyxFQUFELEVBQUssRUFBTDtBQUNULFlBQUE7UUFEVSxJQUFDLENBQUEsSUFBRDtRQUFJLElBQUMsQ0FBQSxJQUFEO1FBQ2QsSUFBRyx1REFBSDtZQUNJLEtBQUEsR0FBUSxJQUFDLENBQUE7WUFDVCxJQUFHLEtBQUEsQ0FBTSxNQUFNLENBQUMsT0FBYixDQUFIO2dCQUNJLElBQUMsQ0FBQSxDQUFELEdBQUssS0FBSyxDQUFDLE9BQU4sR0FBZ0IsUUFBUSxDQUFDLGVBQWUsQ0FBQyxVQUF6QyxHQUFzRCxRQUFRLENBQUMsSUFBSSxDQUFDO2dCQUN6RSxJQUFDLENBQUEsQ0FBRCxHQUFLLEtBQUssQ0FBQyxPQUFOLEdBQWdCLFFBQVEsQ0FBQyxlQUFlLENBQUMsU0FBekMsR0FBcUQsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUY1RTthQUFBLE1BQUE7Z0JBSUksSUFBQyxDQUFBLENBQUQsR0FBSyxLQUFLLENBQUMsT0FBTixHQUFnQixNQUFNLENBQUMsT0FBdkIsR0FBaUM7Z0JBQ3RDLElBQUMsQ0FBQSxDQUFELEdBQUssS0FBSyxDQUFDLE9BQU4sR0FBZ0IsTUFBTSxDQUFDLE9BQXZCLEdBQWlDLEVBTDFDO2FBRko7U0FBQSxNQVFLLElBQU8sZ0JBQUosSUFBWSxHQUFHLENBQUMsS0FBSixDQUFVLElBQUMsQ0FBQSxDQUFYLENBQWY7WUFDRCxJQUFDLENBQUEsQ0FBRCxHQUFLLElBQUMsQ0FBQSxDQUFDLENBQUM7WUFDUixJQUFDLENBQUEsQ0FBRCxHQUFLLElBQUMsQ0FBQSxDQUFDLENBQUMsRUFGUDs7SUFUSTs7a0JBYWIsSUFBQSxHQUFNLFNBQUE7ZUFBRyxJQUFJLEdBQUosQ0FBUSxJQUFDLENBQUEsQ0FBVCxFQUFZLElBQUMsQ0FBQSxD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Q0FBRCxFQUFHLENBQUg7V0FBUyxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVUsQ0FBVjtBQUFUIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXHJcbjAwMDAwMDAgICAgMDAwMDAwMCAgICAwMDAwMDAwXHJcbjAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgXHJcbjAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgXHJcbjAwICAgICAgICAwMDAgICAwMDAgICAgICAgMDAwXHJcbjAwICAgICAgICAgMDAwMDAwMCAgIDAwMDAwMDAgXHJcbiMjI1xyXG5cclxueyBjbGFtcCB9ID0gcmVxdWlyZSAnLi9reGsnXHJcblxyXG5jbGFzcyBQb3NcclxuXHJcbiAgICBjb25zdHJ1Y3RvcjogKEB4LCBAeSkgLT5cclxuICAgICAgICBpZiBAeD8uY2xpZW50WD9cclxuICAgICAgICAgICAgZXZlbnQgPSBAeFxyXG4gICAgICAgICAgICBpZiBpc05hTiB3aW5kb3cuc2Nyb2xsWFxyXG4gICAgICAgICAgICAgICAgQHggPSBldmVudC5jbGllbnRYICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgKyBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnRcclxuICAgICAgICAgICAgICAgIEB5ID0gZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBAeCA9IGV2ZW50LmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWCArIDFcclxuICAgICAgICAgICAgICAgIEB5ID0gZXZlbnQuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZICsgMVxyXG4gICAgICAgIGVsc2UgaWYgbm90IEB5PyBhbmQgUG9zLmlzUG9zIEB4XHJcbiAgICAgICAgICAgIEB5ID0gQHgueVxyXG4gICAgICAgICAgICBAeCA9IEB4LnhcclxuICAgICAgICBcclxuICAgIGNvcHk6IC0+IG5ldyBQb3MgQHgsIEB5XHJcblxyXG4gICAgcGx1czogKHZhbCkgLT5cclxuICAgICAgICBuZXdQb3MgPSBAY29weSgpXHJcbiAgICAgICAgaWYgdmFsP1xyXG4gICAgICAgICAgICBuZXdQb3MueCArPSB2YWwueCAgdW5sZXNzIGlzTmFOKHZhbC54KVxyXG4gICAgICAgICAgICBuZXdQb3MueSArPSB2YWwueSAgdW5sZXNzIGlzTmFOKHZhbC55KVxyXG4gICAgICAgIG5ld1Bvc1xyXG5cclxuICAgIG1pbnVzOiAodmFsKSAtPlxyXG4gICAgICAgIG5ld1BvcyA9IEBjb3B5KClcclxuICAgICAgICBpZiB2YWw/XHJcbiAgICAgICAgICAgIG5ld1Bvcy54IC09IHZhbC54ICB1bmxlc3MgaXNOYU4odmFsLngpXHJcbiAgICAgICAgICAgIG5ld1Bvcy55IC09IHZhbC55ICB1bmxlc3MgaXNOYU4odmFsLnkpXHJcbiAgICAgICAgbmV3UG9zXHJcbiAgICAgICAgXHJcbiAgICB0aW1lczogKHZhbCkgLT4gQGNvcHkoKS5zY2FsZSB2YWxcclxuICAgICAgICBcclxuICAgIGNsYW1wZWQ6IChsb3dlciwgdXBwZXIpIC0+IEBjb3B5KCkuY2xhbXAgbG93ZXIsIHVwcGVyXHJcbiAgICByb3VuZGVkOiAodj0xLjApIC0+IG5ldyBQb3MgTWF0aC5yb3VuZChAeC92KSp2LCBNYXRoLnJvdW5kKEB5L3YpKnZcclxuICAgICAgICBcclxuICAgIHRvOiAgKG90aGVyKSAtPiBvdGhlci5taW51cyBAXHJcbiAgICBtaWQ6IChvdGhlcikgLT4gQHBsdXMob3RoZXIpLnNjYWxlIDAuNVxyXG4gICAgaW50ZXJwb2xhdGU6IChvdGhlciwgZikgLT4gQHBsdXMgQHRvKG90aGVyKS5zY2FsZSBmXHJcblxyXG4gICAgbWluOiAodmFsKSAtPlxyXG4gICAgICAgIG5ld1BvcyA9IEBjb3B5KClcclxuICAgICAgICByZXR1cm4gbmV3UG9zIHVubGVzcyB2YWw/XHJcbiAgICAgICAgbmV3UG9zLnggPSB2YWwueCAgaWYgbm90IGlzTmFOKHZhbC54KSBhbmQgQHggPiB2YWwueFxyXG4gICAgICAgIG5ld1Bvcy55ID0gdmFsLnkgIGlmIG5vdCBpc05hTih2YWwueSkgYW5kIEB5ID4gdmFsLnlcclxuICAgICAgICBuZXdQb3NcclxuXHJcbiAgICBtYXg6ICh2YWwpIC0+XHJcbiAgICAgICAgbmV3UG9zID0gQGNvcHkoKVxyXG4gICAgICAgIHJldHVybiBuZXdQb3MgdW5sZXNzIHZhbD9cclxuICAgICAgICBuZXdQb3MueCA9IHZhbC54ICBpZiBub3QgaXNOYU4odmFsLngpIGFuZCBAeCA8IHZhbC54XHJcbiAgICAgICAgbmV3UG9zLnkgPSB2YWwueSAgaWYgbm90IGlzTmFOKHZhbC55KSBhbmQgQHkgPCB2YWwueVxyXG4gICAgICAgIG5ld1Bvc1xyXG5cclxuICAgIG5vcm1hbDogICAgICAgICAtPiBAY29weSgpLm5vcm1hbGl6ZSgpXHJcbiAgICBuZWc6ICAgICAgICAgICAgLT4gQGNvcHkoKS5uZWdhdGUoKVxyXG4gICAgbGVuZ3RoOiAgICAgICAgIC0+IHJldHVybiBNYXRoLnNxcnQgQHNxdWFyZSgpXHJcbiAgICBkb3Q6ICAgICAgICAobykgLT4gQHgqby54ICsgQHkqby55XHJcbiAgICBjcm9zczogICAgICAobykgLT4gQHgqby55IC0gQHkqby54XHJcbiAgICBzcXVhcmU6ICAgICAgICAgLT4gKEB4ICogQHgpICsgKEB5ICogQHkpXHJcbiAgICBkaXN0U3F1YXJlOiAobykgLT4gQG1pbnVzKG8pLnNxdWFyZSgpXHJcbiAgICBkaXN0OiAgICAgICAobykgLT4gTWF0aC5zcXJ0IEBkaXN0U3F1YXJlKG8pXHJcbiAgICBlcXVhbHM6ICAgICAobykgLT4gQHggPT0gbz8ueCBhbmQgQHkgPT0gbz8ueVxyXG4gICAgZGVnMnJhZDogICAgKGQpIC0+IE1hdGguUEkqZC8xODAuMFxyXG4gICAgcmFkMmRlZzogICAgKHIpIC0+IHIqMTgwLjAvTWF0aC5QSVxyXG4gICAgXHJcbiAgICBpc0Nsb3NlOiAgICAobyxkaXN0PTAuMSkgLT4gTWF0aC5hYnMoQHgtby54KStNYXRoLmFicyhAeS1vLnkpIDwgZGlzdFxyXG4gICAgaXNaZXJvOiAgICAgKGU9MC4wMDAwMDEpIC0+IE1hdGguYWJzKEB4KTxlIGFuZCBNYXRoLmFicyhAeSk8ZVxyXG4gICAgXHJcbiAgICBhbmdsZTogKG89bmV3IFBvcygwLDEpKSAtPlxyXG4gICAgICAgIEByYWQyZGVnIE1hdGguYWNvcyBAbm9ybWFsKCkuZG90IG8ubm9ybWFsKClcclxuICAgICAgICBcclxuICAgIHBlcnA6IC0+IG5ldyBQb3MgLUB5LCBAeFxyXG4gICAgXHJcbiAgICByb3RhdGlvbjogKG8pIC0+IFxyXG4gICAgICAgIGQgPSBvLmRvdCBAcGVycCgpXHJcbiAgICAgICAgaWYgTWF0aC5hYnMoZCkgPCAwLjAwMDFcclxuICAgICAgICAgICAgcmV0dXJuIDAgaWYgQGRvdChvKSA+IDBcclxuICAgICAgICAgICAgcmV0dXJuIDE4MFxyXG4gICAgICAgIHMgPSBkID4gMCBhbmQgLTEgb3IgMVxyXG4gICAgICAgIHMgKiBAYW5nbGUgb1xyXG4gICAgICAgICAgICBcclxuICAgIGNoZWNrOiAtPlxyXG4gICAgICAgIG5ld1BvcyA9IEBjb3B5KClcclxuICAgICAgICBuZXdQb3MueCA9IDAgaWYgaXNOYU4obmV3UG9zLngpXHJcbiAgICAgICAgbmV3UG9zLnkgPSAwIGlmIGlzTmFOKG5ld1Bvcy55KVxyXG4gICAgICAgIG5ld1Bvc1xyXG5cclxuICAgIF9zdHI6IC0+IFxyXG4gICAgICAgIHMgID0gKFwiPHg6I3tAeH0gXCIgaWYgQHg/KSBvciBcIjxOYU4gXCJcclxuICAgICAgICBzICs9IChcInk6I3tAeX0+XCIgaWYgQHk/KSBvciBcIk5hTj5cIlxyXG5cclxuICAgIEBpc1BvczogKG8pIC0+IG8ueD8gYW5kIG8ueT8gYW5kIE51bWJlci5pc0Zpbml0ZShvLngpIGFuZCBOdW1iZXIuaXNGaW5pdGUoby55KVxyXG4gICAgXHJcbiAgICAjX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fIGRlc3RydWN0aXZlXHJcbiAgICBcclxuICAgIGZhZGU6IChvLCB2YWwpIC0+XHJcbiAgICAgICAgQHggPSBAeCAqICgxLXZhbCkgKyBvLnggKiB2YWxcclxuICAgICAgICBAeSA9IEB5ICogKDEtdmFsKSArIG8ueSAqIHZhbFxyXG4gICAgICAgIEBcclxuICAgIFxyXG4gICAgc2NhbGU6ICh2YWwpIC0+XHJcbiAgICAgICAgQHggKj0gdmFsXHJcbiAgICAgICAgQHkgKj0gdmFsXHJcbiAgICAgICAgQFxyXG5cclxuICAgIG11bDogKG90aGVyKSAtPlxyXG4gICAgICAgIEB4ICo9IG90aGVyLnhcclxuICAgICAgICBAeSAqPSBvdGhlci55XHJcbiAgICAgICAgQFxyXG4gICAgICAgIFxyXG4gICAgZGl2OiAob3RoZXIpIC0+XHJcbiAgICAgICAgQHggLz0gb3RoZXIueFxyXG4gICAgICAgIEB5IC89IG90aGVyLnlcclxuICAgICAgICBAXHJcbiAgICAgICAgXHJcbiAgICBhZGQ6IChvdGhlcikgLT5cclxuICAgICAgICBAeCArPSBvdGhlci54XHJcbiAgICAgICAgQHkgKz0gb3RoZXIueVxyXG4gICAgICAgIEBcclxuXHJcbiAgICBzdWI6IChvdGhlcikgLT5cclxuICAgICAgICBAeCAtPSBvdGhlci54XHJcbiAgICAgICAgQHkgLT0gb3RoZXIueVxyXG4gICAgICAgIEBcclxuXHJcbiAgICBjbGFtcDogKGxvd2VyLCB1cHBlcikgLT4gICAgICAgIFxyXG4gICAgICAgIGlmIGxvd2VyPyBhbmQgdXBwZXI/ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIEB4ID0gY2xhbXAobG93ZXIueCwgdXBwZXIueCwgQHgpXHJcbiAgICAgICAgICAgIEB5ID0gY2xhbXAobG93ZXIueSwgdXBwZXIueSwgQHkpXHJcbiAgICAgICAgQFxyXG4gICAgICAgIFxyXG4gICAgbm9ybWFsaXplOiAtPlxyXG4gICAgICAgIGwgPSBAbGVuZ3RoKClcclxuICAgICAgICBpZiBsXHJcbiAgICAgICAgICAgIGwgPSAxLjAvbFxyXG4gICAgICAgICAgICBAeCAqPSBsXHJcbiAgICAgICAgICAgIEB5ICo9IGxcclxuICAgICAgICBAICAgIFxyXG5cclxuICAgIG5lZ2F0ZTogLT5cclxuICAgICAgICBAeCAqPSAtMVxyXG4gICAgICAgIEB5ICo9IC0xXHJcbiAgICAgICAgQFxyXG4gICAgICAgIFxyXG4gICAgcm90YXRlOiAoYW5nbGUpIC0+XHJcbiAgICAgICAgYW5nbGUgLT0gMzYwIHdoaWxlIGFuZ2xlID4gIDM2MCBcclxuICAgICAgICBhbmdsZSArPSAzNjAgd2hpbGUgYW5nbGUgPCAtMzYwIFxyXG4gICAgICAgIHJldHVybiBAIGlmIGFuZ2xlID09IDBcclxuICAgICAgICByYWQgPSBAZGVnMnJhZCBhbmdsZVxyXG4gICAgICAgIGNvcyA9IE1hdGguY29zIHJhZFxyXG4gICAgICAgIHNpbiA9IE1hdGguc2luIHJhZFxyXG4gICAgICAgIHggID0gQHhcclxuICAgICAgICBAeCA9IGNvcypAeCAtIHNpbipAeVxyXG4gICAgICAgIEB5ID0gc2luKiB4ICsgY29zKkB5XHJcbiAgICAgICAgQFxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoeCx5KSAtPiBuZXcgUG9zIHgseVxyXG4iXX0=
//# sourceURL=../coffee/pos.coffee