(function() {
  /*
  000000000  000  000000000  000      00000000
     000     000     000     000      000     
     000     000     000     000      0000000 
     000     000     000     000      000     
     000     000     000     0000000  00000000
  */
  var $, Title, _, elem, empty, keyinfo, log, menu, noon, post, prefs, scheme, sds, slash, stopEvent, str,
    indexOf = [].indexOf;

  ({elem, sds, prefs, slash, scheme, empty, post, stopEvent, keyinfo, menu, noon, str, log, $, _} = require('./kxk'));

  Title = class Title {
    constructor(opt) {
      var pkg, ref;
      this.onTitlebar = this.onTitlebar.bind(this);
      
      // 00     00  00000000  000   000  000   000  
      // 000   000  000       0000  000  000   000  
      // 000000000  0000000   000 0 000  000   000  
      // 000 0 000  000       000  0000  000   000  
      // 000   000  00000000  000   000   0000000   
      this.onMenuAction = this.onMenuAction.bind(this);
      this.menuVisible = this.menuVisible.bind(this);
      this.showMenu = this.showMenu.bind(this);
      this.hideMenu = this.hideMenu.bind(this);
      this.toggleMenu = this.toggleMenu.bind(this);
      this.openMenu = this.openMenu.bind(this);
      this.opt = opt;
      post.on('titlebar', this.onTitlebar);
      post.on('menuAction', this.onMenuAction);
      if (this.opt == null) {
        this.opt = {};
      }
      pkg = this.opt.pkg;
      this.elem = $((ref = this.opt.elem) != null ? ref : "#titlebar");
      this.elem.addEventListener('dblclick', function(event) {
        return stopEvent(event, post.emit('menuAction', 'Maximize'));
      });
      this.winicon = elem({
        class: 'winicon'
      });
      this.winicon.appendChild(elem('img', {
        src: slash.fileUrl(slash.join(this.opt.dir, this.opt.icon))
      }));
      this.elem.appendChild(this.winicon);
      this.winicon.addEventListener('click', function() {
        return post.emit('menuAction', 'Open Menu');
      });
      this.title = elem({
        class: 'titlebar-title'
      });
      this.elem.appendChild(this.title);
      this.setTitle(pkg);
      
      // ‚Äî ‚óª üû©
      this.minimize = elem({
        class: 'winbutton minimize gray'
      });
      this.minimize.innerHTML = "<svg width=\"100%\" height=\"100%\" viewBox=\"-10 -8 30 30\">\n    <line x1=\"-1\" y1=\"5\" x2=\"11\" y2=\"5\"></line>\n</svg>";
      this.elem.appendChild(this.minimize);
      this.minimize.addEventListener('click', function() {
        return post.emit('menuAction', 'Minimize');
      });
      this.maximize = elem({
        class: 'winbutton maximize gray'
      });
      this.maximize.innerHTML = "<svg width=\"100%\" height=\"100%\" viewBox=\"-10 -9 30 30\">\n  <rect width=\"11\" height=\"11\" style=\"fill-opacity: 0;\"></rect>\n</svg>";
      this.elem.appendChild(this.maximize);
      this.maximize.addEventListener('click', function() {
        return post.emit('menuAction', 'Maximize');
      });
      this.close = elem({
        class: 'winbutton close'
      });
      this.close.innerHTML = "<svg width=\"100%\" height=\"100%\" viewBox=\"-10 -9 30 30\">\n    <line x1=\"0\" y1=\"0\" x2=\"10\" y2=\"11\"></line>\n    <line x1=\"10\" y1=\"0\" x2=\"0\" y2=\"11\"></line>\n</svg>";
      this.elem.appendChild(this.close);
      this.close.addEventListener('click', function() {
        return post.emit('menuAction', 'Close');
      });
      this.initStyle();
      if (this.opt.menu) {
        this.initMenu(this.menuTemplate());
      }
    }

    showTitle() {
      return this.title.style.display = 'initial';
    }

    hideTitle() {
      return this.title.style.display = 'none';
    }

    setTitle(info) {
      var html;
      html = `<span class='titlebar-name'>${info.name}</span>`;
      if (info.version) {
        html += "<span class='titlebar-dot'> ‚óè </span>";
        html += `<span class='titlebar-version'>${info.version}</span>`;
      }
      if (info.path) {
        html += "<span class='titlebar-dot'> ‚Øà </span>";
        html += `<span class='titlebar-version'>${info.path}</span>`;
      }
      return this.title.innerHTML = html;
    }

    onTitlebar(action) {
      switch (action) {
        case 'showTitle':
          return this.showTitle();
        case 'hideTitle':
          return this.hideTitle();
        case 'showMenu':
          return this.showMenu();
        case 'hideMenu':
          return this.hideMenu();
        case 'toggleMenu':
          return this.toggleMenu();
      }
    }

    onMenuAction(action, args) {
      var electron, maximized, wa, wb, win;
      electron = require('electron');
      win = electron.remote.getCurrentWindow();
      switch (action) {
        case 'Toggle Menu':
          return this.toggleMenu();
        case 'Open Menu':
          return this.openMenu();
        case 'Show Menu':
          return this.showMenu();
        case 'Hide Menu':
          return this.hideMenu();
        case 'Toggle Scheme':
          if (this.opt.scheme !== false) {
            return scheme.toggle();
          }
          break;
        case 'DevTools':
          return win.webContents.toggleDevTools();
        case 'Reload':
          return win.webContents.reloadIgnoringCache();
        case 'Close':
          return win.close();
        case 'Minimize':
          return win.minimize();
        case 'Maximize':
          wa = electron.screen.getPrimaryDisplay().workAreaSize;
          wb = win.getBounds();
          maximized = win.isMaximized() || (wb.width === wa.width && wb.height === wa.height);
          if (maximized) {
            return win.unmaximize();
          } else {
            return win.maximize();
          }
      }
    }

    menuTemplate() {
      if (empty(this.templateCache)) {
        // log 'menuTemplate', slash.resolve slash.join @opt.dir, @opt.menu
        this.templateCache = this.makeTemplate(noon.load(slash.resolve(slash.join(this.opt.dir, this.opt.menu))));
      }
      if (this.opt.menuTemplate != null) {
        return this.opt.menuTemplate(this.templateCache);
      } else {
        return this.templateCache;
      }
    }

    makeTemplate(obj) {
      var item, menuOrAccel, text, tmpl;
      tmpl = [];
      for (text in obj) {
        menuOrAccel = obj[text];
        tmpl.push((function() {
          switch (false) {
            case !(empty(menuOrAccel) && text.startsWith('-')):
              return {
                text: ''
              };
            case !_.isNumber(menuOrAccel):
              return {
                text: text,
                accel: str(menuOrAccel)
              };
            case !_.isString(menuOrAccel):
              return {
                text: text,
                accel: menuOrAccel
              };
            case !empty(menuOrAccel):
              return {
                text: text,
                accel: ''
              };
            default:
              if ((menuOrAccel.accel != null) || (menuOrAccel.command != null)) { // needs better test!
                item = _.clone(menuOrAccel);
                item.text = text;
                return item;
              } else {
                return {
                  text: text,
                  menu: this.makeTemplate(menuOrAccel)
                };
              }
          }
        }).call(this));
      }
      return tmpl;
    }

    initMenu(items) {
      this.menu = new menu({
        items: items
      });
      this.elem.insertBefore(this.menu.elem, this.elem.firstChild.nextSibling);
      return this.hideMenu();
    }

    menuVisible() {
      return this.menu.elem.style.display !== 'none';
    }

    showMenu() {
      var ref;
      this.menu.elem.style.display = 'inline-block';
      if ((ref = this.menu) != null) {
        if (typeof ref.focus === "function") {
          ref.focus();
        }
      }
      return post.emit('titlebar', 'hideTitle');
    }

    hideMenu() {
      var ref;
      if ((ref = this.menu) != null) {
        ref.close();
      }
      this.menu.elem.style.display = 'none';
      return post.emit('titlebar', 'showTitle');
    }

    toggleMenu() {
      if (this.menuVisible()) {
        return this.hideMenu();
      } else {
        return this.showMenu();
      }
    }

    openMenu() {
      if (this.menuVisible()) {
        return this.hideMenu();
      } else {
        this.showMenu();
        return this.menu.open();
      }
    }

    //  0000000  000000000  000   000  000      00000000  
    // 000          000      000 000   000      000       
    // 0000000      000       00000    000      0000000   
    //      000     000        000     000      000       
    // 0000000      000        000     0000000  00000000  
    initStyle() {
      var href, link, titleStyle;
      if (link = $("#style-link")) {
        href = slash.fileUrl(slash.resolve(slash.join(__dirname, "css/style.css")));
        titleStyle = elem('link', {
          href: href,
          rel: 'stylesheet',
          type: 'text/css'
        });
        link.parentNode.insertBefore(titleStyle, link);
        href = slash.fileUrl(slash.resolve(slash.join(__dirname, `css/${prefs.get('scheme', 'dark')}.css`)));
        titleStyle = elem('link', {
          href: href,
          rel: 'stylesheet',
          type: 'text/css',
          id: 'style-title'
        });
        return link.parentNode.insertBefore(titleStyle, link);
      }
    }

    
    // 000   000  00000000  000   000
    // 000  000   000        000 000
    // 0000000    0000000     00000
    // 000  000   000          000
    // 000   000  00000000     000
    handleKey(event) {
      var combo, combos, i, item, keypath, len, mainMenu, ref, ref1;
      ({combo} = keyinfo.forEvent(event));
      mainMenu = this.menuTemplate();
      ref = sds.find.key(mainMenu, 'accel');
      for (i = 0, len = ref.length; i < len; i++) {
        keypath = ref[i];
        combos = sds.get(mainMenu, keypath).split(' ');
        if (indexOf.call(combos, combo) >= 0) {
          keypath.pop();
          item = sds.get(mainMenu, keypath);
          post.emit('menuAction', (ref1 = item.action) != null ? ref1 : item.text, item);
          return item;
        }
      }
      return 'unhandled';
    }

  };

  module.exports = Title;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGl0bGUuanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiLi4vY29mZmVlL3RpdGxlLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFBOzs7Ozs7O0FBQUEsTUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBO0lBQUE7O0VBUUEsQ0FBQSxDQUFFLElBQUYsRUFBUSxHQUFSLEVBQWEsS0FBYixFQUFvQixLQUFwQixFQUEyQixNQUEzQixFQUFtQyxLQUFuQyxFQUEwQyxJQUExQyxFQUFnRCxTQUFoRCxFQUEyRCxPQUEzRCxFQUFvRSxJQUFwRSxFQUEwRSxJQUExRSxFQUFnRixHQUFoRixFQUFxRixHQUFyRixFQUEwRixDQUExRixFQUE2RixDQUE3RixDQUFBLEdBQW1HLE9BQUEsQ0FBUSxPQUFSLENBQW5HOztFQUVNLFFBQU4sTUFBQSxNQUFBO0lBRUksV0FBYSxJQUFBLENBQUE7QUFFVCxVQUFBLEdBQUEsRUFBQTtVQXlFSixDQUFBLGlCQUFBLENBQUEsc0JBekVJOzs7Ozs7O1VBd0ZKLENBQUEsbUJBQUEsQ0FBQTtVQWlFQSxDQUFBLGtCQUFBLENBQUE7VUFDQSxDQUFBLGVBQUEsQ0FBQTtVQUNBLENBQUEsZUFBQSxDQUFBO1VBQ0EsQ0FBQSxpQkFBQSxDQUFBO1VBQ0EsQ0FBQSxlQUFBLENBQUE7TUEvSmMsSUFBQyxDQUFBO01BRVgsSUFBSSxDQUFDLEVBQUwsQ0FBUSxVQUFSLEVBQXNCLElBQUMsQ0FBQSxVQUF2QjtNQUNBLElBQUksQ0FBQyxFQUFMLENBQVEsWUFBUixFQUFzQixJQUFDLENBQUEsWUFBdkI7O1FBRUEsSUFBQyxDQUFBLE1BQU8sQ0FBQTs7TUFFUixHQUFBLEdBQU0sSUFBQyxDQUFBLEdBQUcsQ0FBQztNQUVYLElBQUMsQ0FBQSxJQUFELEdBQU8sQ0FBQSx1Q0FBYyxXQUFkO01BQ1AsSUFBQyxDQUFBLElBQUksQ0FBQyxnQkFBTixDQUF1QixVQUF2QixFQUFtQyxRQUFBLENBQUMsS0FBRCxDQUFBO2VBQVcsU0FBQSxDQUFVLEtBQVYsRUFBaUIsSUFBSSxDQUFDLElBQUwsQ0FBVSxZQUFWLEVBQXdCLFVBQXhCLENBQWpCO01BQVgsQ0FBbkM7TUFFQSxJQUFDLENBQUEsT0FBRCxHQUFXLElBQUEsQ0FBSztRQUFBLEtBQUEsRUFBTztNQUFQLENBQUw7TUFDWCxJQUFDLENBQUEsT0FBTyxDQUFDLFdBQVQsQ0FBcUIsSUFBQSxDQUFLLEtBQUwsRUFBWTtRQUFBLEdBQUEsRUFBSSxLQUFLLENBQUMsT0FBTixDQUFjLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBQyxDQUFBLEdBQUcsQ0FBQyxHQUFoQixFQUFxQixJQUFDLENBQUEsR0FBRyxDQUFDLElBQTFCLENBQWQ7TUFBSixDQUFaLENBQXJCO01BQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLENBQWtCLElBQUMsQ0FBQSxPQUFuQjtNQUNBLElBQUMsQ0FBQSxPQUFPLENBQUMsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsUUFBQSxDQUFBLENBQUE7ZUFBRyxJQUFJLENBQUMsSUFBTCxDQUFVLFlBQVYsRUFBd0IsV0FBeEI7TUFBSCxDQUFuQztNQUVBLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQSxDQUFLO1FBQUEsS0FBQSxFQUFPO01BQVAsQ0FBTDtNQUNULElBQUMsQ0FBQSxJQUFJLENBQUMsV0FBTixDQUFrQixJQUFDLENBQUEsS0FBbkI7TUFDQSxJQUFDLENBQUEsUUFBRCxDQUFVLEdBQVYsRUFqQkE7OztNQXFCQSxJQUFDLENBQUEsUUFBRCxHQUFZLElBQUEsQ0FBSztRQUFBLEtBQUEsRUFBTztNQUFQLENBQUw7TUFFWixJQUFDLENBQUEsUUFBUSxDQUFDLFNBQVYsR0FBc0I7TUFNdEIsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLENBQWtCLElBQUMsQ0FBQSxRQUFuQjtNQUNBLElBQUMsQ0FBQSxRQUFRLENBQUMsZ0JBQVYsQ0FBMkIsT0FBM0IsRUFBb0MsUUFBQSxDQUFBLENBQUE7ZUFBRyxJQUFJLENBQUMsSUFBTCxDQUFVLFlBQVYsRUFBd0IsVUFBeEI7TUFBSCxDQUFwQztNQUVBLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQSxDQUFLO1FBQUEsS0FBQSxFQUFPO01BQVAsQ0FBTDtNQUVaLElBQUMsQ0FBQSxRQUFRLENBQUMsU0FBVixHQUFzQjtNQUt0QixJQUFDLENBQUEsSUFBSSxDQUFDLFdBQU4sQ0FBa0IsSUFBQyxDQUFBLFFBQW5CO01BQ0EsSUFBQyxDQUFBLFFBQVEsQ0FBQyxnQkFBVixDQUEyQixPQUEzQixFQUFvQyxRQUFBLENBQUEsQ0FBQTtlQUFHLElBQUksQ0FBQyxJQUFMLENBQVUsWUFBVixFQUF3QixVQUF4QjtNQUFILENBQXBDO01BRUEsSUFBQyxDQUFBLEtBQUQsR0FBUyxJQUFBLENBQUs7UUFBQSxLQUFBLEVBQU87TUFBUCxDQUFMO01BRVQsSUFBQyxDQUFBLEtBQUssQ0FBQyxTQUFQLEdBQW1CO01BT25CLElBQUMsQ0FBQSxJQUFJLENBQUMsV0FBTixDQUFrQixJQUFDLENBQUEsS0FBbkI7TUFDQSxJQUFDLENBQUEsS0FBSyxDQUFDLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFFBQUEsQ0FBQSxDQUFBO2VBQUcsSUFBSSxDQUFDLElBQUwsQ0FBVSxZQUFWLEVBQXdCLE9BQXhCO01BQUgsQ0FBakM7TUFFQSxJQUFDLENBQUEsU0FBRCxDQUFBO01BRUEsSUFBRyxJQUFDLENBQUEsR0FBRyxDQUFDLElBQVI7UUFFSSxJQUFDLENBQUEsUUFBRCxDQUFVLElBQUMsQ0FBQSxZQUFELENBQUEsQ0FBVixFQUZKOztJQTFEUzs7SUE4RGIsU0FBVyxDQUFBLENBQUE7YUFBRyxJQUFDLENBQUEsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFiLEdBQXVCO0lBQTFCOztJQUNYLFNBQVcsQ0FBQSxDQUFBO2FBQUcsSUFBQyxDQUFBLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBYixHQUF1QjtJQUExQjs7SUFFWCxRQUFVLENBQUMsSUFBRCxDQUFBO0FBQ04sVUFBQTtNQUFBLElBQUEsR0FBUSxDQUFBLDRCQUFBLENBQUEsQ0FBK0IsSUFBSSxDQUFDLElBQXBDLENBQXlDLE9BQXpDO01BQ1IsSUFBRyxJQUFJLENBQUMsT0FBUjtRQUNJLElBQUEsSUFBUTtRQUNSLElBQUEsSUFBUSxDQUFBLCtCQUFBLENBQUEsQ0FBa0MsSUFBSSxDQUFDLE9BQXZDLENBQStDLE9BQS9DLEVBRlo7O01BR0EsSUFBRyxJQUFJLENBQUMsSUFBUjtRQUNJLElBQUEsSUFBUTtRQUNSLElBQUEsSUFBUSxDQUFBLCtCQUFBLENBQUEsQ0FBa0MsSUFBSSxDQUFDLElBQXZDLENBQTRDLE9BQTVDLEVBRlo7O2FBR0EsSUFBQyxDQUFBLEtBQUssQ0FBQyxTQUFQLEdBQW1CO0lBUmI7O0lBVVYsVUFBWSxDQUFDLE1BQUQsQ0FBQTtBQUVSLGNBQU8sTUFBUDtBQUFBLGFBQ1MsV0FEVDtpQkFDNEIsSUFBQyxDQUFBLFNBQUQsQ0FBQTtBQUQ1QixhQUVTLFdBRlQ7aUJBRTRCLElBQUMsQ0FBQSxTQUFELENBQUE7QUFGNUIsYUFHUyxVQUhUO2lCQUc0QixJQUFDLENBQUEsUUFBRCxDQUFBO0FBSDVCLGFBSVMsVUFKVDtpQkFJNEIsSUFBQyxDQUFBLFFBQUQsQ0FBQTtBQUo1QixhQUtTLFlBTFQ7aUJBSzRCLElBQUMsQ0FBQSxVQUFELENBQUE7QUFMNUI7SUFGUTs7SUFlWixZQUFjLENBQUMsTUFBRCxFQUFTLElBQVQsQ0FBQTtBQUVWLFVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBO01BQUEsUUFBQSxHQUFXLE9BQUEsQ0FBUSxVQUFSO01BQ1gsR0FBQSxHQUFNLFFBQVEsQ0FBQyxNQUFNLENBQUMsZ0JBQWhCLENBQUE7QUFFTixjQUFPLE1BQVA7QUFBQSxhQUNTLGFBRFQ7aUJBQ2lDLElBQUMsQ0FBQSxVQUFELENBQUE7QUFEakMsYUFFUyxXQUZUO2lCQUVpQyxJQUFDLENBQUEsUUFBRCxDQUFBO0FBRmpDLGFBR1MsV0FIVDtpQkFHaUMsSUFBQyxDQUFBLFFBQUQsQ0FBQTtBQUhqQyxhQUlTLFdBSlQ7aUJBSWlDLElBQUMsQ0FBQSxRQUFELENBQUE7QUFKakMsYUFLUyxlQUxUO1VBTVEsSUFBRyxJQUFDLENBQUEsR0FBRyxDQUFDLE1BQUwsS0FBZSxLQUFsQjttQkFBNkIsTUFBTSxDQUFDLE1BQVAsQ0FBQSxFQUE3Qjs7QUFEQztBQUxULGFBT1MsVUFQVDtpQkFPaUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxjQUFoQixDQUFBO0FBUGpDLGFBUVMsUUFSVDtpQkFRaUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxtQkFBaEIsQ0FBQTtBQVJqQyxhQVNTLE9BVFQ7aUJBU2lDLEdBQUcsQ0FBQyxLQUFKLENBQUE7QUFUakMsYUFVUyxVQVZUO2lCQVVpQyxHQUFHLENBQUMsUUFBSixDQUFBO0FBVmpDLGFBV1MsVUFYVDtVQVlRLEVBQUEsR0FBSyxRQUFRLENBQUMsTUFBTSxDQUFDLGlCQUFoQixDQUFBLENBQW1DLENBQUM7VUFDekMsRUFBQSxHQUFLLEdBQUcsQ0FBQyxTQUFKLENBQUE7VUFDTCxTQUFBLEdBQVksR0FBRyxDQUFDLFdBQUosQ0FBQSxDQUFBLElBQXFCLENBQUMsRUFBRSxDQUFDLEtBQUgsS0FBWSxFQUFFLENBQUMsS0FBZixJQUF5QixFQUFFLENBQUMsTUFBSCxLQUFhLEVBQUUsQ0FBQyxNQUExQztVQUNqQyxJQUFHLFNBQUg7bUJBQWtCLEdBQUcsQ0FBQyxVQUFKLENBQUEsRUFBbEI7V0FBQSxNQUFBO21CQUF3QyxHQUFHLENBQUMsUUFBSixDQUFBLEVBQXhDOztBQWZSO0lBTFU7O0lBc0JkLFlBQWMsQ0FBQSxDQUFBO01BRVYsSUFBRyxLQUFBLENBQU0sSUFBQyxDQUFBLGFBQVAsQ0FBSDs7UUFFSSxJQUFDLENBQUEsYUFBRCxHQUFpQixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUksQ0FBQyxJQUFMLENBQVUsS0FBSyxDQUFDLE9BQU4sQ0FBYyxLQUFLLENBQUMsSUFBTixDQUFXLElBQUMsQ0FBQSxHQUFHLENBQUMsR0FBaEIsRUFBcUIsSUFBQyxDQUFBLEdBQUcsQ0FBQyxJQUExQixDQUFkLENBQVYsQ0FBZCxFQUZyQjs7TUFJQSxJQUFHLDZCQUFIO2VBQ0ksSUFBQyxDQUFBLEdBQUcsQ0FBQyxZQUFMLENBQWtCLElBQUMsQ0FBQSxhQUFuQixFQURKO09BQUEsTUFBQTtlQUdJLElBQUMsQ0FBQSxjQUhMOztJQU5VOztJQVdkLFlBQWMsQ0FBQyxHQUFELENBQUE7QUFFVixVQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsSUFBQSxFQUFBO01BQUEsSUFBQSxHQUFPO01BQ1AsS0FBQSxXQUFBOztRQUNJLElBQUksQ0FBQyxJQUFMO0FBQVUsa0JBQUEsS0FBQTtBQUFBLG1CQUNELEtBQUEsQ0FBTSxXQUFOLENBQUEsSUFBdUIsSUFBSSxDQUFDLFVBQUwsQ0FBZ0IsR0FBaEIsRUFEdEI7cUJBRUY7Z0JBQUEsSUFBQSxFQUFNO2NBQU47QUFGRSxrQkFHRCxDQUFDLENBQUMsUUFBRixDQUFXLFdBQVgsQ0FIQztxQkFJRjtnQkFBQSxJQUFBLEVBQUssSUFBTDtnQkFDQSxLQUFBLEVBQU0sR0FBQSxDQUFJLFdBQUo7Y0FETjtBQUpFLGtCQU1ELENBQUMsQ0FBQyxRQUFGLENBQVcsV0FBWCxDQU5DO3FCQU9GO2dCQUFBLElBQUEsRUFBSyxJQUFMO2dCQUNBLEtBQUEsRUFBTTtjQUROO0FBUEUsa0JBU0QsS0FBQSxDQUFNLFdBQU4sQ0FUQztxQkFVRjtnQkFBQSxJQUFBLEVBQUssSUFBTDtnQkFDQSxLQUFBLEVBQU87Y0FEUDtBQVZFO2NBYUYsSUFBRywyQkFBQSxJQUFzQiw2QkFBekI7Z0JBQ0ksSUFBQSxHQUFPLENBQUMsQ0FBQyxLQUFGLENBQVEsV0FBUjtnQkFDUCxJQUFJLENBQUMsSUFBTCxHQUFZO3VCQUNaLEtBSEo7ZUFBQSxNQUFBO3VCQUtJO2tCQUFBLElBQUEsRUFBSyxJQUFMO2tCQUNBLElBQUEsRUFBSyxJQUFDLENBQUEsWUFBRCxDQUFjLFdBQWQ7Z0JBREwsRUFMSjs7QUFiRTtxQkFBVjtNQURKO2FBcUJBO0lBeEJVOztJQTBCZCxRQUFVLENBQUMsS0FBRCxDQUFBO01BRU4sSUFBQyxDQUFBLElBQUQsR0FBUSxJQUFJLElBQUosQ0FBUztRQUFBLEtBQUEsRUFBTTtNQUFOLENBQVQ7TUFDUixJQUFDLENBQUEsSUFBSSxDQUFDLFlBQU4sQ0FBbUIsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUF6QixFQUErQixJQUFDLENBQUEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFoRDthQUNBLElBQUMsQ0FBQSxRQUFELENBQUE7SUFKTTs7SUFNVixXQUFhLENBQUEsQ0FBQTthQUFHLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFqQixLQUE0QjtJQUEvQjs7SUFDYixRQUFhLENBQUEsQ0FBQTtBQUFHLFVBQUE7TUFBQSxJQUFDLENBQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBakIsR0FBMkI7OzthQUFxQixDQUFFOzs7YUFBVSxJQUFJLENBQUMsSUFBTCxDQUFVLFVBQVYsRUFBc0IsV0FBdEI7SUFBL0Q7O0lBQ2IsUUFBYSxDQUFBLENBQUE7QUFBRyxVQUFBOztXQUFLLENBQUUsS0FBUCxDQUFBOztNQUFnQixJQUFDLENBQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBakIsR0FBMkI7YUFBUSxJQUFJLENBQUMsSUFBTCxDQUFVLFVBQVYsRUFBc0IsV0FBdEI7SUFBdEQ7O0lBQ2IsVUFBYSxDQUFBLENBQUE7TUFBRyxJQUFHLElBQUMsQ0FBQSxXQUFELENBQUEsQ0FBSDtlQUF1QixJQUFDLENBQUEsUUFBRCxDQUFBLEVBQXZCO09BQUEsTUFBQTtlQUF3QyxJQUFDLENBQUEsUUFBRCxDQUFBLEVBQXhDOztJQUFIOztJQUNiLFFBQWEsQ0FBQSxDQUFBO01BQUcsSUFBRyxJQUFDLENBQUEsV0FBRCxDQUFBLENBQUg7ZUFBdUIsSUFBQyxDQUFBLFFBQUQsQ0FBQSxFQUF2QjtPQUFBLE1BQUE7UUFBd0MsSUFBQyxDQUFBLFFBQUQsQ0FBQTtlQUFhLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBTixDQUFBLEVBQXJEOztJQUFILENBL0piOzs7Ozs7O0lBdUtBLFNBQVcsQ0FBQSxDQUFBO0FBRVAsVUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBO01BQUEsSUFBRyxJQUFBLEdBQU0sQ0FBQSxDQUFFLGFBQUYsQ0FBVDtRQUVJLElBQUEsR0FBTyxLQUFLLENBQUMsT0FBTixDQUFjLEtBQUssQ0FBQyxPQUFOLENBQWMsS0FBSyxDQUFDLElBQU4sQ0FBVyxTQUFYLEVBQXNCLGVBQXRCLENBQWQsQ0FBZDtRQUNQLFVBQUEsR0FBYSxJQUFBLENBQUssTUFBTCxFQUNUO1VBQUEsSUFBQSxFQUFNLElBQU47VUFDQSxHQUFBLEVBQU0sWUFETjtVQUVBLElBQUEsRUFBTTtRQUZOLENBRFM7UUFLYixJQUFJLENBQUMsVUFBVSxDQUFDLFlBQWhCLENBQTZCLFVBQTdCLEVBQXlDLElBQXpDO1FBRUEsSUFBQSxHQUFPLEtBQUssQ0FBQyxPQUFOLENBQWMsS0FBSyxDQUFDLE9BQU4sQ0FBYyxLQUFLLENBQUMsSUFBTixDQUFXLFNBQVgsRUFBc0IsQ0FBQSxJQUFBLENBQUEsQ0FBTyxLQUFLLENBQUMsR0FBTixDQUFVLFFBQVYsRUFBb0IsTUFBcEIsQ0FBUCxDQUFrQyxJQUFsQyxDQUF0QixDQUFkLENBQWQ7UUFDUCxVQUFBLEdBQWEsSUFBQSxDQUFLLE1BQUwsRUFDVDtVQUFBLElBQUEsRUFBTSxJQUFOO1VBQ0EsR0FBQSxFQUFNLFlBRE47VUFFQSxJQUFBLEVBQU0sVUFGTjtVQUdBLEVBQUEsRUFBTTtRQUhOLENBRFM7ZUFNYixJQUFJLENBQUMsVUFBVSxDQUFDLFlBQWhCLENBQTZCLFVBQTdCLEVBQXlDLElBQXpDLEVBakJKOztJQUZPLENBdktYOzs7Ozs7OztJQWtNQSxTQUFXLENBQUMsS0FBRCxDQUFBO0FBRVAsVUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBO01BQUEsQ0FBQSxDQUFFLEtBQUYsQ0FBQSxHQUFZLE9BQU8sQ0FBQyxRQUFSLENBQWlCLEtBQWpCLENBQVo7TUFFQSxRQUFBLEdBQVcsSUFBQyxDQUFBLFlBQUQsQ0FBQTtBQUVYO01BQUEsS0FBQSxxQ0FBQTs7UUFDSSxNQUFBLEdBQVMsR0FBRyxDQUFDLEdBQUosQ0FBUSxRQUFSLEVBQWtCLE9BQWxCLENBQTBCLENBQUMsS0FBM0IsQ0FBaUMsR0FBakM7UUFDVCxJQUFHLGFBQVMsTUFBVCxFQUFBLEtBQUEsTUFBSDtVQUNJLE9BQU8sQ0FBQyxHQUFSLENBQUE7VUFDQSxJQUFBLEdBQU8sR0FBRyxDQUFDLEdBQUosQ0FBUSxRQUFSLEVBQWtCLE9BQWxCO1VBQ1AsSUFBSSxDQUFDLElBQUwsQ0FBVSxZQUFWLHdDQUFzQyxJQUFJLENBQUMsSUFBM0MsRUFBaUQsSUFBakQ7QUFDQSxpQkFBTyxLQUpYOztNQUZKO2FBUUE7SUFkTzs7RUFwTWY7O0VBb05BLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0FBOU5qQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAwMDAwMDAwICAwMDAgIDAwMDAwMDAwMCAgMDAwICAgICAgMDAwMDAwMDBcbiAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgIDAwMCAgICAgXG4gICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAwMDAwMDAwIFxuICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgMDAwICAgICBcbiAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAgIDAwMDAwMDAwXG4jIyNcblxueyBlbGVtLCBzZHMsIHByZWZzLCBzbGFzaCwgc2NoZW1lLCBlbXB0eSwgcG9zdCwgc3RvcEV2ZW50LCBrZXlpbmZvLCBtZW51LCBub29uLCBzdHIsIGxvZywgJCwgXyB9ID0gcmVxdWlyZSAnLi9reGsnXG5cbmNsYXNzIFRpdGxlXG4gICAgXG4gICAgY29uc3RydWN0b3I6IChAb3B0KSAtPlxuXG4gICAgICAgIHBvc3Qub24gJ3RpdGxlYmFyJywgICBAb25UaXRsZWJhclxuICAgICAgICBwb3N0Lm9uICdtZW51QWN0aW9uJywgQG9uTWVudUFjdGlvblxuICAgICAgICBcbiAgICAgICAgQG9wdCA/PSB7fVxuICAgICAgICBcbiAgICAgICAgcGtnID0gQG9wdC5wa2dcbiAgICAgICAgXG4gICAgICAgIEBlbGVtID0kIEBvcHQuZWxlbSA/IFwiI3RpdGxlYmFyXCJcbiAgICAgICAgQGVsZW0uYWRkRXZlbnRMaXN0ZW5lciAnZGJsY2xpY2snLCAoZXZlbnQpIC0+IHN0b3BFdmVudCBldmVudCwgcG9zdC5lbWl0ICdtZW51QWN0aW9uJywgJ01heGltaXplJ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICBAd2luaWNvbiA9IGVsZW0gY2xhc3M6ICd3aW5pY29uJ1xuICAgICAgICBAd2luaWNvbi5hcHBlbmRDaGlsZCBlbGVtICdpbWcnLCBzcmM6c2xhc2guZmlsZVVybCBzbGFzaC5qb2luIEBvcHQuZGlyLCBAb3B0Lmljb25cbiAgICAgICAgQGVsZW0uYXBwZW5kQ2hpbGQgQHdpbmljb25cbiAgICAgICAgQHdpbmljb24uYWRkRXZlbnRMaXN0ZW5lciAnY2xpY2snLCAtPiBwb3N0LmVtaXQgJ21lbnVBY3Rpb24nLCAnT3BlbiBNZW51JyAgIFxuICAgICAgICBcbiAgICAgICAgQHRpdGxlID0gZWxlbSBjbGFzczogJ3RpdGxlYmFyLXRpdGxlJ1xuICAgICAgICBAZWxlbS5hcHBlbmRDaGlsZCBAdGl0bGVcbiAgICAgICAgQHNldFRpdGxlIHBrZ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAjIOKAlCDil7sg8J+eqVxuICAgICAgICBcbiAgICAgICAgQG1pbmltaXplID0gZWxlbSBjbGFzczogJ3dpbmJ1dHRvbiBtaW5pbWl6ZSBncmF5J1xuICAgICAgICBcbiAgICAgICAgQG1pbmltaXplLmlubmVySFRNTCA9IFwiXCJcIlxuICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIi0xMCAtOCAzMCAzMFwiPlxuICAgICAgICAgICAgICAgIDxsaW5lIHgxPVwiLTFcIiB5MT1cIjVcIiB4Mj1cIjExXCIgeTI9XCI1XCI+PC9saW5lPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBcbiAgICAgICAgQGVsZW0uYXBwZW5kQ2hpbGQgQG1pbmltaXplXG4gICAgICAgIEBtaW5pbWl6ZS5hZGRFdmVudExpc3RlbmVyICdjbGljaycsIC0+IHBvc3QuZW1pdCAnbWVudUFjdGlvbicsICdNaW5pbWl6ZSdcbiAgICAgICAgXG4gICAgICAgIEBtYXhpbWl6ZSA9IGVsZW0gY2xhc3M6ICd3aW5idXR0b24gbWF4aW1pemUgZ3JheSdcbiAgICAgICAgXG4gICAgICAgIEBtYXhpbWl6ZS5pbm5lckhUTUwgPSBcIlwiXCJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZpZXdCb3g9XCItMTAgLTkgMzAgMzBcIj5cbiAgICAgICAgICAgICAgPHJlY3Qgd2lkdGg9XCIxMVwiIGhlaWdodD1cIjExXCIgc3R5bGU9XCJmaWxsLW9wYWNpdHk6IDA7XCI+PC9yZWN0PlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBAZWxlbS5hcHBlbmRDaGlsZCBAbWF4aW1pemVcbiAgICAgICAgQG1heGltaXplLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT4gcG9zdC5lbWl0ICdtZW51QWN0aW9uJywgJ01heGltaXplJ1xuXG4gICAgICAgIEBjbG9zZSA9IGVsZW0gY2xhc3M6ICd3aW5idXR0b24gY2xvc2UnXG4gICAgICAgIFxuICAgICAgICBAY2xvc2UuaW5uZXJIVE1MID0gXCJcIlwiXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiLTEwIC05IDMwIDMwXCI+XG4gICAgICAgICAgICAgICAgPGxpbmUgeDE9XCIwXCIgeTE9XCIwXCIgeDI9XCIxMFwiIHkyPVwiMTFcIj48L2xpbmU+XG4gICAgICAgICAgICAgICAgPGxpbmUgeDE9XCIxMFwiIHkxPVwiMFwiIHgyPVwiMFwiIHkyPVwiMTFcIj48L2xpbmU+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgXCJcIlwiXG4gICAgICAgIFxuICAgICAgICBAZWxlbS5hcHBlbmRDaGlsZCBAY2xvc2VcbiAgICAgICAgQGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT4gcG9zdC5lbWl0ICdtZW51QWN0aW9uJywgJ0Nsb3NlJ1xuXG4gICAgICAgIEBpbml0U3R5bGUoKVxuICAgICAgICBcbiAgICAgICAgaWYgQG9wdC5tZW51XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBpbml0TWVudSBAbWVudVRlbXBsYXRlKClcbiAgICAgICAgIFxuICAgIHNob3dUaXRsZTogLT4gQHRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnaW5pdGlhbCdcbiAgICBoaWRlVGl0bGU6IC0+IEB0aXRsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG5cbiAgICBzZXRUaXRsZTogKGluZm8pIC0+XG4gICAgICAgIGh0bWwgID0gXCI8c3BhbiBjbGFzcz0ndGl0bGViYXItbmFtZSc+I3tpbmZvLm5hbWV9PC9zcGFuPlwiXG4gICAgICAgIGlmIGluZm8udmVyc2lvblxuICAgICAgICAgICAgaHRtbCArPSBcIjxzcGFuIGNsYXNzPSd0aXRsZWJhci1kb3QnPiDil48gPC9zcGFuPlwiXG4gICAgICAgICAgICBodG1sICs9IFwiPHNwYW4gY2xhc3M9J3RpdGxlYmFyLXZlcnNpb24nPiN7aW5mby52ZXJzaW9ufTwvc3Bhbj5cIlxuICAgICAgICBpZiBpbmZvLnBhdGhcbiAgICAgICAgICAgIGh0bWwgKz0gXCI8c3BhbiBjbGFzcz0ndGl0bGViYXItZG90Jz4g4q+IIDwvc3Bhbj5cIlxuICAgICAgICAgICAgaHRtbCArPSBcIjxzcGFuIGNsYXNzPSd0aXRsZWJhci12ZXJzaW9uJz4je2luZm8ucGF0aH08L3NwYW4+XCJcbiAgICAgICAgQHRpdGxlLmlubmVySFRNTCA9IGh0bWxcbiAgICBcbiAgICBvblRpdGxlYmFyOiAoYWN0aW9uKSA9PlxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIGFjdGlvblxuICAgICAgICAgICAgd2hlbiAnc2hvd1RpdGxlJyAgIHRoZW4gQHNob3dUaXRsZSgpXG4gICAgICAgICAgICB3aGVuICdoaWRlVGl0bGUnICAgdGhlbiBAaGlkZVRpdGxlKClcbiAgICAgICAgICAgIHdoZW4gJ3Nob3dNZW51JyAgICB0aGVuIEBzaG93TWVudSgpXG4gICAgICAgICAgICB3aGVuICdoaWRlTWVudScgICAgdGhlbiBAaGlkZU1lbnUoKVxuICAgICAgICAgICAgd2hlbiAndG9nZ2xlTWVudScgIHRoZW4gQHRvZ2dsZU1lbnUoKVxuICAgICAgICAgICAgXG4gICAgIyAwMCAgICAgMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAwICAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAgICAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgMCAwMDAgIDAwMCAgICAgICAwMDAgIDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgXG5cbiAgICBvbk1lbnVBY3Rpb246IChhY3Rpb24sIGFyZ3MpID0+XG4gICAgICAgIFxuICAgICAgICBlbGVjdHJvbiA9IHJlcXVpcmUgJ2VsZWN0cm9uJyAgXG4gICAgICAgIHdpbiA9IGVsZWN0cm9uLnJlbW90ZS5nZXRDdXJyZW50V2luZG93KClcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBhY3Rpb25cbiAgICAgICAgICAgIHdoZW4gJ1RvZ2dsZSBNZW51JyAgICAgIHRoZW4gQHRvZ2dsZU1lbnUoKVxuICAgICAgICAgICAgd2hlbiAnT3BlbiBNZW51JyAgICAgICAgdGhlbiBAb3Blbk1lbnUoKVxuICAgICAgICAgICAgd2hlbiAnU2hvdyBNZW51JyAgICAgICAgdGhlbiBAc2hvd01lbnUoKVxuICAgICAgICAgICAgd2hlbiAnSGlkZSBNZW51JyAgICAgICAgdGhlbiBAaGlkZU1lbnUoKVxuICAgICAgICAgICAgd2hlbiAnVG9nZ2xlIFNjaGVtZScgICAgXG4gICAgICAgICAgICAgICAgaWYgQG9wdC5zY2hlbWUgIT0gZmFsc2UgdGhlbiBzY2hlbWUudG9nZ2xlKClcbiAgICAgICAgICAgIHdoZW4gJ0RldlRvb2xzJyAgICAgICAgIHRoZW4gd2luLndlYkNvbnRlbnRzLnRvZ2dsZURldlRvb2xzKClcbiAgICAgICAgICAgIHdoZW4gJ1JlbG9hZCcgICAgICAgICAgIHRoZW4gd2luLndlYkNvbnRlbnRzLnJlbG9hZElnbm9yaW5nQ2FjaGUoKVxuICAgICAgICAgICAgd2hlbiAnQ2xvc2UnICAgICAgICAgICAgdGhlbiB3aW4uY2xvc2UoKVxuICAgICAgICAgICAgd2hlbiAnTWluaW1pemUnICAgICAgICAgdGhlbiB3aW4ubWluaW1pemUoKVxuICAgICAgICAgICAgd2hlbiAnTWF4aW1pemUnIFxuICAgICAgICAgICAgICAgIHdhID0gZWxlY3Ryb24uc2NyZWVuLmdldFByaW1hcnlEaXNwbGF5KCkud29ya0FyZWFTaXplXG4gICAgICAgICAgICAgICAgd2IgPSB3aW4uZ2V0Qm91bmRzKClcbiAgICAgICAgICAgICAgICBtYXhpbWl6ZWQgPSB3aW4uaXNNYXhpbWl6ZWQoKSBvciAod2Iud2lkdGggPT0gd2Eud2lkdGggYW5kIHdiLmhlaWdodCA9PSB3YS5oZWlnaHQpXG4gICAgICAgICAgICAgICAgaWYgbWF4aW1pemVkIHRoZW4gd2luLnVubWF4aW1pemUoKSBlbHNlIHdpbi5tYXhpbWl6ZSgpICBcblxuICAgIG1lbnVUZW1wbGF0ZTogLT5cbiAgICAgICAgXG4gICAgICAgIGlmIGVtcHR5IEB0ZW1wbGF0ZUNhY2hlXG4gICAgICAgICAgICAjIGxvZyAnbWVudVRlbXBsYXRlJywgc2xhc2gucmVzb2x2ZSBzbGFzaC5qb2luIEBvcHQuZGlyLCBAb3B0Lm1lbnVcbiAgICAgICAgICAgIEB0ZW1wbGF0ZUNhY2hlID0gQG1ha2VUZW1wbGF0ZSBub29uLmxvYWQgc2xhc2gucmVzb2x2ZSBzbGFzaC5qb2luIEBvcHQuZGlyLCBAb3B0Lm1lbnVcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAb3B0Lm1lbnVUZW1wbGF0ZT9cbiAgICAgICAgICAgIEBvcHQubWVudVRlbXBsYXRlIEB0ZW1wbGF0ZUNhY2hlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEB0ZW1wbGF0ZUNhY2hlXG4gICAgICAgIFxuICAgIG1ha2VUZW1wbGF0ZTogKG9iaikgLT5cbiAgICAgICAgXG4gICAgICAgIHRtcGwgPSBbXVxuICAgICAgICBmb3IgdGV4dCxtZW51T3JBY2NlbCBvZiBvYmpcbiAgICAgICAgICAgIHRtcGwucHVzaCBzd2l0Y2hcbiAgICAgICAgICAgICAgICB3aGVuIGVtcHR5KG1lbnVPckFjY2VsKSBhbmQgdGV4dC5zdGFydHNXaXRoICctJ1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJ1xuICAgICAgICAgICAgICAgIHdoZW4gXy5pc051bWJlciBtZW51T3JBY2NlbFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OnRleHRcbiAgICAgICAgICAgICAgICAgICAgYWNjZWw6c3RyIG1lbnVPckFjY2VsXG4gICAgICAgICAgICAgICAgd2hlbiBfLmlzU3RyaW5nIG1lbnVPckFjY2VsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6dGV4dFxuICAgICAgICAgICAgICAgICAgICBhY2NlbDptZW51T3JBY2NlbFxuICAgICAgICAgICAgICAgIHdoZW4gZW1wdHkgbWVudU9yQWNjZWxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDp0ZXh0XG4gICAgICAgICAgICAgICAgICAgIGFjY2VsOiAnJ1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgbWVudU9yQWNjZWwuYWNjZWw/IG9yIG1lbnVPckFjY2VsLmNvbW1hbmQ/ICMgbmVlZHMgYmV0dGVyIHRlc3QhXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gXy5jbG9uZSBtZW51T3JBY2NlbFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50ZXh0ID0gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnU6QG1ha2VUZW1wbGF0ZSBtZW51T3JBY2NlbFxuICAgICAgICB0bXBsXG5cbiAgICBpbml0TWVudTogKGl0ZW1zKSAtPlxuXG4gICAgICAgIEBtZW51ID0gbmV3IG1lbnUgaXRlbXM6aXRlbXNcbiAgICAgICAgQGVsZW0uaW5zZXJ0QmVmb3JlIEBtZW51LmVsZW0sIEBlbGVtLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmdcbiAgICAgICAgQGhpZGVNZW51KClcblxuICAgIG1lbnVWaXNpYmxlOiA9PiBAbWVudS5lbGVtLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnXG4gICAgc2hvd01lbnU6ICAgID0+IEBtZW51LmVsZW0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snOyBAbWVudT8uZm9jdXM/KCk7IHBvc3QuZW1pdCAndGl0bGViYXInLCAnaGlkZVRpdGxlJ1xuICAgIGhpZGVNZW51OiAgICA9PiBAbWVudT8uY2xvc2UoKTsgQG1lbnUuZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyBwb3N0LmVtaXQgJ3RpdGxlYmFyJywgJ3Nob3dUaXRsZSdcbiAgICB0b2dnbGVNZW51OiAgPT4gaWYgQG1lbnVWaXNpYmxlKCkgdGhlbiBAaGlkZU1lbnUoKSBlbHNlIEBzaG93TWVudSgpXG4gICAgb3Blbk1lbnU6ICAgID0+IGlmIEBtZW51VmlzaWJsZSgpIHRoZW4gQGhpZGVNZW51KCkgZWxzZSBAc2hvd01lbnUoKTsgQG1lbnUub3BlbigpXG5cbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwMDAwMDAgIFxuICAgICMgMDAwICAgICAgICAgIDAwMCAgICAgIDAwMCAwMDAgICAwMDAgICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAwMDAwICAgICAgMDAwICAgICAgIDAwMDAwICAgIDAwMCAgICAgIDAwMDAwMDAgICBcbiAgICAjICAgICAgMDAwICAgICAwMDAgICAgICAgIDAwMCAgICAgMDAwICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMCAgICAgIDAwMCAgICAgICAgMDAwICAgICAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgXG4gICAgaW5pdFN0eWxlOiAtPlxuICAgICAgICBcbiAgICAgICAgaWYgbGluayA9JCBcIiNzdHlsZS1saW5rXCJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaHJlZiA9IHNsYXNoLmZpbGVVcmwgc2xhc2gucmVzb2x2ZSBzbGFzaC5qb2luIF9fZGlybmFtZSwgXCJjc3Mvc3R5bGUuY3NzXCJcbiAgICAgICAgICAgIHRpdGxlU3R5bGUgPSBlbGVtICdsaW5rJyxcbiAgICAgICAgICAgICAgICBocmVmOiBocmVmXG4gICAgICAgICAgICAgICAgcmVsOiAgJ3N0eWxlc2hlZXQnXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQvY3NzJ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgbGluay5wYXJlbnROb2RlLmluc2VydEJlZm9yZSB0aXRsZVN0eWxlLCBsaW5rXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGhyZWYgPSBzbGFzaC5maWxlVXJsIHNsYXNoLnJlc29sdmUgc2xhc2guam9pbiBfX2Rpcm5hbWUsIFwiY3NzLyN7cHJlZnMuZ2V0ICdzY2hlbWUnLCAnZGFyayd9LmNzc1wiXG4gICAgICAgICAgICB0aXRsZVN0eWxlID0gZWxlbSAnbGluaycsXG4gICAgICAgICAgICAgICAgaHJlZjogaHJlZlxuICAgICAgICAgICAgICAgIHJlbDogICdzdHlsZXNoZWV0J1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0L2NzcydcbiAgICAgICAgICAgICAgICBpZDogICAnc3R5bGUtdGl0bGUnXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBsaW5rLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlIHRpdGxlU3R5bGUsIGxpbmtcbiAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAwMDAgICAwMDAgICAgICAgIDAwMCAwMDBcbiAgICAjIDAwMDAwMDAgICAgMDAwMDAwMCAgICAgMDAwMDBcbiAgICAjIDAwMCAgMDAwICAgMDAwICAgICAgICAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAwMDAwMCAgICAgMDAwXG5cbiAgICBoYW5kbGVLZXk6IChldmVudCkgLT5cblxuICAgICAgICB7IGNvbWJvIH0gPSBrZXlpbmZvLmZvckV2ZW50IGV2ZW50XG4gICAgICAgIFxuICAgICAgICBtYWluTWVudSA9IEBtZW51VGVtcGxhdGUoKVxuICAgICAgICAgICAgXG4gICAgICAgIGZvciBrZXlwYXRoIGluIHNkcy5maW5kLmtleSBtYWluTWVudSwgJ2FjY2VsJ1xuICAgICAgICAgICAgY29tYm9zID0gc2RzLmdldChtYWluTWVudSwga2V5cGF0aCkuc3BsaXQgJyAnXG4gICAgICAgICAgICBpZiBjb21ibyBpbiBjb21ib3NcbiAgICAgICAgICAgICAgICBrZXlwYXRoLnBvcCgpXG4gICAgICAgICAgICAgICAgaXRlbSA9IHNkcy5nZXQgbWFpbk1lbnUsIGtleXBhdGhcbiAgICAgICAgICAgICAgICBwb3N0LmVtaXQgJ21lbnVBY3Rpb24nLCBpdGVtLmFjdGlvbiA/IGl0ZW0udGV4dCwgaXRlbVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtXG5cbiAgICAgICAgJ3VuaGFuZGxlZCdcbiAgICAgICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSBUaXRsZVxuIl19
//# sourceURL=../coffee/title.coffee