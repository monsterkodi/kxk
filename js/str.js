// koffee 0.43.0

/*
 0000000  000000000  00000000 
000          000     000   000
0000000      000     0000000  
     000     000     000   000
0000000      000     000   000
 */
var entity, noon, str, time, xmlEntities;

noon = require('noon');

entity = require('html-entities');

time = require('pretty-time');

xmlEntities = new entity.XmlEntities();

str = function(o) {
    if (o == null) {
        return 'null';
    }
    if (typeof o === 'object') {
        if (o._str != null) {
            return o._str();
        } else {
            return "\n" + noon.stringify(o, {
                circular: true
            });
        }
    } else {
        return String(o);
    }
};


/*
00000000  000   000   0000000   0000000   0000000    00000000
000       0000  000  000       000   000  000   000  000     
0000000   000 0 000  000       000   000  000   000  0000000 
000       000  0000  000       000   000  000   000  000     
00000000  000   000   0000000   0000000   0000000    00000000
 */

str.encode = function(s, spaces) {
    var r;
    if (spaces == null) {
        spaces = true;
    }
    if (s) {
        r = xmlEntities.encode(s);
        if (spaces) {
            r = r.replace(/\s/g, '&nbsp;');
        }
        return r;
    } else {
        return '';
    }
};

str.stripansi = function(s) {
    return s.replace(/\x1B[[(?);]{0,2}(;?\d)*./g, '');
};

str.time = time;

module.exports = str;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRQSxJQUFBLEdBQVMsT0FBQSxDQUFRLE1BQVI7O0FBQ1QsTUFBQSxHQUFTLE9BQUEsQ0FBUSxlQUFSOztBQUNULElBQUEsR0FBUyxPQUFBLENBQVEsYUFBUjs7QUFFVCxXQUFBLEdBQWMsSUFBSSxNQUFNLENBQUMsV0FBWCxDQUFBOztBQUVkLEdBQUEsR0FBTSxTQUFDLENBQUQ7SUFDRixJQUFxQixTQUFyQjtBQUFBLGVBQU8sT0FBUDs7SUFDQSxJQUFHLE9BQU8sQ0FBUCxLQUFhLFFBQWhCO1FBQ0ksSUFBRyxjQUFIO21CQUNJLENBQUMsQ0FBQyxJQUFGLENBQUEsRUFESjtTQUFBLE1BQUE7bUJBR0ksSUFBQSxHQUFPLElBQUksQ0FBQyxTQUFMLENBQWUsQ0FBZixFQUFrQjtnQkFBQSxRQUFBLEVBQVUsSUFBVjthQUFsQixFQUhYO1NBREo7S0FBQSxNQUFBO2VBTUksTUFBQSxDQUFPLENBQVAsRUFOSjs7QUFGRTs7O0FBVU47Ozs7Ozs7O0FBUUEsR0FBRyxDQUFDLE1BQUosR0FBYSxTQUFDLENBQUQsRUFBSSxNQUFKO0FBQ1QsUUFBQTs7UUFEYSxTQUFPOztJQUNwQixJQUFHLENBQUg7UUFDSSxDQUFBLEdBQUksV0FBVyxDQUFDLE1BQVosQ0FBbUIsQ0FBbkI7UUFDSixJQUFHLE1BQUg7WUFDSSxDQUFBLEdBQUksQ0FBQyxDQUFDLE9BQUYsQ0FBVSxLQUFWLEVBQWlCLFFBQWpCLEVBRFI7O2VBRUEsRUFKSjtLQUFBLE1BQUE7ZUFNSSxHQU5KOztBQURTOztBQVNiLEdBQUcsQ0FBQyxTQUFKLEdBQWdCLFNBQUMsQ0FBRDtXQUNaLENBQUMsQ0FBQyxPQUFGLENBQVUsMkJBQVYsRUFBdUMsRUFBdkM7QUFEWTs7QUFHaEIsR0FBRyxDQUFDLElBQUosR0FBVzs7QUFFWCxNQUFNLENBQUMsT0FBUCxHQUFpQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuIDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwMDAwMDAgXG4wMDAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDBcbjAwMDAwMDAgICAgICAwMDAgICAgIDAwMDAwMDAgIFxuICAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwXG4wMDAwMDAwICAgICAgMDAwICAgICAwMDAgICAwMDBcbiMjI1xuXG5ub29uICAgPSByZXF1aXJlICdub29uJ1xuZW50aXR5ID0gcmVxdWlyZSAnaHRtbC1lbnRpdGllcydcbnRpbWUgICA9IHJlcXVpcmUgJ3ByZXR0eS10aW1lJ1xuXG54bWxFbnRpdGllcyA9IG5ldyBlbnRpdHkuWG1sRW50aXRpZXMoKVxuXG5zdHIgPSAobykgLT5cbiAgICByZXR1cm4gJ251bGwnIGlmIG5vdCBvP1xuICAgIGlmIHR5cGVvZihvKSA9PSAnb2JqZWN0J1xuICAgICAgICBpZiBvLl9zdHI/XG4gICAgICAgICAgICBvLl9zdHIoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBcIlxcblwiICsgbm9vbi5zdHJpbmdpZnkgbywgY2lyY3VsYXI6IHRydWVcbiAgICBlbHNlXG4gICAgICAgIFN0cmluZyBvXG5cbiMjI1xuMDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwMFxuMDAwICAgICAgIDAwMDAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgIFxuMDAwMDAwMCAgIDAwMCAwIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwIFxuMDAwICAgICAgIDAwMCAgMDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgIFxuMDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwMFxuIyMjXG5cbnN0ci5lbmNvZGUgPSAocywgc3BhY2VzPXRydWUpIC0+XG4gICAgaWYgc1xuICAgICAgICByID0geG1sRW50aXRpZXMuZW5jb2RlIHNcbiAgICAgICAgaWYgc3BhY2VzXG4gICAgICAgICAgICByID0gci5yZXBsYWNlIC9cXHMvZywgJyZuYnNwOydcbiAgICAgICAgclxuICAgIGVsc2VcbiAgICAgICAgJydcbiAgICAgICBcbnN0ci5zdHJpcGFuc2kgPSAocykgLT5cbiAgICBzLnJlcGxhY2UgL1xceDFCW1soPyk7XXswLDJ9KDs/XFxkKSouL2csICcnXG4gICAgICAgIFxuc3RyLnRpbWUgPSB0aW1lXG4gICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSBzdHIiXX0=
//# sourceURL=../coffee/str.coffee