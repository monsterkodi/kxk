(function() {
  /*
   0000000   00000000    0000000    0000000
  000   000  000   000  000        000     
  000000000  0000000    000  0000  0000000 
  000   000  000   000  000   000       000
  000   000  000   000   0000000   0000000 
  */
  var _, args, empty, error, fs, karg, log, noon, post, slash, valid;

  ({karg, post, slash, noon, empty, valid, fs, error, log, _} = require('./kxk'));

  if (process.type === 'renderer') {
    module.exports = post.get('args');
  } else {
    args = {};
    args.init = function(cfg, kargOpt) {
      var k, kargConfig, kk, o, pkg, pkgDir, pkgJson, ref, ref1, ref2, s, v, vv;
      if (kargOpt == null) {
        kargOpt = {};
      }
      pkg = kargOpt.pkg;
      if (pkg == null) {
        pkgDir = slash.pkg(__dirname);
        while (valid(pkgDir) && slash.file(slash.dir(pkgDir)) === 'node_modules') {
          pkgDir = slash.pkg(slash.dir(pkgDir));
        }
        if (valid(pkgDir)) {
          pkgJson = slash.join(pkgDir, 'package.json');
          pkg = require(pkgJson);
          if (empty(pkg)) {
            return error(`args -- no pkg in '${pkgJson}'!`);
          }
        } else {
          return error('args -- no pkg dir!');
        }
      }
      kargConfig = {};
      kargConfig[pkg.name] = {};
      kargConfig.version = pkg.version;
      ref = noon.parse(cfg);
      for (kk in ref) {
        vv = ref[kk];
        o = {};
        s = vv.split(/\s\s+/);
        if (s.length > 0) {
          if (!empty(s[0])) {
            o['?'] = s[0];
          }
        }
        if (s.length > 1) {
          if ((ref1 = s[1]) === '*' || ref1 === '**') {
            o[s[1]] = null;
          } else {
            o['='] = noon.parse(s[1])[0];
          }
        }
        if (s.length > 2) {
          if (s[2].startsWith('-')) {
            o['-'] = s[2].substr(1);
          }
        }
        kargConfig[pkg.name][kk] = o;
      }
      delete args.init;
      if (empty(kargOpt.ignoreArgs)) {
        if (slash.win() && slash.file(process.argv[0]) === `${pkg.name}.exe`) {
          kargOpt.ignoreArgs = 1;
        } else {
          kargOpt.ignoreArgs = 2;
        }
      }
      ref2 = karg(kargConfig, kargOpt);
      for (k in ref2) {
        v = ref2[k];
        args[k] = v;
      }
      return args;
    };
    if (post != null) {
      post.onGet('args', () => {
        return args;
      });
    }
    module.exports = args;
  }

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJncy5qcyIsInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyIuLi9jb2ZmZWUvYXJncy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBQTs7Ozs7OztBQUFBLE1BQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBOztFQVFBLENBQUEsQ0FBRSxJQUFGLEVBQVEsSUFBUixFQUFjLEtBQWQsRUFBcUIsSUFBckIsRUFBMkIsS0FBM0IsRUFBa0MsS0FBbEMsRUFBeUMsRUFBekMsRUFBNkMsS0FBN0MsRUFBb0QsR0FBcEQsRUFBeUQsQ0FBekQsQ0FBQSxHQUErRCxPQUFBLENBQVEsT0FBUixDQUEvRDs7RUFFQSxJQUFHLE9BQU8sQ0FBQyxJQUFSLEtBQWdCLFVBQW5CO0lBRUksTUFBTSxDQUFDLE9BQVAsR0FBaUIsSUFBSSxDQUFDLEdBQUwsQ0FBUyxNQUFULEVBRnJCO0dBQUEsTUFBQTtJQU1JLElBQUEsR0FBTyxDQUFBO0lBRVAsSUFBSSxDQUFDLElBQUwsR0FBWSxRQUFBLENBQUMsR0FBRCxFQUFNLE9BQU4sQ0FBQTtBQUVSLFVBQUEsQ0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUE7O1FBQUEsVUFBVyxDQUFBOztNQUNYLEdBQUEsR0FBTSxPQUFPLENBQUM7TUFFZCxJQUFPLFdBQVA7UUFDSSxNQUFBLEdBQVMsS0FBSyxDQUFDLEdBQU4sQ0FBVSxTQUFWO0FBQ1QsZUFBTSxLQUFBLENBQU0sTUFBTixDQUFBLElBQWtCLEtBQUssQ0FBQyxJQUFOLENBQVcsS0FBSyxDQUFDLEdBQU4sQ0FBVSxNQUFWLENBQVgsQ0FBQSxLQUFnQyxjQUF4RDtVQUNJLE1BQUEsR0FBUyxLQUFLLENBQUMsR0FBTixDQUFVLEtBQUssQ0FBQyxHQUFOLENBQVUsTUFBVixDQUFWO1FBRGI7UUFFQSxJQUFHLEtBQUEsQ0FBTSxNQUFOLENBQUg7VUFDSSxPQUFBLEdBQVUsS0FBSyxDQUFDLElBQU4sQ0FBVyxNQUFYLEVBQW1CLGNBQW5CO1VBQ1YsR0FBQSxHQUFNLE9BQUEsQ0FBUSxPQUFSO1VBQ04sSUFBa0QsS0FBQSxDQUFNLEdBQU4sQ0FBbEQ7QUFBQSxtQkFBTyxLQUFBLENBQU0sQ0FBQSxtQkFBQSxDQUFBLENBQXNCLE9BQXRCLENBQThCLEVBQTlCLENBQU4sRUFBUDtXQUhKO1NBQUEsTUFBQTtBQUtJLGlCQUFPLEtBQUEsQ0FBTSxxQkFBTixFQUxYO1NBSko7O01BV0EsVUFBQSxHQUFhLENBQUE7TUFDYixVQUFXLENBQUEsR0FBRyxDQUFDLElBQUosQ0FBWCxHQUF1QixDQUFBO01BQ3ZCLFVBQVUsQ0FBQyxPQUFYLEdBQXFCLEdBQUcsQ0FBQztBQUV6QjtNQUFBLEtBQUEsU0FBQTs7UUFDSSxDQUFBLEdBQUksQ0FBQTtRQUNKLENBQUEsR0FBSSxFQUFFLENBQUMsS0FBSCxDQUFTLE9BQVQ7UUFFSixJQUFHLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBZDtVQUNJLElBQWlCLENBQUksS0FBQSxDQUFNLENBQUUsQ0FBQSxDQUFBLENBQVIsQ0FBckI7WUFBQSxDQUFFLENBQUEsR0FBQSxDQUFGLEdBQVMsQ0FBRSxDQUFBLENBQUEsRUFBWDtXQURKOztRQUVBLElBQUcsQ0FBQyxDQUFDLE1BQUYsR0FBVyxDQUFkO1VBQ0ksWUFBRyxDQUFFLENBQUEsQ0FBQSxFQUFGLEtBQVMsR0FBVCxJQUFBLElBQUEsS0FBYyxJQUFqQjtZQUNJLENBQUUsQ0FBQSxDQUFFLENBQUEsQ0FBQSxDQUFGLENBQUYsR0FBVSxLQURkO1dBQUEsTUFBQTtZQUdJLENBQUUsQ0FBQSxHQUFBLENBQUYsR0FBUyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUUsQ0FBQSxDQUFBLENBQWIsQ0FBaUIsQ0FBQSxDQUFBLEVBSDlCO1dBREo7O1FBS0EsSUFBRyxDQUFDLENBQUMsTUFBRixHQUFXLENBQWQ7VUFDSSxJQUFHLENBQUUsQ0FBQSxDQUFBLENBQUUsQ0FBQyxVQUFMLENBQWdCLEdBQWhCLENBQUg7WUFDSSxDQUFFLENBQUEsR0FBQSxDQUFGLEdBQVMsQ0FBRSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQUwsQ0FBWSxDQUFaLEVBRGI7V0FESjs7UUFJQSxVQUFXLENBQUEsR0FBRyxDQUFDLElBQUosQ0FBVSxDQUFBLEVBQUEsQ0FBckIsR0FBMkI7TUFmL0I7TUFpQkEsT0FBTyxJQUFJLENBQUM7TUFFWixJQUFHLEtBQUEsQ0FBTSxPQUFPLENBQUMsVUFBZCxDQUFIO1FBQ0ksSUFBRyxLQUFLLENBQUMsR0FBTixDQUFBLENBQUEsSUFBZ0IsS0FBSyxDQUFDLElBQU4sQ0FBVyxPQUFPLENBQUMsSUFBSyxDQUFBLENBQUEsQ0FBeEIsQ0FBQSxLQUErQixDQUFBLENBQUEsQ0FBRyxHQUFHLENBQUMsSUFBUCxDQUFZLElBQVosQ0FBbEQ7VUFDSSxPQUFPLENBQUMsVUFBUixHQUFtQixFQUR2QjtTQUFBLE1BQUE7VUFHSSxPQUFPLENBQUMsVUFBUixHQUFtQixFQUh2QjtTQURKOztBQU1BO01BQUEsS0FBQSxTQUFBOztRQUNJLElBQUssQ0FBQSxDQUFBLENBQUwsR0FBVTtNQURkO2FBR0E7SUFoRFE7O01Ba0RaLElBQUksQ0FBRSxLQUFOLENBQVksTUFBWixFQUFvQixDQUFBLENBQUEsR0FBQTtlQUFHO01BQUgsQ0FBcEI7O0lBRUEsTUFBTSxDQUFDLE9BQVAsR0FBaUIsS0E1RHJCOztBQVZBIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4gMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwMDAwMFxuMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgMDAwICAgICBcbjAwMDAwMDAwMCAgMDAwMDAwMCAgICAwMDAgIDAwMDAgIDAwMDAwMDAgXG4wMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAgIDAwMFxuMDAwICAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCBcbiMjI1xuXG57IGthcmcsIHBvc3QsIHNsYXNoLCBub29uLCBlbXB0eSwgdmFsaWQsIGZzLCBlcnJvciwgbG9nLCBfIH0gPSByZXF1aXJlICcuL2t4aydcblxuaWYgcHJvY2Vzcy50eXBlID09ICdyZW5kZXJlcidcbiAgICBcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHBvc3QuZ2V0ICdhcmdzJ1xuICAgIFxuZWxzZVxuICAgICAgICBcbiAgICBhcmdzID0ge30gXG4gICAgICAgIFxuICAgIGFyZ3MuaW5pdCA9IChjZmcsIGthcmdPcHQpIC0+XG4gICAgICAgIFxuICAgICAgICBrYXJnT3B0ID89IHt9XG4gICAgICAgIHBrZyA9IGthcmdPcHQucGtnXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgcGtnP1xuICAgICAgICAgICAgcGtnRGlyID0gc2xhc2gucGtnIF9fZGlybmFtZVxuICAgICAgICAgICAgd2hpbGUgdmFsaWQocGtnRGlyKSBhbmQgc2xhc2guZmlsZShzbGFzaC5kaXIgcGtnRGlyKSA9PSAnbm9kZV9tb2R1bGVzJ1xuICAgICAgICAgICAgICAgIHBrZ0RpciA9IHNsYXNoLnBrZyBzbGFzaC5kaXIgcGtnRGlyXG4gICAgICAgICAgICBpZiB2YWxpZCBwa2dEaXJcbiAgICAgICAgICAgICAgICBwa2dKc29uID0gc2xhc2guam9pbiBwa2dEaXIsICdwYWNrYWdlLmpzb24nXG4gICAgICAgICAgICAgICAgcGtnID0gcmVxdWlyZSBwa2dKc29uXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yIFwiYXJncyAtLSBubyBwa2cgaW4gJyN7cGtnSnNvbn0nIVwiIGlmIGVtcHR5IHBrZ1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvciAnYXJncyAtLSBubyBwa2cgZGlyISdcbiAgICAgICAgICAgIFxuICAgICAgICBrYXJnQ29uZmlnID0ge31cbiAgICAgICAga2FyZ0NvbmZpZ1twa2cubmFtZV0gPSB7fVxuICAgICAgICBrYXJnQ29uZmlnLnZlcnNpb24gPSBwa2cudmVyc2lvblxuICAgICAgICBcbiAgICAgICAgZm9yIGtrLHZ2IG9mIG5vb24ucGFyc2UgY2ZnXG4gICAgICAgICAgICBvID0ge31cbiAgICAgICAgICAgIHMgPSB2di5zcGxpdCgvXFxzXFxzKy8pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIHMubGVuZ3RoID4gMCBcbiAgICAgICAgICAgICAgICBvWyc/J10gPSBzWzBdIGlmIG5vdCBlbXB0eSBzWzBdXG4gICAgICAgICAgICBpZiBzLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICBpZiBzWzFdIGluIFsnKicsICcqKiddXG4gICAgICAgICAgICAgICAgICAgIG9bc1sxXV0gPSBudWxsXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvWyc9J10gPSBub29uLnBhcnNlKHNbMV0pWzBdIFxuICAgICAgICAgICAgaWYgcy5sZW5ndGggPiAyXG4gICAgICAgICAgICAgICAgaWYgc1syXS5zdGFydHNXaXRoICctJ1xuICAgICAgICAgICAgICAgICAgICBvWyctJ10gPSBzWzJdLnN1YnN0ciAxXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGthcmdDb25maWdbcGtnLm5hbWVdW2trXSA9IG9cbiAgICAgICAgICAgIFxuICAgICAgICBkZWxldGUgYXJncy5pbml0XG4gICAgICAgIFxuICAgICAgICBpZiBlbXB0eSBrYXJnT3B0Lmlnbm9yZUFyZ3NcbiAgICAgICAgICAgIGlmIHNsYXNoLndpbigpIGFuZCBzbGFzaC5maWxlKHByb2Nlc3MuYXJndlswXSkgPT0gXCIje3BrZy5uYW1lfS5leGVcIlxuICAgICAgICAgICAgICAgIGthcmdPcHQuaWdub3JlQXJncz0xXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAga2FyZ09wdC5pZ25vcmVBcmdzPTJcbiAgICAgICAgXG4gICAgICAgIGZvciBrLHYgb2Yga2FyZyBrYXJnQ29uZmlnLCBrYXJnT3B0XG4gICAgICAgICAgICBhcmdzW2tdID0gdlxuICAgICAgICAgICAgXG4gICAgICAgIGFyZ3NcbiAgICBcbiAgICBwb3N0Py5vbkdldCAnYXJncycsID0+IGFyZ3NcbiAgICBcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGFyZ3NcbiJdfQ==
//# sourceURL=../coffee/args.coffee