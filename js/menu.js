(function() {
  /*
  00     00  00000000  000   000  000   000  
  000   000  000       0000  000  000   000  
  000000000  0000000   000 0 000  000   000  
  000 0 000  000       000  0000  000   000  
  000   000  00000000  000   000   0000000   
  */
  var Menu, elem, keyinfo, log, popup, post, stopEvent;

  ({stopEvent, keyinfo, popup, post, elem, log} = require('./kxk'));

  Menu = class Menu {
    constructor(opt) {
      var combo, div, i, item, len, ref;
      
      // 00000000   0000000    0000000  000   000   0000000  
      // 000       000   000  000       000   000  000       
      // 000000    000   000  000       000   000  0000000   
      // 000       000   000  000       000   000       000  
      // 000        0000000    0000000   0000000   0000000   
      this.focus = this.focus.bind(this);
      this.blur = this.blur.bind(this);
      this.onHover = this.onHover.bind(this);
      this.onFocusOut = this.onFocusOut.bind(this);
      
      //  0000000  000       0000000    0000000  00000000  
      // 000       000      000   000  000       000       
      // 000       000      000   000  0000000   0000000   
      // 000       000      000   000       000  000       
      //  0000000  0000000   0000000   0000000   00000000  
      this.close = this.close.bind(this);
      
      // 000   000  00000000  000   000  
      // 000  000   000        000 000   
      // 0000000    0000000     00000    
      // 000  000   000          000     
      // 000   000  00000000     000     
      this.onKeyDown = this.onKeyDown.bind(this);
      this.onClick = this.onClick.bind(this);
      this.elem = elem({
        class: 'menu',
        tabindex: 3
      });
      ref = opt.items;
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        if (item.hide) {
          continue;
        }
        div = elem({
          class: 'menuItem',
          text: item.text
        });
        div.item = item;
        div.addEventListener('click', this.onClick);
        if (item.combo != null) {
          combo = elem('span', {
            class: 'popupCombo',
            text: keyinfo.short(item.combo)
          });
          div.appendChild(combo);
        }
        this.elem.appendChild(div);
      }
      this.select(this.elem.firstChild);
      this.elem.addEventListener('keydown', this.onKeyDown);
      this.elem.addEventListener('focusout', this.onFocusOut);
      this.elem.addEventListener('mouseover', this.onHover);
    }

    focus() {
      this.focusElem = document.activeElement;
      return this.elem.focus();
    }

    blur() {
      var ref;
      this.close();
      return (ref = this.focusElem) != null ? typeof ref.focus === "function" ? ref.focus() : void 0 : void 0;
    }

    onHover(event) {
      return this.select(event.target, {
        selectFirstItem: false
      });
    }

    onFocusOut(event) {
      var ref;
      if (this.popup && !((ref = event.relatedTarget) != null ? ref.classList.contains('popup') : void 0)) {
        this.popup.close({
          focus: false
        });
        return delete this.popup;
      }
    }

    
    //  0000000   00000000   00000000  000   000  
    // 000   000  000   000  000       0000  000  
    // 000   000  00000000   0000000   000 0 000  
    // 000   000  000        000       000  0000  
    //  0000000   000        00000000  000   000  
    open() {
      return this.select(this.elem.firstChild, {
        activate: true
      });
    }

    close(opt = {}) {
      var ref;
      if (this.popup != null) {
        this.popup.close({
          focus: false
        });
        delete this.popup;
        if (opt.focus !== false) {
          return this.elem.focus();
        }
      } else {
        if (opt.focus !== false) {
          return (ref = this.focusElem) != null ? typeof ref.focus === "function" ? ref.focus() : void 0 : void 0;
        }
      }
    }

    childClosed(child, opt) {
      if (child === this.popup) {
        delete this.popup;
        if (opt.focus !== false) {
          return this.elem.focus();
        }
      }
    }

    
    //  0000000  00000000  000      00000000   0000000  000000000  
    // 000       000       000      000       000          000     
    // 0000000   0000000   000      0000000   000          000     
    //      000  000       000      000       000          000     
    // 0000000   00000000  0000000  00000000   0000000     000     
    select(item, opt = {}) {
      var hadPopup, ref;
      if (item == null) {
        return;
      }
      if (this.popup != null) {
        hadPopup = true;
        this.popup.close({
          focus: false
        });
      }
      if ((ref = this.selected) != null) {
        ref.classList.remove('selected');
      }
      this.selected = item;
      this.selected.classList.add('selected');
      if (hadPopup || opt.activate) {
        delete this.popup;
        return this.activate(item, opt);
      }
    }

    
    //  0000000    0000000  000000000  000  000   000   0000000   000000000  00000000  
    // 000   000  000          000     000  000   000  000   000     000     000       
    // 000000000  000          000     000   000 000   000000000     000     0000000   
    // 000   000  000          000     000     000     000   000     000     000       
    // 000   000   0000000     000     000      0      000   000     000     00000000  
    activate(item, opt = {}) {
      var br, items, pr;
      items = item.item.menu;
      if (items) {
        if (this.popup) {
          this.popup.close({
            focus: false
          });
          delete this.popup;
        }
        br = item.getBoundingClientRect();
        pr = item.parentNode.getBoundingClientRect();
        opt.items = items;
        opt.parent = this;
        opt.x = br.left;
        opt.y = pr.top + pr.height;
        this.popup = popup.menu(opt);
        if (opt.selectFirstItem === false) {
          return this.elem.focus();
        }
      }
    }

    toggle(item) {
      if (this.popup) {
        this.popup.close({
          focus: false
        });
        return delete this.popup;
      } else {
        return this.activate(item, {
          selectFirstItem: false
        });
      }
    }

    itemSelected(item, elem) {}

    deactivate(item) {
      return log(item.item);
    }

    navigateLeft() {
      var ref;
      return this.select((ref = this.selected) != null ? ref.previousSibling : void 0, {
        activate: true,
        selectFirstItem: false
      });
    }

    navigateRight() {
      var ref;
      return this.select((ref = this.selected) != null ? ref.nextSibling : void 0, {
        activate: true,
        selectFirstItem: false
      });
    }

    onKeyDown(event) {
      var combo, key, mod;
      ({mod, key, combo} = keyinfo.forEvent(event));
      switch (combo) {
        case 'end':
        case 'page down':
          return stopEvent(event, this.select(this.elem.lastChild, {
            activate: true,
            selectFirstItem: false
          }));
        case 'home':
        case 'page up':
          return stopEvent(event, this.select(this.elem.firstChild, {
            activate: true,
            selectFirstItem: false
          }));
        case 'enter':
        case 'down':
        case 'space':
          return stopEvent(event, this.activate(this.selected));
        case 'esc':
          return stopEvent(event, this.close());
        case 'right':
          return stopEvent(event, this.navigateRight());
        case 'left':
          return stopEvent(event, this.navigateLeft());
      }
    }

    onClick(e) {
      return this.toggle(e.target);
    }

  };

  module.exports = Menu;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlL21lbnUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQUE7Ozs7Ozs7QUFBQSxNQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBOztFQVFBLENBQUEsQ0FBRSxTQUFGLEVBQWEsT0FBYixFQUFzQixLQUF0QixFQUE2QixJQUE3QixFQUFtQyxJQUFuQyxFQUF5QyxHQUF6QyxDQUFBLEdBQWlELE9BQUEsQ0FBUSxPQUFSLENBQWpEOztFQUVNLE9BQU4sTUFBQSxLQUFBO0lBRUksV0FBYSxDQUFDLEdBQUQsQ0FBQTtBQUVULFVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBOzs7Ozs7O1VBd0JKLENBQUEsWUFBQSxDQUFBO1VBS0EsQ0FBQSxXQUFBLENBQUE7VUFFQSxDQUFBLGNBQUEsQ0FBQTtVQUVBLENBQUEsaUJBQUEsQ0FBQSxzQkFqQ0k7Ozs7Ozs7VUFxREosQ0FBQSxZQUFBLENBQUEsaUJBckRJOzs7Ozs7O1VBNElKLENBQUEsZ0JBQUEsQ0FBQTtVQWFBLENBQUEsY0FBQSxDQUFBO01BekpJLElBQUMsQ0FBQSxJQUFELEdBQVEsSUFBQSxDQUFLO1FBQUEsS0FBQSxFQUFPLE1BQVA7UUFBZSxRQUFBLEVBQVU7TUFBekIsQ0FBTDtBQUVSO01BQUEsS0FBQSxxQ0FBQTs7UUFDSSxJQUFZLElBQUksQ0FBQyxJQUFqQjtBQUFBLG1CQUFBOztRQUNBLEdBQUEsR0FBTSxJQUFBLENBQUs7VUFBQSxLQUFBLEVBQU8sVUFBUDtVQUFtQixJQUFBLEVBQU0sSUFBSSxDQUFDO1FBQTlCLENBQUw7UUFDTixHQUFHLENBQUMsSUFBSixHQUFXO1FBQ1gsR0FBRyxDQUFDLGdCQUFKLENBQXFCLE9BQXJCLEVBQThCLElBQUMsQ0FBQSxPQUEvQjtRQUNBLElB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QUFBLFFBQUEsRUFBUyxJQUFUO1lBQWUsZUFBQSxFQUFnQjtVQUEvQixDQUExQixDQUFqQjtBQUh6QyxhQUlTLE9BSlQ7QUFBQSxhQUlrQixNQUpsQjtBQUFBLGFBSTBCLE9BSjFCO2lCQUl5QyxTQUFBLENBQVUsS0FBVixFQUFpQixJQUFDLENBQUEsUUFBRCxDQUFVLElBQUMsQ0FBQSxRQUFYLENBQWpCO0FBSnpDLGFBS1MsS0FMVDtpQkFLeUMsU0FBQSxDQUFVLEtBQVYsRUFBaUIsSUFBQyxDQUFBLEtBQUQsQ0FBQSxDQUFqQjtBQUx6QyxhQU1TLE9BTlQ7aUJBTXlDLFNBQUEsQ0FBVSxLQUFWLEVBQWlCLElBQUMsQ0FBQSxhQUFELENBQUEsQ0FBakI7QUFOekMsYUFPUyxNQVBUO2lCQU95QyxTQUFBLENBQVUsS0FBVixFQUFpQixJQUFDLENBQUEsWUFBRCxDQUFBLENBQWpCO0FBUHpDO0lBSk87O0lBYVgsT0FBUyxDQUFDLENBQUQsQ0FBQTthQUFPLElBQUMsQ0FBQSxNQUFELENBQVEsQ0FBQyxDQUFDLE1BQVY7SUFBUDs7RUE3SmI7O0VBK0pBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0FBektqQiIsInNvdXJjZXNDb250ZW50IjpbIiMjI1xuMDAgICAgIDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIFxuMDAwICAgMDAwICAwMDAgICAgICAgMDAwMCAgMDAwICAwMDAgICAwMDAgIFxuMDAwMDAwMDAwICAwMDAwMDAwICAgMDAwIDAgMDAwICAwMDAgICAwMDAgIFxuMDAwIDAgMDAwICAwMDAgICAgICAgMDAwICAwMDAwICAwMDAgICAwMDAgIFxuMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAgMDAwMDAwMCAgIFxuIyMjXG5cbnsgc3RvcEV2ZW50LCBrZXlpbmZvLCBwb3B1cCwgcG9zdCwgZWxlbSwgbG9nIH0gPSByZXF1aXJlICcuL2t4aydcblxuY2xhc3MgTWVudVxuICAgIFxuICAgIGNvbnN0cnVjdG9yOiAob3B0KSAtPlxuICAgICAgICBcbiAgICAgICAgQGVsZW0gPSBlbGVtIGNsYXNzOiAnbWVudScsIHRhYmluZGV4OiAzXG4gICAgICAgIFxuICAgICAgICBmb3IgaXRlbSBpbiBvcHQuaXRlbXNcbiAgICAgICAgICAgIGNvbnRpbnVlIGlmIGl0ZW0uaGlkZVxuICAgICAgICAgICAgZGl2ID0gZWxlbSBjbGFzczogJ21lbnVJdGVtJywgdGV4dDogaXRlbS50ZXh0XG4gICAgICAgICAgICBkaXYuaXRlbSA9IGl0ZW1cbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyICdjbGljaycsIEBvbkNsaWNrXG4gICAgICAgICAgICBpZiBpdGVtLmNvbWJvP1xuICAgICAgICAgICAgICAgIGNvbWJvID0gZWxlbSAnc3BhbicsIGNsYXNzOiAncG9wdXBDb21ibycsIHRleHQ6IGtleWluZm8uc2hvcnQgaXRlbS5jb21ib1xuICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCBjb21ib1xuICAgICAgICAgICAgQGVsZW0uYXBwZW5kQ2hpbGQgZGl2XG5cbiAgICAgICAgQHNlbGVjdCBAZWxlbS5maXJzdENoaWxkXG4gICAgICAgICAgICBcbiAgICAgICAgQGVsZW0uYWRkRXZlbnRMaXN0ZW5lciAna2V5ZG93bicsICAgQG9uS2V5RG93blxuICAgICAgICBAZWxlbS5hZGRFdmVudExpc3RlbmVyICdmb2N1c291dCcsICBAb25Gb2N1c091dFxuICAgICAgICBAZWxlbS5hZGRFdmVudExpc3RlbmVyICdtb3VzZW92ZXInLCBAb25Ib3ZlclxuICAgICAgICBcbiAgICAjIDAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICBcbiAgICAjIDAwMDAwMCAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgICAgMDAwICBcbiAgICAjIDAwMCAgICAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAgICBcbiAgICBcbiAgICBmb2N1czogPT4gXG4gICAgICAgIFxuICAgICAgICBAZm9jdXNFbGVtID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgICBAZWxlbS5mb2N1cygpXG4gICAgICAgIFxuICAgIGJsdXI6ID0+IEBjbG9zZSgpOyBAZm9jdXNFbGVtPy5mb2N1cz8oKVxuICAgIFxuICAgIG9uSG92ZXI6IChldmVudCkgPT4gQHNlbGVjdCBldmVudC50YXJnZXQsIHNlbGVjdEZpcnN0SXRlbTpmYWxzZVxuICAgIFxuICAgIG9uRm9jdXNPdXQ6IChldmVudCkgPT4gXG4gICAgICAgIFxuICAgICAgICBpZiBAcG9wdXAgYW5kIG5vdCBldmVudC5yZWxhdGVkVGFyZ2V0Py5jbGFzc0xpc3QuY29udGFpbnMgJ3BvcHVwJ1xuICAgICAgICAgICAgQHBvcHVwLmNsb3NlIGZvY3VzOmZhbHNlXG4gICAgICAgICAgICBkZWxldGUgQHBvcHVwXG4gICAgXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMDAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAwIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAgMDAwICAgICAgIDAwMCAgMDAwMCAgXG4gICAgIyAgMDAwMDAwMCAgIDAwMCAgICAgICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgXG4gICAgb3BlbjogLT4gQHNlbGVjdCBAZWxlbS5maXJzdENoaWxkLCBhY3RpdmF0ZTp0cnVlXG4gICAgICAgICAgICBcbiAgICAjICAwMDAwMDAwICAwMDAgICAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgIyAwMDAgICAgICAgMDAwICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAgICAwMDAgICAwMDAgICAgICAgMDAwICAwMDAgICAgICAgXG4gICAgIyAgMDAwMDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgIFxuICAgIFxuICAgIGNsb3NlOiAob3B0PXt9KSA9PlxuICAgICAgICBcbiAgICAgICAgaWYgQHBvcHVwP1xuICAgICAgICAgICAgQHBvcHVwLmNsb3NlIGZvY3VzOmZhbHNlXG4gICAgICAgICAgICBkZWxldGUgQHBvcHVwXG4gICAgICAgICAgICBpZiBvcHQuZm9jdXMgIT0gZmFsc2VcbiAgICAgICAgICAgICAgICBAZWxlbS5mb2N1cygpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlmIG9wdC5mb2N1cyAhPSBmYWxzZVxuICAgICAgICAgICAgICAgIEBmb2N1c0VsZW0/LmZvY3VzPygpXG4gICAgICAgICAgICBcbiAgICBjaGlsZENsb3NlZDogKGNoaWxkLCBvcHQpIC0+XG4gICAgICAgIFxuICAgICAgICBpZiBjaGlsZCA9PSBAcG9wdXBcbiAgICAgICAgICAgIGRlbGV0ZSBAcG9wdXBcbiAgICAgICAgICAgIGlmIG9wdC5mb2N1cyAhPSBmYWxzZVxuICAgICAgICAgICAgICAgIEBlbGVtLmZvY3VzKClcbiAgICBcbiAgICAjICAwMDAwMDAwICAwMDAwMDAwMCAgMDAwICAgICAgMDAwMDAwMDAgICAwMDAwMDAwICAwMDAwMDAwMDAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAgICAwMDAgICAgICAgMDAwICAgICAgICAgIDAwMCAgICAgXG4gICAgIyAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgICAgIDAwMDAwMDAgICAwMDAgICAgICAgICAgMDAwICAgICBcbiAgICAjICAgICAgMDAwICAwMDAgICAgICAgMDAwICAgICAgMDAwICAgICAgIDAwMCAgICAgICAgICAwMDAgICAgIFxuICAgICMgMDAwMDAwMCAgIDAwMDAwMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgIDAwMDAwMDAgICAgIDAwMCAgICAgXG4gICAgXG4gICAgc2VsZWN0OiAoaXRlbSwgb3B0PXt9KSAtPiBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBpZiBub3QgaXRlbT9cbiAgICAgICAgXG4gICAgICAgIGlmIEBwb3B1cD9cbiAgICAgICAgICAgIGhhZFBvcHVwID0gdHJ1ZVxuICAgICAgICAgICAgQHBvcHVwLmNsb3NlIGZvY3VzOmZhbHNlXG4gICAgICAgIFxuICAgICAgICBAc2VsZWN0ZWQ/LmNsYXNzTGlzdC5yZW1vdmUgJ3NlbGVjdGVkJ1xuICAgICAgICBAc2VsZWN0ZWQgPSBpdGVtXG4gICAgICAgIEBzZWxlY3RlZC5jbGFzc0xpc3QuYWRkICdzZWxlY3RlZCdcbiAgICAgICAgXG4gICAgICAgIGlmIGhhZFBvcHVwIG9yIG9wdC5hY3RpdmF0ZVxuICAgICAgICAgICAgZGVsZXRlIEBwb3B1cFxuICAgICAgICAgICAgQGFjdGl2YXRlIGl0ZW0sIG9wdFxuICAgICAgICBcbiAgICAjICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwICAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIFxuICAgICMgMDAwMDAwMDAwICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgICAwMDAgMDAwICAgMDAwMDAwMDAwICAgICAwMDAgICAgIDAwMDAwMDAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAgICAwMDAgICAwMDAwMDAwICAgICAwMDAgICAgIDAwMCAgICAgIDAgICAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwMDAwMDAgIFxuICAgIFxuICAgIGFjdGl2YXRlOiAoaXRlbSwgb3B0PXt9KSAtPiBcbiAgICAgICAgXG4gICAgICAgIGl0ZW1zID0gaXRlbS5pdGVtLm1lbnVcbiAgICAgICAgXG4gICAgICAgIGlmIGl0ZW1zXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBwb3B1cFxuICAgICAgICAgICAgICAgIEBwb3B1cC5jbG9zZSBmb2N1czpmYWxzZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBAcG9wdXBcblxuICAgICAgICAgICAgYnIgPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICBwciA9IGl0ZW0ucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgb3B0Lml0ZW1zID0gaXRlbXNcbiAgICAgICAgICAgIG9wdC5wYXJlbnQgPSBAXG4gICAgICAgICAgICBvcHQueCA9IGJyLmxlZnRcbiAgICAgICAgICAgIG9wdC55ID0gcHIudG9wK3ByLmhlaWdodFxuICAgICAgICAgICAgQHBvcHVwID0gcG9wdXAubWVudSBvcHRcbiAgICAgICAgICAgIGlmIG9wdC5zZWxlY3RGaXJzdEl0ZW0gPT0gZmFsc2VcbiAgICAgICAgICAgICAgICBAZWxlbS5mb2N1cygpXG5cbiAgICB0b2dnbGU6IChpdGVtKSAtPlxuICAgICAgICBcbiAgICAgICAgaWYgQHBvcHVwXG4gICAgICAgICAgICBAcG9wdXAuY2xvc2UgZm9jdXM6ZmFsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBAcG9wdXBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGFjdGl2YXRlIGl0ZW0sIHNlbGVjdEZpcnN0SXRlbTpmYWxzZVxuICAgICAgICAgICAgXG4gICAgaXRlbVNlbGVjdGVkOiAoaXRlbSwgZWxlbSkgLT5cbiAgICAgICAgICAgIFxuICAgIGRlYWN0aXZhdGU6IChpdGVtKSAtPiBsb2cgaXRlbS5pdGVtXG5cbiAgICBuYXZpZ2F0ZUxlZnQ6ICAtPiBAc2VsZWN0IEBzZWxlY3RlZD8ucHJldmlvdXNTaWJsaW5nLCBhY3RpdmF0ZTp0cnVlLCBzZWxlY3RGaXJzdEl0ZW06ZmFsc2VcbiAgICBuYXZpZ2F0ZVJpZ2h0OiAtPiBAc2VsZWN0IEBzZWxlY3RlZD8ubmV4dFNpYmxpbmcsICAgICBhY3RpdmF0ZTp0cnVlLCBzZWxlY3RGaXJzdEl0ZW06ZmFsc2VcbiAgICBcbiAgICAjIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgIDAwMCAgIDAwMCAgICAgICAgMDAwIDAwMCAgIFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgICAwMDAwMCAgICBcbiAgICAjIDAwMCAgMDAwICAgMDAwICAgICAgICAgIDAwMCAgICAgXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgICAwMDAgICAgIFxuICAgIFxuICAgIG9uS2V5RG93bjogKGV2ZW50KSA9PlxuICAgICAgICBcbiAgICAgICAgeyBtb2QsIGtleSwgY29tYm8gfSA9IGtleWluZm8uZm9yRXZlbnQgZXZlbnRcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBjb21ib1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB3aGVuICdlbmQnLCAncGFnZSBkb3duJyAgICAgICAgIHRoZW4gc3RvcEV2ZW50IGV2ZW50LCBAc2VsZWN0IEBlbGVtLmxhc3RDaGlsZCwgIGFjdGl2YXRlOnRydWUsIHNlbGVjdEZpcnN0SXRlbTpmYWxzZVxuICAgICAgICAgICAgd2hlbiAnaG9tZScsICdwYWdlIHVwJyAgICAgICAgICB0aGVuIHN0b3BFdmVudCBldmVudCwgQHNlbGVjdCBAZWxlbS5maXJzdENoaWxkLCBhY3RpdmF0ZTp0cnVlLCBzZWxlY3RGaXJzdEl0ZW06ZmFsc2VcbiAgICAgICAgICAgIHdoZW4gJ2VudGVyJywgJ2Rvd24nLCAnc3BhY2UnICAgdGhlbiBzdG9wRXZlbnQgZXZlbnQsIEBhY3RpdmF0ZSBAc2VsZWN0ZWRcbiAgICAgICAgICAgIHdoZW4gJ2VzYycgICAgICAgICAgICAgICAgICAgICAgdGhlbiBzdG9wRXZlbnQgZXZlbnQsIEBjbG9zZSgpXG4gICAgICAgICAgICB3aGVuICdyaWdodCcgICAgICAgICAgICAgICAgICAgIHRoZW4gc3RvcEV2ZW50IGV2ZW50LCBAbmF2aWdhdGVSaWdodCgpXG4gICAgICAgICAgICB3aGVuICdsZWZ0JyAgICAgICAgICAgICAgICAgICAgIHRoZW4gc3RvcEV2ZW50IGV2ZW50LCBAbmF2aWdhdGVMZWZ0KClcbiAgICAgICAgICAgIFxuICAgIG9uQ2xpY2s6IChlKSA9PiBAdG9nZ2xlIGUudGFyZ2V0XG4gICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSBNZW51XG4iXX0=
//# sourceURL=C:/Users/t.kohnhorst/s/kxk/coffee/menu.coffee